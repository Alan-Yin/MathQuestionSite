{"version":3,"sources":["assets/logo.png","redux/index.js","utils/constant.js","components/PaperSelect.js","api/index.js","components/LoginDialog.js","components/NavBar.js","components/EditTopicSelect.js","components/SubmitButton.js","components/AddTopicType.js","components/AddTopicAnswer.js","components/KatexEditor.js","pages/AddTopic.js","components/EditTopicTop.js","components/EditTopicTabs.js","components/TopicDeleteDialog.js","components/TopicButton.js","components/TopicBox.js","pages/EditTopic.js","components/LabelTabs.js","components/LabelAdd.js","components/Label.js","components/LabelDeleteDialog.js","components/LoadingDialog.js","pages/LabelManangement.js","utils/function.js","components/EnterPaperNumberDialog.js","pages/Login.js","assets/check.svg","assets/upload.png","assets/question.png","components/ChooseTopicTabs.js","components/ChoosedBox.js","components/PreviewButton.js","components/PreviewDialog.js","components/EditYearSelect.js","pages/Question.js","components/PreviewTabs.js","components/PdfPreview.js","pages/Preview.js","assets/paper.svg","components/RePaperDialog.js","pages/Score.js","components/ProtectedRoute.js","App.js","reportWebVitals.js","index.js"],"names":["initState","isLoading","isLogin","topicLabel","ContextStore","React","createContext","loadingReducer","state","action","console","log","type","Object","assign","loginReducer","storage","window","localStorage","login","topicLabelReducer","concat","id","appText","editTopic","choostYear","choostYearButton","choostAddTopicCategory","choostAddTopicCategoryButton","inquiry","labelManagement","topicCategory","year","grade","addCategory","rename","delete","deleteDescription","cancel","singleTopic","multipleTopic","fillTopic","textEdit","chooseTopicType","correctAnswer","add","edit","deleteTopic","uploadFile","question","backpage","choosedTopic","haventChoosed","chooseTopic","previewTopic","choosePaperType","enterStudentName","paperType","previewPaper","enterUnitName","enterPaperNumber","repeatAnswerNumber","allocation","paperInformation","singleAllocation","multipleAllocation","fillAllocation","enterPropotion","topic","answerDetail","topicAndAnswerDetail","downloadTopic","ensure","enterFalse","studentName","faultType","answerNumber","score","chooseTopicNumber","topicNumber","enterAccount","enterPassword","testAccount","testPassword","logout","useStyles","makeStyles","theme","logo","marginLeft","spacing","title","flexGrow","justifyContent","buttonAdd","color","backgroundColor","border","marginRight","height","width","boxShadow","padding","fontSize","borderRadius","alignItems","buttonLabel","root","margin","toolBar","titleText","fontWeight","fontFamily","selectText","marginTop","selectTextCustomized","formControl","menu","select","selectRoot","flex","menuText","PaperSelect","defaultValue","menuData","setContent","classes","useState","value","setValue","style","display","flexDirection","Select","labelId","displayEmpty","onChange","event","target","IconComponent","ExpandMoreIcon","className","variant","MenuProps","paper","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","MenuItem","onClick","Typography","map","e","index","content","renderMenuItem","API_URL","labelInquiryMany","route","body","fetch","method","headers","JSON","stringify","then","res","json","result","catch","error","labelList","topicAdd","topicEdit","topicInquiry","paperAnswerAdd","adminLogin","DialogContentText","withStyles","MuiDialogContentText","DialogActions","MuiDialogActions","minWidth","button","buttonDelete","textField","borderWidth","placeholder","textDecoration","LoginDialog","forwardRef","props","ref","open","setOpen","yearLabelData","choosedTopicData","account","setAccount","password","setPassword","handleClose","history","useHistory","handleLogin","loginBool","isLoginDispatch","push","pathname","alert","useContext","Dialog","onClose","PaperProps","TextField","InputProps","input","Button","appbar","borderBottom","NavBar","AppBar","elevation","position","Toolbar","to","src","alt","disableRipple","component","Link","EditTopicSelect","data","allChoose","topicLabelProps","setTopicLabelProps","setTopicLabel","setYearLabel","yearLabel","setMenuData","level","setLevel","next","setNext","useEffect","renderNext","topicLabelState","topicLabelDispatch","isLoadingDispatch","returnData","length","pop","option","_id","find","element","SubmitButton","disabled","icon","backgroundImage","outline","outlineOffset","background","checkedIcon","labelRoot","labelText","StyledRadio","Radio","clsx","AddTopicType","setType","useRef","FormControl","row","RadioGroup","name","FormControlLabel","label","control","autoComplete","chip","chipLabel","AddTopicAnswer","answer","setAnswer","Chip","onKeyPress","ev","key","newParams","onKeyDown","Quill","register","ImageDrop","ImageResize","ImageCompress","KatexEditor","hasAnswer","reactQuill","enableMathQuillFormulaAuthoring","mathquill4quill","answerOperator","current","editor","operators","toolbarOptions","container","list","handlers","image","selectLocalImage","minHeight","marginBottom","modules","formula","toolbar","imageDrop","imageResize","imageCompress","quality","maxWidth","maxHeight","imageType","debug","document","createElement","setAttribute","click","onchange","file","files","test","warn","header","borderBottomColor","textEditInput","AddTopic","labelData","setLabelData","refetch","setAnswerDetail","fetchData","Promise","all","verifyContent","numberCountArray","num","split","returnVerify","answerCount","answerCountArray","Array","fill","toString","count","handleAdd","verify","validation","go","size","Item","useParams","context","fetchingData","handleEdit","goBack","PathItem","path","exact","EditTopicTop","useRouteMatch","url","indicator","tabRoot","EditTopicTabs","handleChange","allTabs","Tabs","indicatorColor","textColor","Tab","TopicDeleteDialog","onSubmit","handleDelete","buttonEdit","TopicButton","TopicBox","borderTopWidth","borderLeftWidth","borderRightWidth","dangerouslySetInnerHTML","__html","bottomRoot","EditTopic","setInquiry","setData","isTab","findIndex","newValue","LabelTabs","paddingBottom","paddingTop","paddingLeft","rootActive","addIcon","addText","LabelAdd","setAddLabel","setRefetch","active","setActive","classNameRoot","addEventListener","textFieldRef","nativeEvent","stopImmediatePropagation","stopPropagation","preventDefault","labelAdd","autoFocus","onBlur","inputRef","arrowIcon","arrowDownIcon","moreButtonRoot","addLayerRoot","moreIcon","redDot","rightButtonDiv","paperRoot","menuItem","Label","addButton","deleteOnclick","layerDown","setLayerDown","setRename","anchorRef","renameText","setRenameText","addLabel","contains","handleRename","handleListKeyDown","onMouseOver","onMouseLeave","labelRename","undefined","prevOpen","Popper","anchorEl","role","transition","placement","TransitionProps","Grow","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","LabelDeleteDialog","setId","useImperativeHandle","handleClickOpen","labelDelete","backdrop","zIndex","drawer","LoadingDialog","Backdrop","CircularProgress","topicRoot","deleteRef","renderData","components","LabelManangement","calculateScore","number","response","false","EnterPaperNumberDialog","uploadData","setAnswerNumber","valid","setValid","handleEnsure","answerData","setTimeout","isName","isNumber","numberIndex","isAnswer","answerIndex","singlePropotion","singleCount","multiplePropotion","multipleCount","fillPropotion","fillCount","answerLengthArray","scoreEach","parseInt","i","topicList","testerAnswer","repeat","testAnswerSlice","j","slice","answerSlice","faultLabel","sliceIndex","answerLengthArrayIndex","equal","filter","elem","self","indexOf","paperNumber","unitname","square","flexFlow","cursor","text","Login","_path","setUploadData","hiddenFileInput","fileUploaded","Papa","complete","results","nameIndex","ChooseTopicTabs","_excluded","_extends","bind","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCheck","_ref","svgRef","titleId","viewBox","xmlns","d","ForwardRef","checkBox","checkBoxActive","ChoosedBox","handleChoose","propsChecked","previewButton","PreviewButton","DialogContentTitleText","RePaperDialog","setPaperType","setYear","setStudentName","setUnitname","setSinglePropotion","setMultiplePropotion","setFillPropotion","autoGenerateUnitName","unitArray","lastLabel","generatedUnitName","singleData","multipleData","fillData","handlePreview","sort","a","b","answerLength","ans","propotionValidation","singleBool","multipleBool","fillBool","trim","totalPropotion","parseFloat","newSinglePropotion","newMultiplePropotion","newFillPropotion","toFixed","inputProps","inputmode","pattern","indeterminateColor","selectAllText","selectedAll","EditYearSelect","selected","setSelected","isAllSelected","multiple","dataContent","dataId","currentTarget","getAttribute","renderValue","join","Checkbox","indeterminate","checked","titleTextCustomized","chooseTopicTextCustomized","navigateBefore","previewText","inquiryRoot","haventChoosedText","Question","setChoosedTopicData","inquiryData","setInquiryData","valueSecond","setValueSecond","newChoosedTopicData","item","nullData","renderTopicChoosed","PreviewDialog","PreviewTabs","StyleSheet","create","page","section","pdfMake","vfs","pdfFonts","fontSizeRatio","require","Topic","startIndex","numberList","setIndexPositionY","setTopicPositionY","divIndex","useCallback","node","getBoundingClientRect","y","childPositionY","divTopic","children","firstChild","bottom","paddingRight","lineHeight","Preview","location","useLocation","renderPreviewTopicContent","indexArray","propotionArray","parse","strChar","charAt","found","newStrChar","replace","renderPreviewTopicAnswerContent","fontScale","renderPreviewTopic","renderPreviewTopicAnswer","getElementById","querySelectorAll","forEach","elementTopic","innerHTML","elementTopicAnswer","pages","opt","filename","html2canvas","scale","scrollX","scrollY","pagebreak","mode","jsPDF","format","orientation","doc","html2pdf","set","from","toPdf","get","pdf","addPage","toContainer","toCanvas","toImg","save","visibility","SvgPaper","stroke","strokeWidth","strokeLinecap","strokeLinejoin","faultFetchingData","singleNumber","setSingleNumber","multipleNumber","setMultipleNumber","fillNumber","setFillNumber","singleOption","setSingleOption","multipleOption","setMultipleOption","fillOption","setFillOption","isPaper","shuffledSingleData","Math","random","selectedSingle","shuffledMultipleData","selectedMultiple","shuffledFillData","selectedFill","gradeRoot","tableRoot","categoryText","itemText","labelItem","boxRoot","borderTop","LabelItem","ScoreBox","fault","setFaultFetchingData","isHover","setIsHover","onMouseEnter","Score","scoreIndex","faultIndex","renderList","ProtectedRoute","menuButton","app","createMuiTheme","typography","textTransform","App","useReducer","isLoadingState","isLoginState","loadingRef","createBrowserHistory","Provider","ThemeProvider","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"gZAAe,MAA0B,iC,gBCE5BA,EAAY,CAAEC,WAAW,EAAOC,SAAS,EAAOC,WAAY,IAE5DC,EAAeC,IAAMC,cAAcN,GAYzC,SAASO,EAAeC,EAAOC,GAEpC,OADAC,QAAQC,IAAI,iBAAkBH,EAAOC,GAC7BA,EAAOG,MACb,IAAK,cAEH,OADAF,QAAQC,IAAIH,EAAOC,GACZI,OAAOC,OAAO,CAAC,EAAGN,EAAO,CAC9BP,WAAW,IAEf,IAAK,eAEH,OADAS,QAAQC,IAAIH,EAAOC,GACZI,OAAOC,OAAO,CAAC,EAAGN,EAAO,CAC9BP,WAAW,IAEf,QACE,OAAOO,EAEZ,CAEM,SAASO,EAAaP,EAAOC,GAClC,IAAIO,EAAUC,OAAOC,aAErB,OADAR,QAAQC,IAAI,UAAUK,GACdP,EAAOG,MACb,IAAK,QAGH,OADAI,EAAQG,MAAQ,OACTN,OAAOC,OAAO,CAAC,EAAGN,EAAO,CAC9BN,SAAS,IAEb,IAAK,SAEH,OADAc,EAAQG,MAAQ,QACTN,OAAOC,OAAO,CAAC,EAAGN,EAAO,CAC9BN,SAAS,IAGb,QACE,OAAOM,EAEZ,CAEM,SAASY,EAAkBZ,EAAOC,GAEvC,OADAC,QAAQC,IAAI,oBAAqBH,EAAOC,GAEjC,mBADCA,EAAOG,KAEJC,OAAOC,OAAO,GAAIN,EAAMa,OAAOZ,EAAOa,KAGtCd,CAEZ,C,uDChEYe,EAAU,CACrBC,UAAW,2BACXC,WAAY,iCACZC,iBAAkB,eAClBC,uBAAwB,yFACxBC,6BAA8B,CAC5B,iCACA,iCACA,iCACA,iCACA,kCAEFC,QAAS,eACTC,gBAAiB,2BACjBC,cAAe,2BACfC,KAAM,eACNC,MAAO,eACPC,YAAa,2BACbC,OAAQ,2BACRC,OAAQ,eACRC,kBACE,uLACFC,OAAQ,eACRC,YAAa,qBACbC,cAAe,qBACfC,UAAW,qBACXC,SAAU,2BACVC,gBAAiB,uCACjBC,cAAe,yCACfC,IAAK,eACLC,KAAM,eACNC,YAAa,yDACbC,WAAY,2BACZC,SAAU,eACVC,SAAU,2BACVC,aAAc,2BACdC,cAAe,2BACfC,YAAa,2BACbC,aAAc,2BACdC,gBAAiB,yDACjBC,iBAAkB,6CAElBC,UAAW,2BACXC,aAAc,2BAEdC,cAAe,6CACfC,iBAAkB,6CAClBC,mBAAoB,uCACpBC,WAAY,eACZC,iBAAkB,2BAClBC,iBAAkB,iCAClBC,mBAAoB,iCACpBC,eAAgB,iCAChBC,eAAgB,8BAChBC,MAAO,eACPC,aAAc,2BACdC,qBAAsB,6CACtBC,cAAe,2BACfC,OAAQ,eACRC,WAAY,2BACZC,YAAa,2BACbC,UAAW,2BACXC,aAAc,2BACdC,MAAO,eACPC,kBAAmB,2BACnBC,YAAa,eACb5D,MAAO,eACP6D,aAAc,2BACdC,cAAe,2BACfC,YAAa,2BACbC,aAAc,2BACdC,OAAQ,gB,mDC/CJC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbE,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElBc,KAAM,CACJC,OAAQrB,EAAMG,QAAQ,GACtBY,QAASf,EAAMG,QAAQ,GACvBc,aAAc,MAEdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,qCAEbQ,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzBoB,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,aAEdC,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACP,yBAA0B,CACxBmB,UAAW3B,EAAMG,QAAQ,KAG7ByB,qBAAsB,CAAC,EACvBC,YAAa,CACXF,UAAW3B,EAAMG,QAAQ,GACzBU,MAAO,IAEPC,UAAW,QAEbgB,KAAM,CACJH,UAAW,EACXV,aAAc,EACdH,UAAW,OACXJ,OAAQ,iCAEVqB,OAAQ,CACNnB,OAAQ,KAGVoB,WAAY,CACVC,KAAM,EACNrB,OAAQ,GACRD,YAAa,EACbgB,UAAW,EACX,kCAAmC,CACjClB,gBAAiB,SAGnB,qCAAsC,CACpCC,OAAQ,gCACRO,aAAc,GAGhB,2CAA4C,CAC1CP,OAAQ,gCACRO,aAAc,GAEhB,iDAAkD,CAChDP,OAAQ,gCACRO,aAAc,GAEhB,iBAAkB,CAChBR,gBAAiB,SAGrByB,SAAU,CACRV,WAAY,IACZR,SAAU,OACVR,MAAO,iBApHkB,IAiMd2B,EAzEK,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,WACvCC,EAAUzC,IAEhB,EAA0B0C,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAMAvH,QAAQC,IAAI,WAAWiH,GAsBvB,OACE,qBAAKM,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,SACE,eAACC,EAAA,EAAD,CACEC,QAAQ,oCACRhH,GAAG,8BAEH0G,MAAOA,EACPO,cAAY,EACZC,SAlCe,SAACC,GACpBR,EAASQ,EAAMC,OAAOV,MACvB,EAiCKW,cAAeC,IACfC,UAAWf,EAAQP,WACnBuB,QAAQ,WAERC,UAAW,CACTjB,QAAS,CAAEkB,MAAOlB,EAAQT,MAC1B4B,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdE,mBAAoB,MArBxB,UAwBE,cAACC,EAAA,EAAD,CACEtB,MAAO,GACPuB,QAAS,WACP1B,EAAW,GACZ,EAJH,SAME,cAAC2B,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SACGE,MArDY,SAACE,GAiBtB,OAhBmBD,EACfA,EAAS6B,KAAI,SAACC,EAAGC,GACf,OACE,cAACL,EAAA,EAAD,CACEtB,MAAO2B,EACPJ,QAAS,WACP1B,EAAW6B,EAAEE,QACd,EAJH,SAME,cAACJ,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SACGiC,EAAEE,WAIV,IACD,IAEL,CAsCMC,CAAehC,OAIvB,E,SCpNYiC,EAAU,yCA2CVC,EAAmB,SAACC,EAAOC,GACtC,OAAOC,MAAMJ,WAA0BE,EAAQ,eAAgB,CAC7DG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAGL,OAFAhK,QAAQC,IAAI+J,GAELA,CACR,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,EA0BYC,EAAY,SAACb,GAExB,OADAtJ,QAAQC,IAAIqJ,GACLE,MAAMJ,WAA0BE,EAAQ,aAAc,CAC3DG,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAGjBG,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAGL,OAFAhK,QAAQC,IAAI+J,GAELA,CACR,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,EA6BYE,EAAW,SACtBb,GAMA,OAAOC,MAAMJ,cAA4B,CACvCK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GACL,OAAOA,CACR,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,EAEYG,EAAY,SACvBd,GAMA,OAAOC,MAAMJ,eAA6B,CACxCK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GACL,OAAOA,CAER,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,EAEYI,EAAe,SAC1Bf,GAOA,OAFAvJ,QAAQC,IAAI,OAAQsJ,GAEbC,MAAMJ,kBAAgC,CAC3CK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAEL,OADAhK,QAAQC,IAAI+J,GACLA,CAER,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,EA0DYK,EAAiB,SAAChB,GAC7BC,MAAMJ,oBAAkC,CACtCK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GACLhK,QAAQC,IAAI+J,EACb,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,EAEYM,EAAa,SAACjB,GACzB,OAAOC,MAAMJ,EAAU,cAAe,CACpCK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAEL,OADAhK,QAAQC,IAAI,cAAe+J,GACpBA,CACR,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,ECrQKO,GATyBC,aAAW,SAAC7F,GAAD,MAAY,CACpDoB,KAAM,CACJC,OAAQ,EACRG,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAL4B,GAAX6E,CAO3BC,KAEsBD,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,mBACRG,WAAY,IACZhB,MAAO,yBACPQ,SAAU,IALuB,GAAX6E,CAOtBC,MAEEC,EAAgBF,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,mBACRN,QAAS,WAHoB,GAAX8E,CAKlBG,KAEElG,EAAYC,aAAW,iBAAO,CAClC0D,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SAGfsF,UAAW,CACTxF,OAAQ,GACRqB,KAAM,EACN,wGACE,CACEW,QAAS,QAEb,qCAAsC,CACpCyD,YAAa,GAEf,oCAAqC,CACnCA,YAAa,GAEf,8BAA+B,CAC7BA,YAAa,GAEf,+BAAgC,CAC9BA,YAAa,GAEf,yBAA0B,CACxBzF,OAAQ,GACRG,QAAS,IAGbuF,YAAa,CACXtF,SAAU,GACVR,MAAO,sBACPgB,WAAY,IACZ+E,eAAgB,MAElBnF,KAAM,CACJR,OAAQ,GACRF,OAAQ,gCACRkC,QAAS,OACT1B,WAAY,SACZH,QAAS,mBACTJ,YAAa,EACbgB,UAAW,EACXV,aAAc,GA9DW,IAkEvBuF,EAAc1L,IAAM2L,YAAW,SAACC,EAAOC,GAC3C,IAAQC,EAAmDF,EAAnDE,KAAMC,EAA6CH,EAA7CG,QAEd,GAF2DH,EAApCI,cAAoCJ,EAArBK,iBAERvE,mBAAS,KAAvC,mBAAOwE,EAAP,KAAgBC,EAAhB,KAEA,EAAgCzE,mBAAS,IAAzC,mBAAO0E,EAAP,KAAiBC,EAAjB,KAEM5E,EAAUzC,IAIVsH,EAAc,WAClBP,GAAQ,GAERI,EAAW,IACXE,EAAY,GACb,EAEKE,EAAUC,cAEVC,EAAW,iDAAG,uGACZ7C,EAAO,CACXsC,UACAE,YAEF/L,QAAQC,IAAI,OAAQsJ,GALF,SAMMiB,EAAWjB,GANjB,OAMZ8C,EANY,OAQlBrM,QAAQC,IAAI,YAAaoM,GACrBA,GACFC,EAAgB,CAAEpM,KAAM,UAExBgM,EAAQK,KAAK,CACXC,SAAU,0BAEZV,EAAW,IACXE,EAAY,IACZN,GAAQ,IAERe,MAAM,wCAnBU,2CAAH,qDAsBjB,EAAqCC,qBAAWhN,GAA/B4M,GAAjB,EAAQ9M,QAAR,EAAiB8M,iBAEjB,EAA0BjF,mBAAS,IAAnC,6BAEA,OACE,eAACsF,EAAA,EAAD,CACEC,QAASX,EACTR,KAAMA,EACNoB,WAAY,CACVrF,MAAO,CACL9B,MAAO,IAEPI,aAAc,EACdP,OAAQ,mCACRI,UAAW,OACXC,QAAS,KAVf,UAcE,eAAC,EAAD,WACG/E,EAAQ2D,YADX,0BAGA,eAAC,EAAD,WACG3D,EAAQ4D,aADX,2BAIA,cAAC,EAAD,UAAoB5D,EAAQyD,eAC5B,qBAAK6D,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACExF,MAAOuE,EACP/D,SAAU,SAACkB,GACT8C,EAAW9C,EAAEhB,OAAOV,MACrB,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAa,OAIjB,cAAC,EAAD,UAAoBtK,EAAQ0D,gBAC5B,qBAAK4D,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACExF,MAAOyE,EACPjE,SAAU,SAACkB,GACTgD,EAAYhD,EAAEhB,OAAOV,MACtB,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAa,OAIjB,eAAC,EAAD,WACE,cAAC8B,EAAA,EAAD,CAAQ9E,UAAWf,EAAQ2D,OAAQlC,QAASoD,EAA5C,SACGpL,EAAQe,SAEX,cAACqL,EAAA,EAAD,CACE9E,UAAS,UAAKf,EAAQ2D,OAAb,YAAuB3D,EAAQ4D,cACxCnC,QAASuD,EAFX,SAIGvL,EAAQJ,aAKlB,IAEc4K,IC9MT1G,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJf,SAAU,GAEZJ,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAa,EACbC,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPF,YAAa,EAEbF,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElB+H,OAAQ,CACNC,aAAc,mCAEd7H,gBAAiB,QACjBG,OAAQ,GACRN,eAAgB,UAElBgB,QAAS,CACPP,QAASf,EAAMG,QAAQ,IA1DE,IA6HdoI,OAhEf,WACE,IAAMhG,EAAUzC,IAEhB,GADgBwH,cACqBO,qBAAWhN,IAA/B4M,GAAjB,EAAQ9M,QAAR,EAAiB8M,iBAET7L,EADMF,OAAOC,aACbC,MAGR,EAAwB4G,oBAAS,GAAjC,mBAAOoE,EAAP,KAAaC,EAAb,KACA,OACE,eAAC2B,EAAA,EAAD,CAAQC,UAAW,EAAGnF,UAAWf,EAAQ8F,OAAQK,SAAS,SAA1D,UACE,eAACC,EAAA,EAAD,CAASrF,UAAWf,EAAQjB,QAA5B,UACE,cAAC,IAAD,CAAMsH,GAAc,SAAVhN,EAAmB,yBAA2B,IAAxD,SACE,qBAAK0H,UAAWf,EAAQtC,KAAM4I,IAAK5I,EAAM6I,IAAI,OAE/C,qBAAKxF,UAAWf,EAAQnC,QAEb,SAAVxE,EACC,gCACE,cAACwM,EAAA,EAAD,CACEW,eAAa,EACbzF,UAAWf,EAAQhC,UACnByI,UAAWC,IACXL,GAAG,YAJL,sCAQA,cAACR,EAAA,EAAD,CACEW,eAAa,EACbzF,UAAWf,EAAQpB,YACnB6H,UAAWC,IACXL,GAAG,iCAJL,sCAQA,cAACR,EAAA,EAAD,CACEpE,QAAS,WACPyD,EAAgB,CAAEpM,KAAM,UACzB,EACD2N,UAAWC,IACXL,GAAG,IACHG,eAAa,EACbzF,UAAWf,EAAQpB,YAPrB,SASGnF,EAAQ6D,YAIb,cAACuI,EAAA,EAAD,CACEpE,QAAS,WACP6C,GAAQ,EACT,EACDkC,eAAa,EACbzF,UAAWf,EAAQpB,YALrB,SAOGnF,EAAQJ,WAIf,cAAC,EAAD,CAAagL,KAAMA,EAAMC,QAASA,MAGvC,EClHK/G,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbE,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElBc,KAAM,CACJC,OAAQrB,EAAMG,QAAQ,GACtBY,QAASf,EAAMG,QAAQ,GACvBc,aAAc,MAEdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,qCAEbQ,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzBoB,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,aAEdC,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACP,yBAA0B,CACxBmB,UAAW3B,EAAMG,QAAQ,KAG7ByB,qBAAsB,CAAC,EACvBC,YAAa,CACXF,UAAW3B,EAAMG,QAAQ,GACzBU,MAAO,IAEPC,UAAW,QAEbgB,KAAM,CACJH,UAAW,EACXV,aAAc,EACdH,UAAW,OACXJ,OAAQ,iCAEVqB,OAAQ,CACNnB,OAAQ,KAGVoB,WAAY,CACVnB,MAAO,IACPD,OAAQ,GACRD,YAAaX,EAAMG,QAAQ,GAC3BwB,UAAW3B,EAAMG,QAAQ,GACzB,kCAAmC,CACjCM,gBAAiB,SAGnB,qCAAsC,CACpCC,OAAQ,gCACRO,aAAc,GAGhB,2CAA4C,CAC1CP,OAAQ,gCACRO,aAAc,GAEhB,iDAAkD,CAChDP,OAAQ,gCACRO,aAAc,GAEhB,iBAAkB,CAChBR,gBAAiB,SAGrByB,SAAU,CACRV,WAAY,IACZR,SAAU,OACVR,MAAO,iBApHkB,IAsRd0I,GA9JS,SAAlBA,EAAmB,GASlB,IARL9G,EAQI,EARJA,aACA+G,EAOI,EAPJA,KACA/E,EAMI,EANJA,MACAgF,EAKI,EALJA,UACYC,EAIR,EAJJzO,WACe0O,EAGX,EAHJC,cAEAC,GACI,EAFJC,UAEI,EADJD,cAEMjH,EAAUzC,KAChB,EAA0B0C,mBAASJ,GAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS2G,GAAzC,mBAAO9G,EAAP,KAAiBqH,EAAjB,KACA,EAA0BlH,mBAAS,IAAnC,mBAAOmH,EAAP,KAAcC,EAAd,KACA,EAAwBpH,mBAAS,MAAjC,mBAAOqH,EAAP,KAAaC,EAAb,KAEA,EAAoCtH,mBAAS6G,GAA7C,mBAAOzO,EAAP,UAKAmP,qBAAU,WACR5O,QAAQC,IAAI,WACZ0O,EAAQE,EAAWL,EAAOvF,GAC3B,GAAE,CAACuF,IAEJI,qBAAU,WACR5O,QAAQC,IAAI,WACZsH,EAASN,GACT0H,EAAQ,MACRJ,EAAYP,EACb,GAAE,CAACA,IAEJ,MACEtB,qBAAWhN,GADLoP,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,mBAwCnBF,GAxCN,EAA6CtP,UAA7C,EAAwDyP,kBAwCrC,SAACR,EAAOvF,GACzB,IAAIgG,EAAa,GAWjB,OAViB,IAAjBT,EAAMU,QACJD,EAAW1C,KACT,cAACwB,EAAD,CACEC,KAAMQ,EACNvF,MAAOA,EAAQ,EACfhC,aAAcpG,EAAQK,6BAA6B+H,EAAQ,GAC3DxJ,WAAYA,EACZ2O,cAAeD,KAGdc,CACR,GAED,OACE,sBAAKzH,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,UACE,eAACC,EAAA,EAAD,CACEC,QAAQ,oCACRhH,GAAG,8BAEH0G,MAAOA,EACPO,cAAY,EACZC,SA9Ee,SAACC,GACpBR,EAASQ,EAAMC,OAAOV,MACvB,EA6EKW,cAAeC,IACfC,UAAWf,EAAQP,WACnBuB,QAAQ,WAERC,UAAW,CACTjB,QAAS,CAAEkB,MAAOlB,EAAQT,MAC1B4B,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdE,mBAAoB,MArBxB,UAwBGsF,GACC,cAACrF,EAAA,EAAD,CACEC,QAAS,SAACG,GACR,GAAIqF,EACFA,EAAa,SAKf,IAFAI,EAAS,IAEFK,EAAgBI,OAASjG,GAC9B6F,EAAgBK,KAEnB,EACD7H,MAAO,GAZT,SAcE,cAACwB,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SAA+C,mBAGnD,cAAC6B,EAAA,EAAD,CACEC,QAAS,SAACG,GACR,GAAIqF,EACFA,EAAaJ,EAAY,YAAc,SAKzC,IAFAQ,EAAS,IAEFK,EAAgBI,OAASjG,GAC9B6F,EAAgBK,KAEnB,EACD7H,MAAOL,EAZT,SAcE,cAAC6B,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SACGE,MA9GUC,EACfA,EAAS6B,KAAI,SAACqG,GACZ,OACE,cAACxG,EAAA,EAAD,CACEC,QAAS,SAACG,GACR,GAAIqF,EACFA,EAAae,EAAOC,UAQtB,GALArP,QAAQC,IAAI,kBAAmB6O,IAEjBrP,EAAW6P,MACvB,SAACC,GAAD,OAAaA,IAAYH,EAAOC,GAAhC,IAEF,CAIA,KAAOP,EAAgBI,OAASjG,GAC9B6F,EAAgBK,MAElBJ,EAAmB,CAAE7O,KAAM,iBAAkBU,GAAIwO,EAAOC,MAExDZ,EAASW,EAAOZ,MAPf,CAQF,EACDlH,MAAO8H,EAAOC,IAtBhB,SAwBE,cAACvG,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SACGqI,EAAOlG,WAIf,IACD,QAmFDwF,IAGN,ECrRK/J,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJP,MAAO,IACPD,OAAQ,GACRF,OAAQ,EACRO,aAAc,EACdR,gBAAiB,oBACjBkB,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACPgB,WAAY,IACZ,kBAAmB,CACjBhB,MAAO,sBACPC,gBAAiB,uBAEnB,WAAY,CACVA,gBAAiB,oBACjBD,MAAO,wBAhBgB,IA+BdmK,GAVM,SAAC,GAAmC,EAAjCC,SAAkC,IAAxBvG,EAAuB,EAAvBA,QAASL,EAAc,EAAdA,QACnCzB,EAAUzC,KAEhB,OACE,cAACsI,EAAA,EAAD,CAAQwC,UAAU,EAAOtH,UAAWf,EAAQnB,KAAM4C,QAASA,EAA3D,SACGK,GAGN,E,gDCvCKvE,GAAYC,YAAW,CAC3BqB,KAAM,CACJ,UAAW,CACTX,gBAAiB,gBAGrBoK,KAAM,CACJ5J,aAAc,MACdJ,MAAO,GACPD,OAAQ,GACRE,UAAW,sCACXL,gBAAiB,UACjBqK,gBACE,+DACF,2BAA4B,CAC1BC,QAAS,+BACTC,cAAe,GAGjB,qBAAsB,CACpBlK,UAAW,OACXmK,WAAY,yBAGhBC,YAAa,CACXzK,gBAAiB,oBACjBqK,gBACE,+DACF,WAAY,CACVlI,QAAS,QACT/B,MAAO,GACPD,OAAQ,GACRkK,gBAAiB,iDACjBzG,QAAS,OAGb8G,UAAW,CACTxK,YAAa,IAEfyK,UAAW,CACT5J,WAAY,IACZR,SAAU,UAId,SAASqK,GAAY3E,GACnB,IAAMnE,EAAUzC,KAEhB,OACE,cAACwL,GAAA,EAAD,aACEhI,UAAWf,EAAQnB,KACnB2H,eAAa,EACbvI,MAAM,UACN0K,YAAa,sBAAM5H,UAAWiI,aAAKhJ,EAAQsI,KAAMtI,EAAQ2I,eACzDL,KAAM,sBAAMvH,UAAWf,EAAQsI,QAC3BnE,GAGT,CAEc,SAAS8E,GAAT,GAA0C,IAAlBnQ,EAAiB,EAAjBA,KAAMoQ,EAAW,EAAXA,QAC3C,EAA0BjJ,mBAAS,IAAnC,mBAEMD,GAFN,UACmBmJ,mBACH5L,MAEhBiK,qBAAU,WAAQ,GAAE,IAIpB,OACE,8BACE,cAAC4B,GAAA,EAAD,CAAa3C,UAAU,WAAW4C,KAAG,EAArC,SACE,eAACC,GAAA,EAAD,CACED,KAAG,EACH,aAAW,WACXE,KAAK,WACL1J,aAAa,MACbK,MAAOpH,EACP4H,SAZa,SAACC,GACpBuI,EAAQvI,EAAMC,OAAOV,MACtB,EAIK,UAQE,cAACsJ,GAAA,EAAD,CACExJ,QAAS,CAAEnB,KAAMmB,EAAQ4I,UAAWa,MAAOzJ,EAAQ6I,WACnD3I,MAAO,IACPwJ,QAAS,cAACZ,GAAD,IACTW,MAAOhQ,EAAQgB,cAEjB,cAAC+O,GAAA,EAAD,CACExJ,QAAS,CAAEnB,KAAMmB,EAAQ4I,UAAWa,MAAOzJ,EAAQ6I,WACnD3I,MAAO,IACPwJ,QAAS,cAACZ,GAAD,IACTW,MAAOhQ,EAAQiB,gBAEjB,cAAC8O,GAAA,EAAD,CACExJ,QAAS,CAAEnB,KAAMmB,EAAQ4I,UAAWa,MAAOzJ,EAAQ6I,WACnD3I,MAAO,IACPwJ,QAAS,cAACZ,GAAD,IACTW,MAAOhQ,EAAQkB,kBAM1B,C,cC5GK4C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJR,OAAQ,GACRF,OAAQ,gCACRkC,QAAS,OACT1B,WAAY,SACZH,QAAS,YAEXmL,aAAc,CAAC,EACfC,KAAM,CACJ1L,gBAAiB,sBACjBG,OAAQ,GACRF,OAAQ,MACRC,YAAa,GAEfyL,UAAW,CACT5L,MAAO,qBAET4F,UAAW,CACTxF,OAAQ,GACRqB,KAAM,EACN,qCAAsC,CACpCoE,YAAa,GAEf,oCAAqC,CACnCA,YAAa,GAEf,8BAA+B,CAC7BA,YAAa,GAEf,+BAAgC,CAC9BA,YAAa,GAEf,yBAA0B,CACxBzF,OAAQ,GACRG,QAAS,IAGbuF,YAAa,CACXtF,SAAU,GACVR,MAAO,sBACPgB,WAAY,IACZ+E,eAAgB,MA1CS,IA8Cd,SAAS8F,GAAT,GAAgD,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UACzChK,EAAUzC,KAChB,EAA0B0C,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEA,OACE,sBAAKY,UAAWf,EAAQnB,KAAxB,UACGkL,EAAOpI,KAAI,SAACC,GACX,OACE,cAACqI,GAAA,EAAD,CACEjK,QAAS,CAAEnB,KAAMmB,EAAQ4J,KAAMH,MAAOzJ,EAAQ6J,WAC9C7I,QAAQ,WACRyI,MAAO7H,GAGZ,IACD,cAAC8D,EAAA,EAAD,CACExF,MAAOA,EACPQ,SAAU,SAACkB,GAEY,MAAnBA,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,MAAnB0B,EAAEhB,OAAOV,OACU,KAAnB0B,EAAEhB,OAAOV,OAOXC,EAASyB,EAAEhB,OAAOV,MACnB,EACDgK,WAAY,SAACC,GACX,GAAe,UAAXA,EAAGC,KAAmBlK,EAAO,CAC/BtH,QAAQC,IAAIqH,GACZ,IAAImK,EAAYN,EAChBnR,QAAQC,IAAIkR,GACZM,EAAUlF,KAAKjF,GACftH,QAAQC,IAAIkR,GAEZC,EAAUK,GACVlK,EAAS,GACV,CACF,EACDmK,UAAW,SAACH,GACV,GAAe,cAAXA,EAAGC,MAAwBlK,EAAO,CACpC,IAAImK,EAAYN,EAChBM,EAAUtC,MACVnP,QAAQC,IAAIkR,GAEZC,EAAUK,GAEVlK,EAAS,IACV,CACF,EACDwF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAagG,EAAOjC,OAAS,GAAK,oCAIzC,C,+HCnHDyC,SAAMC,SAAS,oBAAqBC,MACpCF,SAAMC,SAAS,sBAAuBE,MACtCH,SAAMC,SAAS,wBAAyBG,MAExC,IAAMpN,GAAYC,aAAW,iBAAO,CAAC,CAAR,IAEd,SAASoN,GAAT,GAA0D,IAAnC9I,EAAkC,EAAlCA,QAAS/B,EAAyB,EAAzBA,WAAY8K,EAAa,EAAbA,UACnDC,EAAa3B,mBACH5L,KAChBiK,qBAAU,WACR,IAAMuD,EAAkCC,KAAgB,CAAET,iBACpDU,EAAiBJ,EACnB,CACE,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,UAC5B,CAAC,0BAA2B,WAE9B,GACJE,EAAgCD,EAAWI,QAAQC,OAAQ,CACzDC,UAAU,CACR,CAAC,eAAgB,aACjB,CAAC,eAAgB,UACjB,CAAC,gBAAiB,SAClB,CAAC,QAAS,SACV,CAAC,UAAW,eACZ,CAAC,UAAW,kBANL,OAOJH,IAGR,GAAE,IACH,IAAII,EAAiB,CACnBC,UAAW,CACT,CAAC,OAAQ,UACT,CAAC,SACD,CAAC,CAAEC,KAAM,WAAa,CAAEA,KAAM,WAC9B,CAAC,YAEHC,SAAU,CACRC,MAAOC,KAIX,OACE,cAAC,KAAD,CACE3K,UAAW,CAAC,EACZqD,IAAK0G,EACL1K,MAAO,CAAEuL,UAAW,IAAKC,aAAc,IACvCC,QAAS,CACPC,SAAS,EAETC,QAASV,EACTW,WAAW,EACXC,YAAa,CAAC,EACdC,cAAe,CACbC,QAAS,EACTC,SAAU,IACVC,UAAW,IACXC,UAAW,aACXC,OAAO,IAGX9O,MAAM,OACNyC,MAAO4B,EACPpB,SAAU,SAACkB,GACT7B,EAAW6B,EACZ,GAGN,CAED,SAAS8J,KACP,IAAI9F,EAAQ4G,SAASC,cAAc,SACnC7G,EAAM8G,aAAa,OAAQ,QAC3B9G,EAAM+G,QAEN/G,EAAMgH,SAAW,WACf,IAAMC,EAAOjH,EAAMkH,MAAM,GACzBlU,QAAQC,IAAI,aAAcgU,GAEtB,WAAWE,KAAKF,EAAK/T,OAEvBF,QAAQoU,KAAK,oCAEhB,CACF,CCpED,IAAMzP,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbE,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElBc,KAAM,CACJL,QAASf,EAAMG,QAAQ,GACvBc,aAAc,MACdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,qCAEbQ,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzBoB,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,aAEdC,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACP,yBAA0B,CACxBmB,UAAW3B,EAAMG,QAAQ,KAG7ByB,qBAAsB,CAAC,EACvBC,YAAa,CACXF,UAAW3B,EAAMG,QAAQ,GACzBU,MAAO,IAEPC,UAAW,QAEbgB,KAAM,CACJH,UAAW,EACXV,aAAc,EACdH,UAAW,OACXJ,OAAQ,iCAEVqB,OAAQ,CACNnB,OAAQ,KAGVoB,WAAY,CACVnB,MAAO,IACPD,OAAQ,GAERe,UAAW3B,EAAMG,QAAQ,GACzB,kCAAmC,CACjCM,gBAAiB,SAGnB,qCAAsC,CACpCC,OAAQ,gCACRO,aAAc,GAGhB,2CAA4C,CAC1CP,OAAQ,gCACRO,aAAc,GAEhB,iDAAkD,CAChDP,OAAQ,gCACRO,aAAc,GAEhB,iBAAkB,CAChBR,gBAAiB,SAGrByB,SAAU,CACRV,WAAY,IACZR,SAAU,OACVR,MAAO,iBAETgP,OAAQ,CACN5M,QAAS,OACTC,cAAe,MACf3B,WAAY,UAGd/D,SAAU,CACRyF,QAAS,OACT7B,QAAS,YACTY,UAAW,EACXjB,OAAQ,mCACRE,OAAQ,IACR,qCAAsC,CACpCyF,YAAa,EACboJ,kBAAmB,0BAErB,oCAAqC,CACnCpJ,YAAa,GAIf,8BAA+B,CAC7BoJ,kBAAmB,yBACnBpJ,YAAa,GAEf,+BAAgC,CAC9BoJ,kBAAmB,yBACnBpJ,YAAa,IAGjBqJ,cAAe,CACbhP,OAAQ,mCACRK,QAAS,GApJgB,IA0Yd4O,OAlPf,WACE,IAAMpN,EAAUzC,KAahB,EAAkC0C,mBAAS,IAA3C,mBAAOoN,EAAP,KAAkBC,EAAlB,KACA,EAAyChI,qBAAWhN,GAA5CH,EAAR,EAAQA,UAAWyP,EAAnB,EAAmBA,kBACnB,EAA8B3H,oBAAS,GAAvC,mBAAOsN,EAAP,KAEA,GAFA,KAE8BtN,mBAAS,KAAvC,mBAAO6B,EAAP,KAAgB/B,EAAhB,KACA,EAAwCE,mBAAS,IAAjD,mBAAO1D,EAAP,KAAqBiR,EAArB,KAEAhG,qBAAU,WACR,IAAMiG,EAAS,iDAAG,8GAEGC,QAAQC,IAAI,CAC7B5K,EAAU,SACVA,EAAU,QACVA,EAAU,WALI,OAEV6D,EAFU,OAOhBhO,QAAQC,IAAI,OAAQ+N,GACpB0G,EAAa1G,GACbzO,GAAayP,EAAkB,CAAE9O,KAAM,iBATvB,2CAAH,qDAWf2U,GACD,GAAE,CAACF,IAEiBpE,mBAArB,IACA,EAA0BlJ,mBAAS,IAAnC,mBAEA,GAFA,UAEoCA,mBAAS,KAA7C,mBAAO5H,EAAP,KAAmB2O,EAAnB,KACA,EAAkC/G,mBAAS,IAA3C,mBAAOiH,EAAP,KAAkBD,EAAlB,KACA,EAAwBhH,mBAAS,IAAjC,mBAAOnH,EAAP,KAAaoQ,EAAb,KACA,EAA4BjJ,mBAAS,IAArC,mBAAO8J,EAAP,KAAeC,EAAf,KAEQtC,EAAoBpC,qBAAWhN,GAA/BoP,gBAEF5C,EAAUC,cAEV6I,EAAgB,WAEpB,IACMC,EAAmB,GADL,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAEjDlM,KAAI,SAACC,GACf,IAAMkM,GAAOhM,EAAQiM,MAAMnM,GAAGkG,OAAS,GAAK,EAC5C+F,EAAiB1I,KAAK2I,EACvB,IAEDlV,QAAQC,IAAIgV,GACZ,IAAIG,EAAe,GAMnB,GALAH,EAAiBlM,KAAI,SAACC,GAChBA,GAAK,IACPoM,EAAe,SAElB,IACoB,WAAjBA,EACF,OAAOA,EAGT,IAAMC,EAAclE,EAAOjC,OAErBoG,EAAmBC,MAAMF,GAC5BG,KAAK,GACL7U,OAAO4U,MAAM,EAAIF,GAAaG,KAAK,IAEtCxV,QAAQC,IAAI,mBAAoBqV,GAE5BA,EAAiBG,aAAeR,EAAiBQ,aACnDL,EAAe,WAGjB,IAAIM,EAAQ,EAWZ,OAVAT,EAAiBlM,KAAI,SAACC,GACpB0M,GAAS1M,CACV,IAEDhJ,QAAQC,IAAIC,EAAMwV,GAEL,MAATxV,GAA0B,IAAVwV,IAClBN,EAAe,aAGVA,CACR,EAEKO,EAAS,iDAAG,oGACVC,EAAkB,MAAT1V,EAAe8U,IAAkB,GADhC,KAGRY,EAHQ,OAIT,WAJS,OAQT,YARS,OAWT,cAXS,8BAKZnJ,MAAM,wCALM,iCASZA,MAAM,sEATM,iCAYZA,MAAM,kFAZM,8BAgBVlD,EAAO,CACXL,QAASA,EACTzJ,WAAYqP,EACZR,UAAWA,EACXpO,KAAMA,EACNiR,OAAQA,EACRxN,aAAcA,GAEhB3D,QAAQC,IAAI,OAAQsJ,GAEdsM,IACJ/G,EAAgBI,QAChBZ,EAAUY,QACVhG,EAAQgG,QACRhP,EAAKgP,QACLiC,EAAOjC,QACPvL,EAAauL,QAEflP,QAAQC,IAAI,aAAc4V,IACtBA,EAnCY,wBAoCdpJ,MAAM,0DApCQ,gCAwCH,MAATvM,GAAgBiR,EAAOjC,OAAS,GAxCpB,wBAyCdzC,MAAM,gEAzCQ,+BA6CF0E,EAAO7B,MAAK,SAACC,GAAD,MAAyB,MAAZA,CAAb,KACH,MAATrP,GAAyB,MAATA,EA9Cd,wBA+CduM,MAAM,4EA/CQ,4CAmDSrC,EAASb,GAnDlB,QAmDV0F,EAnDU,OAoDhBjP,QAAQC,IAAIgP,GACRA,GACFxC,MAAM,wCACNP,EAAQ4J,GAAG,IAEXrJ,MAAM,oHAzDQ,4CAAH,qDA4Df,OACE,sBAAKtE,UAAWf,EAAQnB,KAAxB,UACE,cAAC,IAAD,CACEwH,GAAI,yBACJjG,MAAO,CAAE4D,eAAgB,OAAQ/F,MAAO,SAF1C,SAIE,sBAAK8C,UAAWf,EAAQiN,OAAxB,UACE,cAAC,KAAD,CAAoB0B,KAAM,KAC1B,cAACjN,EAAA,EAAD,CAAYX,UAAWf,EAAQhB,UAA/B,SACGvF,EAAQC,iBAIf,cAACgI,EAAA,EAAD,CAAYX,UAAWf,EAAQb,WAA/B,SACG1F,EAAQE,aAGX,cAAC,GAAD,CACEkG,aAAcpG,EAAQG,iBACtBgN,KAAMyG,EAAU,GAChBnG,UAAWA,EACXD,aAAcA,IAGhB,cAACvF,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQI,yBAGX,cAAC,GAAD,CACEgG,aAAcpG,EAAQK,6BAA6B,GACnD8M,KAAMyG,EAAU,GAChBxL,MAAO,EACPxJ,WAAYA,EACZ2O,cAAeA,IAGjB,cAACtF,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQmB,WAEX,qBAAKwF,MAAO,CAAEhB,UAAW,GAAzB,SACE,cAACwL,GAAD,CACE9I,QAASA,EACT/B,WAAYA,EACZ8K,WAAW,MAIf,cAACnJ,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQ8C,eAGX,qBAAK6D,MAAO,CAAEhB,UAAW,GAAzB,SACE,cAACwL,GAAD,CACE9I,QAASvF,EACTwD,WAAYyN,EACZ3C,WAAW,MAIf,cAACnJ,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQI,yBAGX,cAACoP,GAAD,CAAcnQ,KAAMA,EAAMoQ,QAASA,IAEnC,cAACxH,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQqB,gBAGX,qBAAKsF,MAAO,CAAEhB,UAAW,GAAzB,SACE,cAAC0K,GAAD,CAAgBC,OAAQA,EAAQC,UAAWA,MAG7C,cAAC,GAAD,CAAclI,QAASrI,EAAQsB,IAAK0G,QAAS8M,MAGlD,EClYKhR,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbE,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElBc,KAAM,CACJL,QAASf,EAAMG,QAAQ,GACvBc,aAAc,MACdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,qCAEbQ,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzBoB,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,aAEdC,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACP,yBAA0B,CACxBmB,UAAW3B,EAAMG,QAAQ,KAG7ByB,qBAAsB,CAAC,EACvBC,YAAa,CACXF,UAAW3B,EAAMG,QAAQ,GACzBU,MAAO,IAEPC,UAAW,QAEbgB,KAAM,CACJH,UAAW,EACXV,aAAc,EACdH,UAAW,OACXJ,OAAQ,iCAEVqB,OAAQ,CACNnB,OAAQ,KAGVoB,WAAY,CACVnB,MAAO,IACPD,OAAQ,GAERe,UAAW3B,EAAMG,QAAQ,GACzB,kCAAmC,CACjCM,gBAAiB,SAGnB,qCAAsC,CACpCC,OAAQ,gCACRO,aAAc,GAGhB,2CAA4C,CAC1CP,OAAQ,gCACRO,aAAc,GAEhB,iDAAkD,CAChDP,OAAQ,gCACRO,aAAc,GAEhB,iBAAkB,CAChBR,gBAAiB,SAGrByB,SAAU,CACRV,WAAY,IACZR,SAAU,OACVR,MAAO,iBAETgP,OAAQ,CACN5M,QAAS,OACTC,cAAe,MACf3B,WAAY,UAvHa,IA2HvBiQ,GAAO,SAAC,GAAwC,IAAtCvW,EAAqC,EAArCA,WAAY6O,EAAyB,EAAzBA,UAAWzF,EAAc,EAAdA,QAC/BzB,EAAUzC,KAEhB,EAAqBsR,cAAPrV,GAAd,EAAQ+P,KAAR,EAAc/P,IACd,EAAyC8L,qBAAWhN,GAAjCsP,GAAnB,EAAQzP,UAAR,EAAmByP,mBAEbkH,EAAUxJ,qBAAWhN,GAE3BM,QAAQC,IAAI,UAAWiW,GACvB,MAA8B7O,mBAAS,IAAvC,mBAAO6B,EAAP,KAAgB/B,EAAhB,KACA,EAAwBE,mBAAS,IAAjC,mBAAOnH,EAAP,KAAaoQ,EAAb,KACA,EAA4BjJ,mBAAS,IAArC,mBAAO8J,EAAP,KAAeC,EAAf,KACA,EAAwC/J,mBAAS,IAAjD,mBAAO1D,EAAP,KAAqBiR,EAArB,KAEAhG,qBAAU,WACRI,EAAkB,CAAE9O,KAAM,gBAC1BF,QAAQC,IAAI,KAAMW,GAClB,IAAMuV,EAAY,iDAAG,8GTmBA5M,ESlBiB,CAAE3I,GAAIA,GTmB9CZ,QAAQC,IAAI,OAAQsJ,GAEbC,MAAMJ,sBAAoC,CAC/CK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAEL,OADAhK,QAAQC,IAAI+J,GACLA,CAER,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,ISnCc,OACbiM,EADa,OAEnBnW,QAAQC,IAAI,eAAgBkW,GAC5BnH,EAAkB,CAAE9O,KAAM,iBAC1BiH,EAAWgP,EAAa,GAAGjN,SAC3BoH,EAAQ6F,EAAa,GAAGjW,MACxBkR,EAAU+E,EAAa,GAAGhF,QAC1ByD,EAAgBuB,EAAa,GAAGxS,cAPb,iCTmBD,IAAC4F,CSnBA,UAAH,qDASlB4M,GACD,GAAE,IACH,IAAQrH,EAAoBpC,qBAAWhN,GAA/BoP,gBACF5C,EAAUC,cAEV6I,EAAgB,WAEpB,IACMC,EAAmB,GADL,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAEjDlM,KAAI,SAACC,GACf,IAAMkM,GAAOhM,EAAQiM,MAAMnM,GAAGkG,OAAS,GAAK,EAC5C+F,EAAiB1I,KAAK2I,EACvB,IAEDlV,QAAQC,IAAIgV,GACZ,IAAIG,EAAe,GAMnB,GALAH,EAAiBlM,KAAI,SAACC,GAChBA,GAAK,IACPoM,EAAe,SAElB,IACoB,WAAjBA,EACF,OAAOA,EAGT,IAAMC,EAAclE,EAAOjC,OAErBoG,EAAmBC,MAAMF,GAC5BG,KAAK,GACL7U,OAAO4U,MAAM,EAAIF,GAAaG,KAAK,IAEtCxV,QAAQC,IAAI,mBAAoBqV,GAE5BA,EAAiBG,aAAeR,EAAiBQ,aACnDL,EAAe,WAGjB,IAAIM,EAAQ,EAUZ,OATAT,EAAiBlM,KAAI,SAACC,GACpB0M,GAAS1M,CACV,IAEY,MAAT9I,GAA0B,IAAVwV,IAClBN,EAAe,aAEjBpV,QAAQC,IAAIC,EAAMwV,GAEXN,CACR,EAEKgB,EAAU,iDAAG,oGACXR,EAAkB,MAAT1V,EAAe8U,IAAkB,GAD/B,KAGTY,EAHS,OAIV,WAJU,OAQV,YARU,OAWV,cAXU,8BAKbnJ,MAAM,wCALO,iCASbA,MAAM,sEATO,iCAYbA,MAAM,kFAZO,8BAgBXlD,EAAO,CACX3I,GAAIA,EACJsI,QAASA,EACTzJ,WAAYqP,EACZR,UAAWA,EACXpO,KAAMA,EACNiR,OAAQA,EACRxN,aAAcA,GAEhB3D,QAAQC,IAAI,OAAQsJ,GACdsM,IACJ/G,EAAgBI,QAChBZ,EAAUY,QACVhG,EAAQgG,QACRhP,EAAKgP,QACLiC,EAAOjC,QACPvL,EAAauL,QAEflP,QAAQC,IAAI,aAAc4V,IACtBA,EAnCa,wBAoCfpJ,MAAM,0DApCS,gCAwCJ,MAATvM,GAAgBiR,EAAOjC,OAAS,GAxCnB,wBAyCfzC,MAAM,gEAzCS,+BA6CH0E,EAAO7B,MAAK,SAACC,GAAD,MAAyB,MAAZA,CAAb,KACH,MAATrP,GAAyB,MAATA,EA9Cb,wBA+CfuM,MAAM,4EA/CS,4CAmDQpC,EAAUd,GAnDlB,QAmDX0F,EAnDW,OAoDjBjP,QAAQC,IAAIgP,GACRA,IACFxC,MAAM,wCACN5D,EAAQ,CAAEyF,YAAW7O,eAErByM,EAAQmK,UAzDO,4CAAH,qDAiEhB,OAJAzH,qBAAU,WACR5O,QAAQC,IAAIiJ,EACb,GAAE,CAACA,IAGF,gCACE,cAACJ,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQmB,WAEX,qBAAKwF,MAAO,CAAEhB,UAAW,GAAzB,SACE,cAACwL,GAAD,CACE9I,QAASA,EACT/B,WAAYA,EACZ8K,WAAW,MAIf,cAACnJ,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQ8C,eAEX,qBAAK6D,MAAO,CAAEhB,UAAW,GAAzB,SACE,cAACwL,GAAD,CACE9I,QAASvF,EACTwD,WAAYyN,EACZ3C,WAAW,MAIf,cAACnJ,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQI,yBAGX,cAACoP,GAAD,CAAcnQ,KAAMA,EAAMoQ,QAASA,IAEnC,cAACxH,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQqB,gBAGX,qBAAKsF,MAAO,CAAEhB,UAAW,GAAzB,SACE,cAAC0K,GAAD,CAAgBC,OAAQA,EAAQC,UAAWA,MAG7C,cAAC,GAAD,CAAclI,QAASrI,EAAQuB,KAAMyG,QAASuN,MAGnD,EAEKE,GAAW,SAAC,GAA8C,IAA5CzN,EAA2C,EAA3CA,QAASyF,EAAkC,EAAlCA,UAAW7O,EAAuB,EAAvBA,WAAY8W,EAAW,EAAXA,KAC5CnP,EAAUzC,KACRgM,EAASsF,cAATtF,KAER,OADA3Q,QAAQC,IAAI,QAAS0Q,GAEnB,cAAC,IAAD,CACElD,GAAI,cAAgBkD,EACpB9H,QAAS,WACPA,EAAQ,CAAEyF,YAAW7O,cACtB,EACD+H,MAAO,CAAE4D,eAAgB,OAAQ/F,MAAO,SAL1C,SAOE,sBAAK8C,UAAWf,EAAQiN,OAAxB,UACE,cAAC,IAAD,CAAOmC,OAAK,EAACD,KAAI,UAAKA,EAAL,cAAjB,SACE,cAAC,KAAD,CAAoBR,KAAM,OAE5B,cAACjN,EAAA,EAAD,CAAYX,UAAWf,EAAQhB,UAA/B,SACGvF,EAAQC,gBAKlB,EAgFc2V,OA9Ef,SAAsBlL,GACpB,IAAQ1C,EAAY0C,EAAZ1C,QAER7I,QAAQC,IAAI,OAAQsL,GAEpB,IAAMnE,EAAUzC,KAChB,EAAoC0C,mBAAS,IAA7C,mBAAO5H,EAAP,KAAmB2O,EAAnB,KACA,EAAkC/G,mBAAS,IAA3C,mBAAOiH,EAAP,KAAkBD,EAAlB,KAEA,EAAkChH,mBAAS,IAA3C,mBAAOoN,EAAP,KAAkBC,EAAlB,KAEA9F,qBAAU,WACR,IAAMiG,EAAS,iDAAG,8GAEGC,QAAQC,IAAI,CAC7B5K,EAAU,SACVA,EAAU,QACVA,EAAU,WALI,OAEV6D,EAFU,OAOhBhO,QAAQC,IAAI,OAAQ+N,GACpB0G,EAAa1G,GARG,2CAAH,qDAUf6G,GACD,GAAE,IACH,MAAsB6B,cAATH,GAAb,EAAQI,IAAR,EAAaJ,MAEb,OACE,sBAAKpO,UAAWf,EAAQnB,KAAxB,UACE,cAAC,IAAD,CAAOsQ,KAAI,UAAKA,EAAL,UAAX,SACE,cAAC,GAAD,CACE1N,QAASA,EACTyF,UAAWA,EACX7O,WAAYA,EACZ8W,KAAMA,MAIV,cAACzN,EAAA,EAAD,CAAYX,UAAWf,EAAQb,WAA/B,SACG1F,EAAQE,aAGX,cAAC,GAAD,CACEkG,aAAcpG,EAAQG,iBACtBgN,KAAMyG,EAAU,GAChBnG,UAAWA,EACXD,aAAcA,IAGhB,cAACvF,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQb,WAAb,YAA2Ba,EAAQX,sBAD9C,SAGG5F,EAAQI,yBAGX,cAAC,GAAD,CACEgG,aAAcpG,EAAQK,6BAA6B,GACnD8M,KAAMyG,EAAU,GAChBxL,MAAO,EACPxJ,WAAYA,EACZ2O,cAAeA,IAGjB,cAAC,IAAD,CAAOoI,OAAK,EAACD,KAAI,UAAKA,EAAL,cAAjB,SACE,cAAC,GAAD,CAAM9W,WAAYA,EAAY6O,UAAWA,EAAWzF,QAASA,MAG/D,cAAC,IAAD,CAAO2N,OAAK,EAACD,KAAI,UAAKA,EAAL,UAAjB,SACE,cAAC,GAAD,CACErN,QAASrI,EAAQM,QACjB0H,QAAS,WACPA,EAAQ,CAAEyF,YAAW7O,cACtB,QAKV,E,oBCrbKkF,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJkH,aAAc,mCACdpH,WAAY,SACZZ,eAAgB,UAGlByR,UAAW,CACTtR,gBAAiB,qBAGnBuR,QAAS,CACP/L,SAAU,GACVzF,MAAO,sBACPQ,SAAU,OAEV,iBAAkB,CAChBR,MAAO,sBAjBgB,IA2DdyR,GArCO,SAAC,GAA6B,IAA3BxP,EAA0B,EAA1BA,MAAOyP,EAAmB,EAAnBA,aACxB3P,EAAUzC,KAEhB,GADgBwH,cACMuK,eAChBM,GADN,EAAQL,IAAR,EAAaJ,KACG,CAAC,cAAe,gBAAiB,cAkBjD,OACE,cAACU,GAAA,EAAD,CACE9O,UAAWf,EAAQnB,KACnBmB,QAAS,CAAEwP,UAAWxP,EAAQwP,WAC9BtP,MAAOA,EACP4P,eAAe,UACfC,UAAU,UACVrP,SAAUiP,EACV,aAAW,wBAPb,SAhBmBC,EAAQjO,KAAI,SAACC,GAC9B,OACE,cAACoO,GAAA,EAAD,CACExJ,eAAa,EACbzF,UAAWf,EAAQyP,QACnBhG,MAAOhQ,EAAQmI,GACf6E,UAAWC,IACXL,GAAE,UAAKzE,IAGZ,KAkBJ,EC5CKyB,I,cAAoBC,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,EAERN,QAASf,EAAMG,QAAQ,GACvBqB,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAPuB,GAAX6E,CAStBC,MAEEC,GAAgBF,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,EACRN,QAASf,EAAMG,QAAQ,IAHM,GAAX0F,CAKlBG,KAEElG,GAAYC,aAAW,iBAAO,CAClC0D,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SArBY,IA0BvB0R,GAAoB1X,IAAM2L,YAAW,SAACC,EAAOC,GACjD,IAAQ8L,EAAiC/L,EAAjC+L,SAAUjI,EAAuB9D,EAAvB8D,IAAK5D,EAAkBF,EAAlBE,KAAMC,EAAYH,EAAZG,QAC7B1L,QAAQC,IAAI,oBAAqBsL,GAEjC,IAAMnE,EAAUzC,KAIVsH,EAAc,WAClBP,GAAQ,EACT,EAEK6L,EAAY,iDAAG,wGXsJKhO,EWrJN,CAAE8F,IAAKA,GXuJpB7F,MAAMJ,sBAAoC,CAC/CK,OAAQ,SACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAEL,OADAhK,QAAQC,IAAI+J,GACLA,CAER,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,IWrKY,OAEnBoN,EAAS/L,GACTU,IAHmB,iCXsJI,IAAC1C,CWtJL,UAAH,qDAMlB,OACE,eAACoD,EAAA,EAAD,CACEC,QAASX,EACTR,KAAMA,EACNoB,WAAY,CACVrF,MAAO,CACL9B,MAAO,IACPI,aAAc,EACdP,OAAQ,mCACRI,UAAW,SARjB,UAYE,cAAC,GAAD,UAAoB9E,EAAQwB,cAC5B,eAAC,GAAD,WACE,cAAC4K,EAAA,EAAD,CACE9E,UAAWf,EAAQ2D,OACnBlC,QAASoD,EACT5G,MAAM,UAHR,SAKGxE,EAAQe,SAEX,cAACqL,EAAA,EAAD,CACE9E,UAAS,UAAKf,EAAQ2D,OAAb,YAAuB3D,EAAQ4D,cACxCnC,QAAS0O,EACTlS,MAAM,UAHR,SAKGxE,EAAQa,cAKlB,IAEc2V,MC/GT1S,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJf,SAAU,GAEZJ,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBqS,WAAY,CACVnS,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElB6F,aAAc,CACZ3F,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElB+H,OAAQ,CACNC,aAAc,mCAEd7H,gBAAiB,QACjBG,OAAQ,GACRN,eAAgB,UAElBgB,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAxDE,IAoGdyS,OAzCf,SAAqBlM,GACnBvL,QAAQC,IAAI,cAAesL,GAC3B,IAAMnE,EAAUzC,KAIhB,GAHgBwH,cAGQ9E,oBAAS,IAAjC,mBAAOoE,EAAP,KAAaC,EAAb,KACA,EAAsBgL,cAAdC,EAAR,EAAQA,IAAKJ,EAAb,EAAaA,KAEb,OADAvW,QAAQC,IAAI,MAAO0W,EAAKJ,GAEtB,gCACE,cAACtJ,EAAA,EAAD,CACEW,eAAa,EACbzF,UAAWf,EAAQoQ,WACnB3J,UAAWC,IACXL,GAAI,CACFjB,SAAUmK,EAAM,IAAMpL,EAAM8D,KALhC,SAQGxO,EAAQuB,OAGX,cAAC6K,EAAA,EAAD,CACEW,eAAa,EACbzF,UAAWf,EAAQ4D,aACnBnC,QAAS,WACP6C,GAAQ,EACT,EALH,SAOG7K,EAAQa,SAEX,cAAC,GAAD,2BACM6J,GADN,IAEEE,KAAMA,EACNC,QAASA,OAKhB,ECnGK/G,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJf,SAAU,GAEZJ,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBqS,WAAY,CACVnS,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElB6F,aAAc,CACZ3F,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElB+H,OAAQ,CACNC,aAAc,mCAEd7H,gBAAiB,QACjBG,OAAQ,GACRN,eAAgB,UAElBgB,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAxDE,IAsFd0S,OA3Bf,SAAkBnM,GAIhB,OAHgB5G,KACAwH,cAGd,sBACE3E,MAAO,CACLC,QAAS,OACTC,cAAe,MACf9B,QAAS,YACTL,OAAQ,gCACRoS,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClB9R,WAAY,SACZZ,eAAgB,iBAVpB,UAaE,qBAEE2S,wBAAyB,CAAEC,OAAQxM,EAAMrC,WAE3C,cAAC,GAAD,eAAiBqC,MAGtB,ECvDK5G,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmT,WAAY,CACVxR,UAAW3B,EAAMG,QAAQ,GACzBM,gBAAiB,QACjBQ,aAAc,MACdX,eAAgB,SAChBQ,UAAW,qCANc,IAUvBqR,GAAU,CAAC,cAAe,gBAAiB,aA8GlCiB,OA5Gf,WACE,IAAM7Q,EAAUzC,KAChB,EAA0B0C,mBAAS,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsBmP,cAAdC,EAAR,EAAQA,IAAKJ,EAAb,EAAaA,KACbvW,QAAQC,IAAI0W,EAAKJ,GACjB,IAGA,EAA8BlP,oBAAS,GAAvC,mBAAOlG,EAAP,KAAgB+W,EAAhB,KAEA,EAAwB7Q,mBAAS,MAAjC,mBAAO2G,EAAP,KAAamK,EAAb,KAGErJ,GAFc3C,cAIZO,qBAAWhN,GAFboP,iBAIIwI,EAAQ,iDAAG,WAAOtO,GAAP,wFACfhJ,QAAQC,IAAI,0BAA2B6O,GAEjCvF,EAAO,CACX9J,WAAYqP,EAAgBA,EAAgBI,OAAS,GACjDJ,EAAgBA,EAAgBI,OAAS,GACzC,GACJZ,UAAWtF,EAAEsF,WAPA,KASf6J,EATe,SASD7N,EAAaf,GATZ,kCAWf2O,GAAW,GAXI,2CAAH,sDAqBRlC,EAAO,SAAC,GAAkB,IAAhBzO,EAAe,EAAfA,SAGNoJ,GAFQhM,KAECsR,cAATtF,MACR3Q,QAAQC,IAAI0Q,GACZ/B,qBAAU,WACR,IAAMwJ,EAAQ,SAAC7I,GAAD,OAAaA,IAAYoB,CAAzB,EACd3Q,QAAQC,IAAI+W,GAAQqB,UAAUD,IAC9B7Q,EAASyP,GAAQqB,UAAUD,GAC5B,GAAE,CAACzH,IAEcJ,mBAAlB,IACA,EAA0BlJ,mBAAS,IAAnC,6BAiCA,MANoB,CAClBxF,aAzBA7B,QAAQC,IAAI,OAAQ+N,GAEbA,EACHA,EAAKjF,KAAI,SAACC,GACR,MAAkB,MAAXA,EAAE9I,MAAgB,cAAC,GAAD,2BAAc8I,GAAd,IAAiBsO,SAAUA,IACrD,IACD,MAoBJxV,cAhBOkM,EACHA,EAAKjF,KAAI,SAACC,GACR,MAAkB,MAAXA,EAAE9I,MAAgB,cAAC,GAAD,2BAAc8I,GAAd,IAAiBsO,SAAUA,IACrD,IACD,KAaJvV,UAVOiM,EACHA,EAAKjF,KAAI,SAACC,GACR,MAAkB,MAAXA,EAAE9I,MAAgB,cAAC,GAAD,2BAAc8I,GAAd,IAAiBsO,SAAUA,IACrD,IACD,MASa3G,EACpB,EAED,EAAyCjE,qBAAWhN,GAEpD,OAFA,EAAQH,UAAR,EAAmByP,kBAGjB,gCACE,cAAC,GAAD,CACEnG,QAAS,SAACG,GACRsO,EAAStO,EACV,IAGH,cAAC,IAAD,CAAOwN,OAAK,EAACD,KAAI,UAAKA,EAAL,UAAjB,SACGpV,GACC,sBAAKgH,UAAWf,EAAQ4Q,WAAxB,UACE,cAAC,GAAD,CAAe1Q,MAAOA,EAAOyP,aA9FlB,SAAChP,EAAOuQ,GAC3B/Q,EAAS+Q,EACV,IA6FS,cAACtC,EAAD,CAAMzO,SAAUA,WAM3B,EChJK5C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJJ,SAAU,OACVsH,aAAc,mCACdpH,WAAY,SACZZ,eAAgB,UAGlByR,UAAW,CACTtR,gBAAiB,qBAGnBuR,QAAS,CACP/L,SAAU,GACVzF,MAAO,sBAEP,iBAAkB,CAChBA,MAAO,sBAjBgB,IA4DdkT,GAtCG,SAAC,GAA6B,IAA3BjR,EAA0B,EAA1BA,MAAOyP,EAAmB,EAAnBA,aACpB3P,EAAUzC,KAEhB,GADgBwH,cACMuK,eAAdC,EAAR,EAAQA,IACFK,GADN,EAAaT,KACG,CAAC,gBAAiB,OAAQ,UAmB1C,OACE,cAACU,GAAA,EAAD,CACE9O,UAAWf,EAAQnB,KACnBmB,QAAS,CAAEwP,UAAWxP,EAAQwP,WAC9BtP,MAAOA,EACP4P,eAAe,UACfC,UAAU,UACVrP,SAAUiP,EACV,aAAW,wBAPb,SAjBmBC,EAAQjO,KAAI,SAACC,EAAGC,GACjC,OACE,cAACmO,GAAA,EAAD,CAEExJ,eAAa,EACbzF,UAAWf,EAAQyP,QACnBhG,MAAOhQ,EAAQmI,GACf6E,UAAWC,IACXL,GAAE,UAAKkJ,EAAL,YAAY3N,IALTC,EAQV,KAkBJ,E,qBCpDKtE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJP,MAAO,IACPD,OAAQ,GACR+S,cAAe,GACfC,WAAY,GAEZC,YAAa,EACb,qCAAsC,CACpCxN,YAAa,EACboJ,kBAAmB,0BAErB,oCAAqC,CACnCpJ,YAAa,GAIf,8BAA+B,CAC7BoJ,kBAAmB,yBACnBpJ,YAAa,GAEf,+BAAgC,CAC9BoJ,kBAAmB,yBACnBpJ,YAAa,GAGfzD,QAAS,OACTtC,eAAgB,cAElBwT,WAAY,CACV,+BAAgC,CAC9BrE,kBAAmB,0BAGrBhP,gBAAiB,0BAEnBsT,QAAS,CACPvT,MAAO,uBACPK,MAAO,KACPD,OAAQ,KACRV,WAAY,GACZS,YAAa,IAEfqT,QAAS,CACPxT,MAAO,sBACPgB,WAAY,IACZR,SAAU,GACVuF,eAAgB,MA/CS,IAsId0N,GAnFE,SAAC,GAOX,IANLC,EAMI,EANJA,YACA7Y,EAKI,EALJA,KACAU,EAII,EAJJA,GACA+T,EAGI,EAHJA,QACAqE,EAEI,EAFJA,WACAhK,EACI,EADJA,kBAEM5H,EAAUzC,KAChB,EAA4B0C,oBAAS,GAArC,mBAAO4R,EAAP,KAAeC,EAAf,KACA,EAA8B7R,mBAAS,IAAvC,mBAAO6B,EAAP,KAAgB/B,EAAhB,KAEMgS,EAAgBF,EAAM,UACrB7R,EAAQnB,KADa,YACLmB,EAAQuR,YADH,UAErBvR,EAAQnB,MAEf2I,qBAAU,WACRgF,SAASwF,iBAAiB,SAAS,SAACpQ,GAClCkQ,GAAU,EACX,GACF,GAAE,IAEH,IAIMG,EAAe9I,mBAErB,OACE,eAACtD,EAAA,EAAD,CACEpE,QAAS,SAACG,GACRhJ,QAAQC,IAAIgZ,GATM,SAACjQ,GACvBA,EAAEsQ,YAAYC,0BACf,CAQKC,CAAgBxQ,GAChBkQ,GAAU,GACVlZ,QAAQC,IAAIoZ,EACb,EACD/H,WAAY,SAACC,GACXvR,QAAQC,IAAR,0BAA+BsR,EAAGC,MACnB,UAAXD,EAAGC,MACL0H,GAAU,GACVH,GAAe7P,GAAW6P,GAAY,GACtCxH,EAAGkI,iBhB7GW,SACtBnQ,EACAC,EACAoL,EACAqE,EACAhK,GAEAA,EAAkB,CAAE9O,KAAM,gBAC1BsJ,MAAMJ,WAA0BE,EAAQ,OAAQ,CAC9CG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GACLhK,QAAQC,IAAI+J,GACZgP,GAAYrE,EACb,IACA1K,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,CgByFSwP,CACExZ,EACA,CAAEgJ,QAASA,EAAStI,GAAIA,GACxB+T,EACAqE,EACAhK,GAGL,EACDpB,eAAa,EACbzF,UAAWgR,EAvBb,UAyBE,cAAC,KAAD,CAAShR,UAAWf,EAAQwR,UAE1BK,EAKA,cAACnM,EAAA,EAAD,CACE6M,WAAS,EACTC,OAAQ,WACNV,GAAU,EACX,EACDW,SAAUR,EACVvR,SAAU,SAACkB,GACT7B,EAAW6B,EAAEhB,OAAOV,MACrB,EACDgQ,SAAU,SAACtO,GACThJ,QAAQC,IAAI+I,EAAEhB,OAAOV,MACtB,EACDyF,WAAY,CACV5E,UAAWf,EAAQyR,SAErB1N,YAAatK,EAAQW,cAnBvB,cAACsH,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQyR,SAAlC,SACGhY,EAAQW,gBAuBlB,E,4FC5HKmD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJP,MAAO,IACPD,OAAQ,GACR+S,cAAe,GACfC,WAAY,GACZC,YAAa,EACb,qCAAsC,CACpCxN,YAAa,EACboJ,kBAAmB,0BAErB,oCAAqC,CACnCpJ,YAAa,GAIf,8BAA+B,CAC7BoJ,kBAAmB,yBACnBpJ,YAAa,GAEf,+BAAgC,CAC9BoJ,kBAAmB,yBACnBpJ,YAAa,GAGfzD,QAAS,OACTtC,eAAgB,cAElBwT,WAAY,CACV,+BAAgC,CAC9BrE,kBAAmB,0BAGrBhP,gBAAiB,0BAEnBwU,UAAW,CACTzU,MAAO,yBACPK,MAAO,EACPD,OAAQ,GACRV,WAAY,GACZS,YAAa,GAEfuU,cAAe,CACb1U,MAAO,yBACPK,MAAO,GACPX,WAAY,GACZS,YAAa,GAEfoT,QAAS,CACPvT,MAAO,uBACPK,MAAO,KACPD,OAAQ,MAGVoT,QAAS,CACPxT,MAAO,sBACPgB,WAAY,IACZR,SAAU,GACVuF,eAAgB,MAElB4O,eAAgB,CACdlP,SAAU,GACVrF,OAAQ,GACRG,QAAS,EACTE,aAAc,EACdP,OAAQ,gCACRC,YAAa,IAEfyU,aAAc,CACZnP,SAAU,GACVrF,OAAQ,GACRG,QAAS,EACTE,aAAc,EACdN,YAAa,GACbF,gBAAiB,uBAEnB4U,SAAU,CACR7U,MAAO,wBAET8U,OAAQ,CACNzU,MAAO,EACPD,OAAQ,EACRH,gBAAiB,uBACjBY,OAAQ,GAEVkU,eAAgB,CACd3S,QAAS,OACTX,KAAM,EACN3B,eAAgB,YAElBkV,UAAW,CACT7T,UAAW,EACXsE,SAAU,IACVvF,OAAQ,mCACRO,aAAc,EACdH,UAAW,mBAEb2U,SAAU,CACRpU,OAAQ,WACRN,QAAS,WACTE,aAAc,EACdO,WAAY,IACZR,SAAU,IAtGe,IAyVd0U,GA/OD,SAAC,GAWR,IAVL1J,EAUI,EAVJA,MACAhD,EASI,EATJA,UACA2M,EAQI,EARJA,UACAC,EAOI,EAPJA,cACAva,EAMI,EANJA,KACAU,EAKI,EALJA,GACA+T,EAII,EAJJA,QACAqE,EAGI,EAHJA,WACAhK,EAEI,EAFJA,kBACA/F,EACI,EADJA,MAEM7B,EAAUzC,KAChB,EAA4B0C,oBAAS,GAArC,mBAAO4R,EAAP,KAAeC,EAAf,KACA,EAAkC7R,oBAAS,GAA3C,mBAAOqT,EAAP,KAAkBC,EAAlB,KACA,EAA4BtT,oBAAS,GAArC,mBAAO5F,EAAP,KAAemZ,EAAf,KAEMzB,EAAgBF,EAAM,UACrB7R,EAAQnB,KADa,YACLmB,EAAQuR,YADH,UAErBvR,EAAQnB,MAMToT,EAAe9I,mBACrB,EAAwBlJ,oBAAS,GAAjC,mBAAOoE,EAAP,KAAaC,EAAb,KACMmP,EAAYtK,iBAAO,MACzB,EAAoClJ,mBAAS,IAA7C,mBAAOyT,EAAP,KAAmBC,EAAnB,KACA,EAAgC1T,oBAAS,GAAzC,mBAAO2T,EAAP,KAAiBjC,EAAjB,KAEA,EAA8B1R,oBAAS,GAAvC,mBAMM4E,GANN,UAMoB,SAAClE,GACf8S,EAAUvI,SAAWuI,EAAUvI,QAAQ2I,SAASlT,EAAMC,UAG1DD,EAAMyR,kBAENN,GAAU,GACVxN,GAAQ,GACT,GAEKwP,EAAe,SAAClS,GACpBiD,EAAYjD,GACZ4R,GAAU,EACX,EAEKrD,EAAe,SAACvO,GACpBiD,EAAYjD,GACZyR,GACD,EAQD,SAASU,GAAkBpT,GACP,QAAdA,EAAMyJ,MACRzJ,EAAM0R,iBACN/N,GAAQ,GAEX,CAGgB6E,iBAAO9E,GASxB,OACE,gCACE,eAACwB,EAAA,EAAD,CACEmO,YAAa,WACXpb,QAAQC,IAAI,SACXgZ,GAAUC,GAAU,EACtB,EACDmC,aAAc,WACZrb,QAAQC,IAAI,SAEZgZ,IAAWxN,GAAQyN,GAAU,EAC9B,EACDrQ,QAAS,SAACG,GACR2R,GAAcD,EACf,EACDpJ,WAAY,SAACC,GACXvR,QAAQC,IAAR,0BAA+BsR,EAAGC,MACnB,UAAXD,EAAGC,OjB3KU,SACzBlI,EACAC,EACAoL,EACAqE,EACAhK,GAEAhP,QAAQC,IAAIsJ,GACZyF,EAAkB,CAAE9O,KAAM,gBAC1BsJ,MAAMJ,WAA0BE,EAAQ,UAAW,CACjDG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GACLhK,QAAQC,IAAI+J,GACZgP,GAAYrE,EACb,IACA1K,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,CiBsJWoR,CACEpb,EACA,CAAEgJ,QAAS4R,EAAYla,GAAIA,GAC3B+T,EACAqE,EACAhK,GAEFkK,GAAU,GACV3H,EAAGkI,iBAEN,EACD7L,eAAa,EACbzF,UAAWgR,EA5Bb,UA8BGuB,EACC,cAAC,KAAD,CAAwBvS,UAAWf,EAAQ2S,gBAE3C,cAAC,KAAD,CAAqB5R,UAAWf,EAAQ0S,YAGxCrY,EAGA,cAACqL,EAAA,EAAD,CACE6M,WAAS,EACTC,OAAQ,WACN5Z,QAAQC,IAAI,QACZ2a,GAAU,GACVG,GAAc,EACf,EACDlB,SAAUR,EACVxQ,QAAS,SAACG,GACRA,EAAEwQ,iBACH,EACD1R,SAAU,SAACkB,GACT+R,EAAc/R,EAAEhB,OAAOV,MACxB,EACDgQ,SAAU,SAACtO,GACThJ,QAAQC,IAAI+I,EAAEhB,OAAOV,MACtB,EACDgK,WAAY,SAACC,GACXvR,QAAQC,IAAR,0BAA+BsR,EAAGC,MACnB,UAAXD,EAAGC,MACLoJ,GAAU,GACVrJ,EAAGkI,iBAEN,EACD1M,WAAY,CACV5E,UAAWf,EAAQyR,SAErBrR,MAAO,CAAEV,KAAM,GACfqE,YAAatK,EAAQY,SA9BvB,cAACqH,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQyR,SAAlC,SAA8ChI,IAkC/CoI,GACC,sBAAK9Q,UAAWf,EAAQgT,eAAxB,UACE,eAACnN,EAAA,EAAD,CACE9E,UAAWf,EAAQ4S,eACnBxO,IAAKqP,EACL,gBAAepP,EAAO,sBAAmB8P,EACzC,gBAAc,OACd1S,QAhIS,SAACG,GACpBA,EAAEwQ,kBACF9N,GAAQ,SAAC8P,GAAD,OAAeA,CAAf,GACT,EAwHS,UAOE,qBAAKrT,UAAWf,EAAQ+S,SACxB,qBAAKhS,UAAWf,EAAQ+S,SACxB,qBAAKhS,UAAWf,EAAQ+S,YAE1B,cAACsB,GAAA,EAAD,CACEhQ,KAAMA,EACNiQ,SAAUb,EAAUvI,QACpBqJ,UAAMJ,EACNK,YAAU,EACVC,UAAU,eALZ,SAOG,gBAAGC,EAAH,EAAGA,gBAAiBD,EAApB,EAAoBA,UAApB,OACC,cAACE,GAAA,EAAD,2BACMD,GADN,IAEEtU,MAAO,CACLkB,gBACgB,WAAdmT,EAAyB,aAAe,iBAJ9C,SAOE,cAACG,GAAA,EAAD,CAAO7T,UAAWf,EAAQiT,UAA1B,SACE,cAAC4B,GAAA,EAAD,CAAmBC,YAAajQ,EAAhC,SACE,eAACkQ,GAAA,EAAD,CACEC,cAAe3Q,EACf7K,GAAG,iBACH8Q,UAAWyJ,GACX3T,MAAO,CAAE5B,QAAS,GAJpB,UAME,cAACgD,EAAA,EAAD,CACET,UAAWf,EAAQkT,SACnBzR,QAASqS,EAFX,SAIGra,EAAQY,SAEX,cAACmH,EAAA,EAAD,CACET,UAAWf,EAAQkT,SACnBzR,QAAS0O,EAFX,SAIG1W,EAAQa,kBA1BpB,IAmCF8Y,GAAavR,EAAQ,GACpB,cAACgE,EAAA,EAAD,CACE9E,UAAWf,EAAQ4S,eACnBnR,QA1JW,SAACG,GACxBiD,EAAYjD,GACZ2R,GAAa,GACb5B,GAAaiC,EACd,EAoJW,SAIE,cAAC,KAAD,CAAS7S,UAAWf,EAAQwR,kBAMrC5Y,QAAQC,IAAI,QAASgJ,GACrByR,GACC,sBAAKlT,MAAO,CAAEzC,WAAY,IAA1B,UACG8I,EACAmN,GAAY/R,EAAQ,GACnB,cAAC,GAAD,CACE/I,KAAMA,EACNU,GAAIA,EACJoO,kBAAmBA,EACnB+J,YAAaA,EACbpE,QAASA,EACTqE,WAAYA,SAOzB,ECxVKvO,GAAoBC,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,EAERN,QAASf,EAAMG,QAAQ,GACvBqB,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAPuB,GAAX6E,CAStBC,KAEEC,GAAgBF,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,EACRN,QAASf,EAAMG,QAAQ,IAHM,GAAX0F,CAKlBG,KAEElG,GAAYC,aAAW,iBAAO,CAClC0D,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SArBY,IAsFd0W,GA5DW1c,IAAM2L,YAAW,SAACC,EAAOC,GACjD,IAAQtL,EAAiDqL,EAAjDrL,KAAMyU,EAA2CpJ,EAA3CoJ,QAASqE,EAAkCzN,EAAlCyN,WAAYhK,EAAsBzD,EAAtByD,kBACnC,EAAwBrP,IAAM0H,UAAS,GAAvC,mBAAOoE,EAAP,KAAaC,EAAb,KACA,EAAoB/L,IAAM0H,SAAS,IAAnC,mBAAOzG,EAAP,KAAW0b,EAAX,KAEMlV,EAAUzC,KAIVsH,EAAc,WAClBP,GAAQ,EACT,EAeD,OAPA6Q,8BAAoB/Q,GAAK,iBAAO,CAC9BgR,gBAD8B,SACdxT,GACdsT,EAAMtT,GACN0C,GAAQ,EACT,EAJsB,IAQvB,eAACiB,EAAA,EAAD,CACEC,QAASX,EACTR,KAAMA,EACNoB,WAAY,CACVrF,MAAO,CACL9B,MAAO,IACPI,aAAc,EACdP,OAAQ,mCACRI,UAAW,SARjB,UAYE,cAAC,GAAD,UAAoB9E,EAAQc,oBAC5B,eAAC,GAAD,WACE,cAACsL,EAAA,EAAD,CACE9E,UAAWf,EAAQ2D,OACnBlC,QAASoD,EACT5G,MAAM,UAHR,SAKGxE,EAAQe,SAEX,cAACqL,EAAA,EAAD,CACE9E,UAAS,UAAKf,EAAQ2D,OAAb,YAAuB3D,EAAQ4D,cACxCnC,QArCa,WACnBoD,IlBgBuB,SACzB3C,EACA1I,EACA+T,EACAqE,EACAhK,GAEAhP,QAAQC,IAAIqJ,GACZ0F,EAAkB,CAAE9O,KAAM,gBAEnBsJ,MAAMJ,WAA0BE,EAAQ,UAAW,CACxDG,OAAQ,SACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAU,CAAEhJ,GAAIA,MAE1BiJ,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAIL,OAHAhK,QAAQC,IAAI+J,GACZgP,GAAYrE,GAEL3K,CACR,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,GACV,CkBvCGuS,CAAYvc,EAAMU,EAAI+T,EAASqE,EAAYhK,EAC5C,EAkCO3J,MAAM,UAHR,SAKGxE,EAAQa,cAKlB,I,oBClFKiD,IAlBoB+F,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,EAERN,QAASf,EAAMG,QAAQ,GACvBqB,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAPuB,GAAX6E,CAStBC,KAEkBD,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,EACRN,QAASf,EAAMG,QAAQ,IAHM,GAAX0F,CAKlBG,KAEcjG,aAAW,SAACC,GAAD,MAAY,CACvCyD,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SAGf+W,SAAU,CACRC,OAAQ9X,EAAM8X,OAAOC,OAAS,EAC9BvX,MAAO,OACPC,gBAAiB,eA3BQ,KAgEduX,GAjCOld,IAAM2L,YAAW,SAACC,EAAOC,GAC7C,MAAyCkB,qBAAWhN,GAA5CH,EAAR,EAAQA,UAGR,GAHA,EAAmByP,kBAEmBzD,EAA9BrL,KAA8BqL,EAAxBoJ,QAAwBpJ,EAAfyN,WACCrZ,IAAM0H,UAAS,IAAvC,mBAAaqE,GAAb,WACA,EAAoB/L,IAAM0H,SAAS,IAAnC,mBAAWiV,GAAX,WAEMlV,EAAUzC,KAehB,OAPA4X,8BAAoB/Q,GAAK,iBAAO,CAC9BgR,gBAD8B,SACdxT,GACdsT,EAAMtT,GACN0C,GAAQ,EACT,EAJsB,IAQvB,cAACoR,GAAA,EAAD,CACE3U,UAAWf,EAAQsV,SACnBjR,KAAMlM,EACNsJ,QAfgB,WAClB6C,GAAQ,EACT,EAUC,SAKE,cAACqR,GAAA,EAAD,CAAkB1X,MAAM,aAG7B,ICzEKV,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbE,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElBc,KAAM,CAEJH,aAAc,MACdL,OAAQ,OACRH,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,qCAEbQ,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzBoB,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,YACZV,QAASf,EAAMG,QAAQ,IAEzBuB,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACP,yBAA0B,CACxBmB,UAAW3B,EAAMG,QAAQ,KAG7ByB,qBAAsB,CAAC,EACvBC,YAAa,CACXF,UAAW3B,EAAMG,QAAQ,GACzBU,MAAO,IAEPC,UAAW,QAEbgB,KAAM,CACJH,UAAW,EACXV,aAAc,EACdH,UAAW,OACXJ,OAAQ,iCAEVqB,OAAQ,CACNnB,OAAQ,KAGVoB,WAAY,CACVnB,MAAO,IACPD,OAAQ,GAERe,UAAW3B,EAAMG,QAAQ,GACzB,kCAAmC,CACjCM,gBAAiB,SAGnB,qCAAsC,CACpCC,OAAQ,gCACRO,aAAc,GAGhB,2CAA4C,CAC1CP,OAAQ,gCACRO,aAAc,GAEhB,iDAAkD,CAChDP,OAAQ,gCACRO,aAAc,GAEhB,iBAAkB,CAChBR,gBAAiB,SAGrByB,SAAU,CACRV,WAAY,IACZR,SAAU,OACVR,MAAO,iBAETuT,QAAS,CACPvT,MAAO,OACPK,MAAO,GACPD,OAAQ,IAEVuX,UAAW,CACTpX,QAAS,IA5HgB,IAgIvBoR,GAAU,CAAC,gBAAiB,OAAQ,SAEpChB,GAAO,SAAC,GAAkB,IAAhBzO,EAAe,EAAfA,SACRH,EAAUzC,KAERgM,EAASsF,cAATtF,KACR3Q,QAAQC,IAAI0Q,GACZ/B,qBAAU,WACR,IAAMwJ,EAAQ,SAAC7I,GAAD,OAAaA,IAAYoB,CAAzB,EACd3Q,QAAQC,IAAI+W,GAAQqB,UAAUD,IAC9B7Q,EAASyP,GAAQqB,UAAUD,GAC5B,GAAE,CAACzH,IACJ,MAAkCtJ,qBAAlC,mBAAOoN,EAAP,KAAkBC,EAAlB,KACA,EAA8BrN,oBAAS,GAAvC,mBAAOsN,EAAP,KAAgBqE,EAAhB,KACApK,qBAAU,WACR,IAAMiG,EAAS,iDAAG,8GAEGC,QAAQC,IAAI,CAC7B5K,EAAU,SACVA,EAAU,QACVA,EAAU,WALI,OAEV6D,EAFU,OAOhBhO,QAAQC,IAAI,OAAQ+N,GACpB0G,EAAa1G,GACbzO,GAAayP,EAAkB,CAAE9O,KAAM,iBATvB,2CAAH,qDAWf2U,GACD,GAAE,CAACF,IAEJ,IAAMsI,EAAY1M,mBAEZ2M,EAAa,SAAbA,EAAclP,EAAM9N,EAAM+I,GAC9B,OACE+E,GACAA,EAAKjF,KAAI,SAACC,GACR,IAAImU,EAAa,KAIjB,OAHInU,EAAEwF,QACJ2O,EAAaD,EAAWlU,EAAEwF,MAAOtO,EAAM+I,EAAQ,IAG/C,cAAC,GAAD,CACEA,MAAOA,EACP/I,KAAMA,EACNU,GAAIoI,EAAEqG,IAENwB,MAAO7H,EAAEE,QACTuR,cAAe,kBAAMwC,EAAU3K,QAAQkK,gBAAgBxT,EAAEqG,IAA1C,EACfmL,UAAoB,UAATta,EACX2N,UAAWsP,EACXxI,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,GAPdhG,EAAEqG,IAUZ,GAEJ,EACD,EAAyC3C,qBAAWhN,GAA5CH,EAAR,EAAQA,UAAWyP,EAAnB,EAAmBA,kBA+EnB,MANoB,CAClB3N,cAtEE,sBAAK8G,UAAWf,EAAQ4V,UAAxB,UACGvI,GAAayI,EAAWzI,EAAU,GAAI,QAAS,GAC/CzU,QAAQC,IAAIV,GAGb,cAAC,GAAD,CACEW,KAAM,QACNyU,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,IAErB,cAAC,GAAD,CACExD,IAAKyR,EACL/c,KAAM,QACNyU,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,OAuDzB1N,KA/CE,sBAAK6G,UAAWf,EAAQ4V,UAAxB,UACGvI,GAAayI,EAAWzI,EAAU,GAAI,QACtCzU,QAAQC,IAAIV,GAGb,cAAC,GAAD,CACEW,KAAM,OACNyU,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,IAErB,cAAC,GAAD,CACExD,IAAKyR,EACL/c,KAAM,OACNyU,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,OAgCzBzN,MAzBE,sBAAK4G,UAAWf,EAAQ4V,UAAxB,UACGvI,GAAayI,EAAWzI,EAAU,GAAI,SACtCzU,QAAQC,IAAIV,GAGb,cAAC,GAAD,CACEW,KAAM,QACNyU,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,IAErB,cAAC,GAAD,CACExD,IAAKyR,EACL/c,KAAM,QACNyU,QAASA,EACTqE,WAAYA,EACZhK,kBAAmBA,QAYR2B,EACpB,EAoCcyM,GAlCU,WACvB,IAAMhW,EAAUzC,KAChB,EAAsB+R,cAAdC,EAAR,EAAQA,IAAKJ,EAAb,EAAaA,KACbvW,QAAQC,IAAI0W,EAAKJ,GACjB,MAA0BlP,mBAAS,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAiBA,OACE,sBAAKY,UAAWf,EAAQnB,KAAxB,UACE,cAAC6C,EAAA,EAAD,CAAYX,UAAWf,EAAQhB,UAA/B,SACGvF,EAAQO,kBAEX,cAAC,GAAD,CAAWkG,MAAOA,EAAOyP,aArBR,SAAChP,EAAOuQ,GAC3B/Q,EAAS+Q,EACV,IAoBG,cAAC,IAAD,CAAO/B,KAAI,UAAKA,EAAL,UAAX,SACE,cAAC,GAAD,CAAMhP,SAAUA,QAIvB,EChVY8V,GAAc,iDAAG,WAAOC,GAAP,4FAC5Btd,QAAQC,IAAI,SAAUqd,GAChB/T,EAAO,CACX+T,OAAQA,GAHkB,SAKL9T,MAAMJ,EAAU,sBAAuB,CAC5DK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAVK,cAKtBgU,EALsB,gBAaJA,EAASxT,OAbL,cAatB8K,EAbsB,yBAcrBA,GAdqB,4CAAH,sD,UCqBrBpK,IATyBC,aAAW,SAAC7F,GAAD,MAAY,CACpDoB,KAAM,CACJC,OAAQ,EACRG,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAL4B,GAAX6E,CAO3BC,KAEsBD,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,kBACRG,WAAY,IACZhB,MAAO,yBACPQ,SAAU,IALuB,GAAX6E,CAOtBC,MAEEC,GAAgBF,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,kBACRN,QAAS,WAHoB,GAAX8E,CAKlBG,KAEElG,GAAYC,aAAW,iBAAO,CAClC0D,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SAGfsF,UAAW,CACTxF,OAAQ,GACRqB,KAAM,EACN,wGACE,CACEW,QAAS,QAEb,qCAAsC,CACpCyD,YAAa,GAEf,oCAAqC,CACnCA,YAAa,GAEf,8BAA+B,CAC7BA,YAAa,GAEf,+BAAgC,CAC9BA,YAAa,GAEf,yBAA0B,CACxBzF,OAAQ,GACRG,QAAS,IAGbuF,YAAa,CACXtF,SAAU,GACVR,MAAO,sBACPgB,WAAY,IACZ+E,eAAgB,MAElBnF,KAAM,CACJR,OAAQ,GACRF,OAAQ,gCACRkC,QAAS,OACT1B,WAAY,SACZH,QAAS,mBACTY,UAAW,EACXV,aAAc,GAEhB0X,MAAO,CACLjY,OAAQ,kCAhEiB,IAoEvBkY,GAAyB9d,IAAM2L,YAAW,SAACC,EAAOC,GACtD,IAAMC,EAA8BF,EAA9BE,KAAMC,EAAwBH,EAAxBG,QAASgS,EAAenS,EAAfmS,WAErB,EAAwCrW,mBAAS,IAAjD,mBAAOnD,EAAP,KAAqByZ,EAArB,KAEMvW,EAAUzC,KAIVsH,EAAc,WAClBP,GAAQ,EACT,EACD,EAA0BrE,oBAAS,GAAnC,mBAAOuW,EAAP,KAAcC,EAAd,KACM3R,EAAUC,cAChB,EAAyCO,qBAAWhN,GAE9Coe,GAFN,EAAQve,UAAR,EAAmByP,kBAED,iDAAG,8KACMqO,GAAenZ,GADrB,UACb6Z,EADa,OAEnB/d,QAAQC,IAAI,aAAc8d,GACA,IAAtBA,EAAW7O,OAHI,uBAIjB2O,GAAS,GACTG,YAAW,kBAAMH,GAAS,EAAf,GAAsB,KALhB,0BASnB7d,QAAQC,IAAI,aAAcyd,GACpBO,EAAS,SAAC1O,GAAD,MAAyB,SAAZA,CAAb,EACGmO,EAAW,GAAGrF,UAAU4F,GACpCC,EAAW,SAAC3O,GAAD,MAAyB,QAAZA,CAAb,EACX4O,EAAcT,EAAW,GAAGrF,UAAU6F,GACtCE,EAAW,SAAC7O,GAAD,MAAyB,QAAZA,CAAb,EACX8O,EAAcX,EAAW,GAAGrF,UAAU+F,GAfzB,EA0BfL,EAAW,GARbO,EAlBiB,EAkBjBA,gBACAC,EAnBiB,EAmBjBA,YACAC,EApBiB,EAoBjBA,kBACAC,EArBiB,EAqBjBA,cACAC,EAtBiB,EAsBjBA,cACAC,EAvBiB,EAuBjBA,UACAzV,EAxBiB,EAwBjBA,QACA0V,EAzBiB,EAyBjBA,kBAEIC,EAAY,CAChBC,SAASR,GAAmBC,EAC5BO,SAASN,GAAqBC,EAC9BK,SAASJ,GAAiBC,GAI5BjB,EAAW,GAAGnR,KAAK,SACnBmR,EAAW,GAAGnR,KAAK,eAEVwS,EAAI,EArCM,aAqCHA,EAAIrB,EAAWxO,QArCZ,oBAuCjBlP,QAAQC,IAAI,0BAA2Byd,EAAWqB,GAAGZ,IACrDne,QAAQC,IAAI,uBAAwB8d,EAAW,GAAGT,QAClDtd,QAAQC,IAAI,0BAA2B8d,EAAW,GAAGiB,WAEjDtB,EAAWqB,GAAGZ,KAAiBJ,EAAW,GAAGT,OA3ChC,wDAsDjB,IAPI2B,EAAevB,EAAWqB,GAAGV,GAEjCY,GAA8B,IAAIC,OAAO,GAAMD,EAAe,IAC9D/V,GAAoB,IAAIgW,OAAO,GAAMhW,EAAU,IAG3CiW,EAAkB,GACbC,EAAI,EAAGA,EAAIH,EAAa/P,OAAQkQ,GAAK,GAC5CD,EAAgB5S,KAAK0S,EAAaI,MAAMD,EAAGA,EAAI,KAGjD,IADIE,EAAc,GACTF,EAAI,EAAGA,EAAIlW,EAAQgG,OAAQkQ,GAAK,GACvCE,EAAY/S,KAAKrD,EAAQmW,MAAMD,EAAGA,EAAI,KAaxC,IAXApf,QAAQC,IAAI,kBAAmBkf,GAC/Bnf,QAAQC,IAAI,cAAeqf,GAC3Btf,QAAQC,IAAI,oBAAqB2e,GAG7BW,EAAa,GAEbpb,EAAQ,EACRqb,EAAa,EACbC,EAAyB,EACzB/J,EAAQ,EACHqJ,EAAI,EAAGA,EAAIR,EAAaQ,IAC3BI,EAAgBK,KAAgBF,EAAYE,GAC9Crb,GAAS0a,EAAU,GAEnBU,EAAWhT,KACTwR,EAAW,GAAGiB,UAAUtJ,GAAOjW,WAC7Bse,EAAW,GAAGiB,UAAUtJ,GAAOjW,WAAWyP,OAAS,IAIzDsQ,GAA0B,EAC1B9J,GAAgB,EAGlB,IAASqJ,EAAI,EAAGA,EAAIN,EAAeM,IAC7BI,EAAgBK,KAAgBF,EAAYE,GAC9Crb,GAAS0a,EAAU,GAEnBU,EAAWhT,KACTwR,EAAW,GAAGiB,UAAUtJ,GAAOjW,WAC7Bse,EAAW,GAAGiB,UAAUtJ,GAAOjW,WAAWyP,OAAS,IAIzDsQ,GAA0B,EAC1B9J,GAAgB,EAKlB,IAFA+J,EACEA,EAAyBlB,EAAcE,EAChCM,EAAI,EAAGA,EAAIJ,EAAWI,IAAK,CAElC,IADIW,GAAQ,EACHN,EAAI,EAAGA,EAAIR,EAAkBa,GAAyBL,IACzDD,EAAgBK,KAAgBF,EAAYE,KAC9CE,GAAQ,GAEVF,GAA0B,EAExBE,EACFvb,GAAS0a,EAAU,IAEnBU,EAAWhT,KACTwR,EAAW,GAAGiB,UAAUtJ,GAAOjW,WAC7Bse,EAAW,GAAGiB,UAAUtJ,GAAOjW,WAAWyP,OAAS,IAGvDwG,GAAgB,EAEnB,CACD1V,QAAQC,IAAI,QAASkE,GACrBnE,QAAQC,IAAI,gBAAiByd,EAAWqB,IAExCrB,EAAWqB,GAAGxS,KAAKpI,GACnBob,EAAaA,EAAWI,QAAO,SAAUC,EAAM3W,EAAO4W,GACpD,OAAO5W,IAAU4W,EAAKC,QAAQF,EAC/B,IACDlC,EAAWqB,GAAGxS,KAAKgT,GAhIF,QAqCoBR,IArCpB,+BAkIbxV,EAAO,CACXmU,WAAYA,GAnIK,UAqIArU,EAAiB,QAASE,GArI1B,QAqInBmU,EArImB,OAsInB1d,QAAQC,IAAI,aAAcyd,GAI1BxR,EAAQK,KAAK,CACXC,SAAU,QACV1M,MAAO,CACLigB,YAAa7b,EACbwZ,WAAYA,EACZra,iBAAkB,CAChBN,UAAWgb,EAAW,GAAGhb,UACzBid,SAAUjC,EAAW,GAAGiC,SACxB1e,KAAMyc,EAAW,GAAGzc,SAlJP,4CAAH,sDAwJlB,EAA0B+F,mBAAS,IAAnC,6BAEA,OACE,eAACsF,EAAA,EAAD,CACEC,QAASX,EACTR,KAAMA,EACNoB,WAAY,CACVrF,MAAO,CACL9B,MAAO,IAEPI,aAAc,EACdP,OAAQ,mCACRI,UAAW,OACXC,QAAS,KAVf,UAcE,cAAC,GAAD,UAAoB/E,EAAQqC,mBAC5B,qBACEiF,UACEyV,EAAK,UAAMxW,EAAQnB,MAAd,UAA0BmB,EAAQnB,KAAlC,YAA0CmB,EAAQoW,OAF3D,SAKE,cAAC1Q,EAAA,EAAD,CACExF,MAAOpD,EACP4D,SAAU,SAACkB,GACT2U,EAAgB3U,EAAEhB,OAAOV,MAC1B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAa,OAIjB,cAAC,GAAD,CACE3D,MAAO,CACLnC,MAAO,uBACPmB,UAAW,EACXX,SAAU,EACVJ,OAAQ,IALZ,UAQImY,GAAS/c,EAAQkD,aAGrB,eAAC,GAAD,WACE,cAACkJ,EAAA,EAAD,CAAQ9E,UAAWf,EAAQ2D,OAAQlC,QAASoD,EAA5C,SACGpL,EAAQe,SAEX,cAACqL,EAAA,EAAD,CACE9E,UAAS,UAAKf,EAAQ2D,OAAb,YAAuB3D,EAAQ4D,cACxCnC,QAASiV,EAFX,SAIGjd,EAAQiD,cAKlB,IAEc2Z,MCjUT9Y,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJwB,QAAS,OACT1B,WAAY,SACZZ,eAAgB,SAChBM,OAAQ,QAEVwa,OAAQ,CACNva,MAAO,IACPD,OAAQ,IACRM,WAAY,SACZT,gBAAiB,QACjBmC,QAAS,OACTyY,SAAU,SACV3a,OAAQ,mCACRO,aAAc,EACdI,OAAQ,KACR0J,QAAS,OACThK,QAAS,mBACTua,OAAQ,WAEVC,KAAM,CACJva,SAAU,GACVQ,WAAY,IACZH,OAAQ,oBAxBiB,IAoGdma,ICtHXC,GDsHWD,GAxEf,WACE,IAAMjZ,EAAUzC,KACVuH,EAAUC,cAEhB,EAAoC9E,mBAAS,MAA7C,mBAAOqW,EAAP,KAAmB6C,EAAnB,KACMC,EAAkBjQ,iBAAO,MA0B/B,EAAwBlJ,oBAAS,GAAjC,mBAAOoE,EAAP,KAAaC,EAAb,KAKA,OACE,sBAAKvD,UAAWf,EAAQnB,KAAxB,UACE,yBAAQkC,UAAWf,EAAQ6Y,OAAQpX,QALnB,SAACd,GACnByY,EAAgBlO,QAAQyB,OACzB,EAGG,UACE,qBAAKrG,IErFE,2uBFsFP,qBAAKvF,UAAWf,EAAQgZ,KAAxB,SAA+Bvf,EAAQyB,aACvC,uBACEuG,QAAS,SAACd,GACRA,EAAMC,OAAOV,MAAQ,IACtB,EACDpH,KAAK,OACLsL,IAAKgV,EACL1Y,SAxCa,SAACC,GACpB,IAAM0Y,EAAe1Y,EAAMC,OAAOkM,MAAM,GACxClU,QAAQC,IAAIwgB,GACZC,SAAWD,EAAc,CACvBE,SAAU,SAAUC,GAClB5gB,QAAQC,IAAI,YAAa2gB,EAAQ5S,MACjC,IACM6S,EAAYD,EAAQ5S,KAAK,GAAGqK,WADnB,SAAC9I,GAAD,MAAyB,SAAZA,CAAb,IAGT4O,EAAcyC,EAAQ5S,KAAK,GAAGqK,WADnB,SAAC9I,GAAD,MAAyB,QAAZA,CAAb,IAGX8O,EAAcuC,EAAQ5S,KAAK,GAAGqK,WADnB,SAAC9I,GAAD,MAAyB,QAAZA,CAAb,IAEjBvP,QAAQC,IAAI,YAAa4gB,GACzB7gB,QAAQC,IAAI,cAAeoe,IACR,IAAfwC,IAAqC,IAAjBxC,IAAuC,IAAjBF,GAC5CoC,EAAcK,EAAQ5S,MACtBtC,GAAQ,IAERe,MAAM,yDAET,GAEJ,EAmBOjF,MAAO,CAAEC,QAAS,aAItB,yBACEU,UAAWf,EAAQ6Y,OACnBpX,QAAS,WACPqD,EAAQK,KAAK,WACd,EAJH,UAME,qBAAKmB,IGxGE,+0BH0GP,qBAAKvF,UAAWf,EAAQgZ,KAAxB,SAA+Bvf,EAAQ0B,cAGzC,cAAC,GAAD,CACEkJ,KAAMA,EACNC,QAASA,EACTgS,WAAYA,MAInB,EInGK/Y,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJkH,aAAc,mCACdpH,WAAY,SACZZ,eAAgB,UAGlByR,UAAW,CACTtR,gBAAiB,qBAGnBuR,QAAS,CACP/L,SAAU,GACVzF,MAAO,sBACPQ,SAAU,OAEV,iBAAkB,CAChBR,MAAO,sBAjBgB,IA2Ddyb,GArCS,SAAC,GAA6B,IAA3BxZ,EAA0B,EAA1BA,MAAOyP,EAAmB,EAAnBA,aAC1B3P,EAAUzC,KAEhB,GADgBwH,cACMuK,eAChBM,GADN,EAAQL,IAAR,EAAaJ,KACG,CAAC,cAAe,gBAAiB,cAkBjD,OACE,cAACU,GAAA,EAAD,CACE9O,UAAWf,EAAQnB,KACnBmB,QAAS,CAAEwP,UAAWxP,EAAQwP,WAC9BtP,MAAOA,EACP4P,eAAe,UACfC,UAAU,UACVrP,SAAUiP,EACV,aAAW,wBAPb,SAhBmBC,EAAQjO,KAAI,SAACC,GAC9B,OACE,cAACoO,GAAA,EAAD,CACExJ,eAAa,EACbzF,UAAWf,EAAQyP,QACnBhG,MAAOhQ,EAAQmI,IAKpB,KAkBJ,EHxEG+X,GAAY,CAAC,QAAS,WAE1B,SAASC,KAAiS,OAApRA,GAAW7gB,OAAOC,OAASD,OAAOC,OAAO6gB,OAAS,SAAUjZ,GAAU,IAAK,IAAI+W,EAAI,EAAGA,EAAImC,UAAUhS,OAAQ6P,IAAK,CAAE,IAAIoC,EAASD,UAAUnC,GAAI,IAAK,IAAIvN,KAAO2P,EAAchhB,OAAOihB,UAAUC,eAAeC,KAAKH,EAAQ3P,KAAQxJ,EAAOwJ,GAAO2P,EAAO3P,GAAU,CAAE,OAAOxJ,CAAQ,EAAUgZ,GAASO,MAAMC,KAAMN,UAAY,CAElV,SAASO,GAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,CAAC,EAAG,IAAkE3P,EAAKuN,EAAnE/W,EAEzF,SAAuCmZ,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,CAAC,EAAG,IAA2D3P,EAAKuN,EAA5D/W,EAAS,CAAC,EAAO2Z,EAAaxhB,OAAOyhB,KAAKT,GAAqB,IAAKpC,EAAI,EAAGA,EAAI4C,EAAWzS,OAAQ6P,IAAOvN,EAAMmQ,EAAW5C,GAAQ2C,EAAS5B,QAAQtO,IAAQ,IAAaxJ,EAAOwJ,GAAO2P,EAAO3P,IAAQ,OAAOxJ,CAAQ,CAFhN6Z,CAA8BV,EAAQO,GAAuB,GAAIvhB,OAAO2hB,sBAAuB,CAAE,IAAIC,EAAmB5hB,OAAO2hB,sBAAsBX,GAAS,IAAKpC,EAAI,EAAGA,EAAIgD,EAAiB7S,OAAQ6P,IAAOvN,EAAMuQ,EAAiBhD,GAAQ2C,EAAS5B,QAAQtO,IAAQ,GAAkBrR,OAAOihB,UAAUY,qBAAqBV,KAAKH,EAAQ3P,KAAgBxJ,EAAOwJ,GAAO2P,EAAO3P,GAAQ,CAAE,OAAOxJ,CAAQ,CAM3e,SAASia,GAASC,EAAMC,GACtB,IAAIld,EAAQid,EAAKjd,MACbmd,EAAUF,EAAKE,QACf7W,EAAQkW,GAAyBS,EAAMnB,IAE3C,OAAoB,gBAAoB,MAAOC,GAAS,CACtDtb,MAAO,GACPD,OAAQ,GACR4c,QAAS,YACT7M,KAAM,OACN8M,MAAO,6BACP9W,IAAK2W,EACL,kBAAmBC,GAClB7W,GAAQtG,EAAqB,gBAAoB,QAAS,CAC3DrE,GAAIwhB,GACHnd,GAAS,KAAMqb,KAAUA,GAAqB,gBAAoB,OAAQ,CAC3EiC,EAAG,2OACH/M,KAAM,WAEV,CAEA,IAAIgN,GAA0B,aAAiBP,IIfzCtd,IJgBS,IIhBGC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJf,SAAU,GAEZJ,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBqS,WAAY,CACVnS,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElB6F,aAAc,CACZ3F,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElB+H,OAAQ,CACNC,aAAc,mCAEd7H,gBAAiB,QACjBG,OAAQ,GACRN,eAAgB,UAElBgB,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzByd,SAAU,CACR1c,WAAY,SACZZ,eAAgB,SAChB2F,SAAU,GACVlF,QAAS,MACTH,OAAQ,GACR,UAAW,CACTH,gBAAiB,wBAEnBA,gBAAiB,uBACjBC,OAAQ,oCAEVmd,eAAgB,CACd3c,WAAY,SACZZ,eAAgB,SAChB2F,SAAU,GACVlF,QAAS,MACTH,OAAQ,GACR,UAAW,CACTH,gBAAiB,SAEnBC,OAAQ,oCA/EiB,KA0Hdod,OAxCf,SAAoBpX,GAClB,IAAQqX,EAA+BrX,EAA/BqX,aAAcC,EAAiBtX,EAAjBsX,aAChBzb,EAAUzC,KAOhB,OANgBwH,cAOd,sBACE3E,MAAO,CACLC,QAAS,OACTC,cAAe,MACf9B,QAAS,oBACTL,OAAQ,gCACRoS,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClB9R,WAAY,UAThB,UAYE,cAACkH,EAAA,EAAD,CACEpE,QAlBe,SAACd,GACpB6a,GACD,EAiBKza,UACc,UAAZ0a,EAAkBzb,EAAQqb,SAAgBrb,EAAQsb,gBAEpD9U,eAAa,EALf,SAOE,cAAC,GAAD,MAGF,qBACEpG,MAAO,CAAEzC,WAAY,IACrB+S,wBAAyB,CAAEC,OAAQxM,EAAMrC,aAIhD,ECnHKvE,GAAYC,aAAW,SAACC,GAAD,YAAY,CACvCie,eAAa,GACXpd,MAAO,GACPD,OAAQ,GACRD,YAAa,GACbgB,UAAW,GACXZ,QAAS,EAETN,gBAAiB,qBAPN,0BAQAT,EAAMG,QAAQ,IARd,sBASJ,uBATI,yBAUD,IAVC,2BAWC,KAXD,cAYX,kBAAmB,CACjBK,MAAO,sBACPC,gBAAiB,wBAdR,cAgBX,WAAY,CACVA,gBAAiB,oBACjBD,MAAO,wBAlBE,GADc,IAkCd0d,GAVO,SAAC,GAAoC,IAAlCtT,EAAiC,EAAjCA,SAAUvG,EAAuB,EAAvBA,QAAQL,EAAe,EAAfA,QACnCzB,EAAUzC,KAEhB,OACE,cAACsI,EAAA,EAAD,CAAQ9E,UAAWf,EAAQ0b,cAAelV,eAAa,EAAC6B,SAAUA,EAAU5G,QAASA,EAArF,SACGK,GAGN,EC1CK8Z,GAAyBtY,aAAW,SAAC7F,GAAD,MAAY,CACpDoB,KAAM,CACJC,OAAQ,EACRG,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAL4B,GAAX6E,CAO3BC,KAEEF,GAAoBC,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,mBACRG,WAAY,IACZhB,MAAO,yBACPQ,SAAU,IALuB,GAAX6E,CAOtBC,KAEEC,GAAgBF,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,mBACRN,QAAS,WAHoB,GAAX8E,CAKlBG,KAEElG,GAAYC,aAAW,iBAAO,CAClC0D,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SAGfsF,UAAW,CACTxF,OAAQ,GACRqB,KAAM,EACN,wGACE,CACEW,QAAS,QAEb,qCAAsC,CACpCyD,YAAa,GAEf,oCAAqC,CACnCA,YAAa,GAEf,8BAA+B,CAC7BA,YAAa,GAEf,+BAAgC,CAC9BA,YAAa,GAEf,yBAA0B,CACxBzF,OAAQ,GACRG,QAAS,IAGbuF,YAAa,CACXtF,SAAU,GACVR,MAAO,sBACPgB,WAAY,IACZ+E,eAAgB,MAElBnF,KAAM,CACJR,OAAQ,GACRF,OAAQ,gCACRkC,QAAS,OACT1B,WAAY,SACZH,QAAS,mBACTJ,YAAa,EACbgB,UAAW,EACXV,aAAc,GA9DW,IAkEvBmd,GAAgBtjB,IAAM2L,YAAW,SAACC,EAAOC,GAC7C,IAAQC,EAAmDF,EAAnDE,KAAMC,EAA6CH,EAA7CG,QAASC,EAAoCJ,EAApCI,cAAeC,EAAqBL,EAArBK,iBAEtC,EAAkCvE,mBAAS,IAA3C,mBAAOtE,EAAP,KAAkBmgB,EAAlB,KACA,EAAwB7b,mBAAS,IAAjC,mBAAO/F,EAAP,KAAa6hB,EAAb,KACA,EAAsC9b,mBAAS,IAA/C,mBAAOrD,EAAP,KAAoBof,EAApB,KAEA,EAAgC/b,mBAAS,IAAzC,mBAAO2Y,EAAP,KAAiBqD,EAAjB,KACA,EAA8Chc,mBAAS,IAAvD,mBAAOiX,EAAP,KAAwBgF,EAAxB,KACA,EAAkDjc,mBAAS,IAA3D,mBAAOmX,EAAP,KAA0B+E,EAA1B,KACA,EAA0Clc,mBAAS,IAAnD,mBAAOqX,EAAP,KAAsB8E,EAAtB,KACA,EAAwCnc,mBAAS,IAAjD,mBAAOnD,EAAP,KAAqByZ,EAArB,KAEMvW,EAAUzC,KAIVsH,EAAc,WAClBP,GAAQ,EACT,EAEDkD,qBAAU,WACR6U,GACD,GAAE,CAAChY,IAEJ,IAAMgY,EAAuB,WAC3B,IAAIC,EAAY,GAChB1jB,QAAQC,IAAI,mBAAoB2L,GAChCA,EAAiB7C,KAAI,SAACC,GACpB,IAAM2a,EAAY3a,EAAEvJ,WAAWuJ,EAAEvJ,WAAWyP,OAAS,GACrDlP,QAAQC,IAAI,mBAAoB0jB,EAAUtU,UAELkM,IAAjCmI,EAAUpU,MADO,SAACC,GAAD,OAAaA,EAAQF,MAAQsU,EAAUtU,GAAvC,KAEnBqU,EAAUnX,KAAKoX,EAElB,IACD,IAAIC,EAAoB,GACxBF,EAAU3a,KAAI,SAACC,EAAGC,GAChB2a,GAAqB5a,EAAEE,QACnBD,IAAUya,EAAUxU,OAAS,IAC/B0U,GAAqB,SAIxB,IACDP,EAAYO,GAEZ5jB,QAAQC,IAAI,6BAA8ByjB,EAC3C,EAEKG,EAAajY,EAAiB+T,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACrC4jB,GAAelY,EAAiB+T,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACvC6jB,GAAWnY,EAAiB+T,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAEnC8jB,GAAa,iDAAG,yHACdH,EAAajY,EAAiB+T,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACrC4jB,EAAelY,EAAiB+T,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACvC6jB,EAAWnY,EAAiB+T,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACzC0L,EAAiB7C,KAAI,SAACC,GACpBhJ,QAAQC,IAAI,OAAQ+I,EAAE9I,KACvB,IACK8N,EAAOpC,EAAiBqY,MAAK,SAAUC,EAAGC,GAC9C,OAAOrF,SAASoF,EAAEhkB,MAAQ4e,SAASqF,EAAEjkB,KACtC,IAEG6d,EAAa,GAEjB/P,EAAKjF,KAAI,SAACC,GACR,IAAMob,EAAepb,EAAEmI,OAAOjC,OACf,MAAXlG,EAAE9I,MACJ8I,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,CAC3B,IACDtG,GAA0B,IAAImB,OAAO,GAAKkF,IAE1Cpb,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,EAC1BtG,GAA0B,IAAImB,OAAO,GACtC,GAEJ,IAEKoF,EAAsB,WAC1B,IAAMC,EACkB,IAAtBV,EAAW3U,QAAsBoP,EAAgBpP,OAC7CsV,EACoB,IAAxBV,EAAa5U,QAAsBsP,EAAkBtP,OACjDuV,EAA+B,IAApBV,EAAS7U,QAAsBwP,EAAcxP,OAE9D,OAAOqV,GAAcC,GAAgBC,CACtC,EAGCzW,EAAKkB,QACLnM,EAAUmM,QACV5N,EAAK4N,QACL8Q,EAAS9Q,QACToV,KACApgB,EAAagL,QACb6O,EAAW2G,OAAOxV,OA7CA,wBAgDlBzC,MAAM,0DAhDY,2BAmDpBR,IAEI2S,EAAoB,GACpBI,EAAY,GAChB6E,EAAW9a,KAAI,SAACC,GACd4V,EAAkBrS,KAAK,KACvByS,EAAUzS,KAAKvD,EAAEqG,IAClB,IAEDyU,EAAa/a,KAAI,SAACC,GAChB4V,EAAkBrS,KAAK,KACvByS,EAAUzS,KAAKvD,EAAEqG,IAClB,IAED0U,EAAShb,KAAI,SAACC,GACZ4V,EAAkBrS,KAAKvD,EAAEmI,OAAOjC,QAChC8P,EAAUzS,KAAKvD,EAAEqG,IAClB,IAEKsV,EACJC,WAAWtG,GAAoC,KAC/CsG,WAAWpG,GAAwC,KACnDoG,WAAWlG,GAAgC,KAEvCmG,EACJD,WAAWtG,GAAoC,KAAOqG,EAClDG,EACJF,WAAWpG,GAAwC,KAAOmG,EACtDI,EACJH,WAAWlG,GAAgC,KAAOiG,EAE9Cpb,EAAO,CACXxG,UAAWA,EACXzB,KAAMA,EACN0C,YAAaA,EACbgc,SAAUA,EACV1C,OAAQpZ,EACRgF,QAAS6U,EAAW2G,OACpBnG,YAAasF,EAAW3U,OACxBuP,cAAeqF,EAAa5U,OAC5ByP,UAAWoF,EAAS7U,OACpBoP,iBAAuC,IAArBuG,GAA0BG,QAAQ,GACpDxG,mBAA2C,IAAvBsG,GAA4BE,QAAQ,GACxDtG,eAAmC,IAAnBqG,GAAwBC,QAAQ,GAChDpG,kBAAmBA,EACnBI,UAAWA,GAGbzU,EAAehB,GAEf2C,GAAQK,KAAK,CACXC,SAAU,UACV1M,MAAO,CACLkO,KAAMpC,EACN7I,UAAWA,EACXiB,YAAaA,EACb1C,KAAMA,EACN0e,SAAUA,EACVzB,YAAasF,EAAW3U,OACxBuP,cAAeqF,EAAa5U,OAC5ByP,UAAWoF,EAAS7U,OACpBoP,iBAAuC,IAArBuG,GAA0BG,QAAQ,GACpDxG,mBAA2C,IAAvBsG,GAA4BE,QAAQ,GACxDtG,eAAmC,IAAnBqG,GAAwBC,QAAQ,MAlHhC,4CAAH,qDAuHnB,GAA0B3d,mBAAS,IAAnC,qBACM6E,IADN,YACgBC,eAEhB,OACE,eAACQ,EAAA,EAAD,CACEC,QAASX,EACTR,KAAMA,EACNoB,WAAY,CACVrF,MAAO,CACL9B,MAAO,IAEPI,aAAc,EACdP,OAAQ,mCACRI,UAAW,OACXC,QAAS,KAVf,UAcE,cAAC,GAAD,UACG/E,EAAQwC,mBAGX,cAAC,GAAD,UAAoBxC,EAAQgC,kBAE5B,cAAC,EAAD,CACEoE,aAAcpG,EAAQkC,UACtBmE,SAAU,CACR,CAAEgC,QAAS,gBACX,CAAEA,QAAS,gBACX,CAAEA,QAAS,6BAEb/B,WAAY+b,IAGC,6BAAdngB,GACC,eAAC,WAAD,WACE,cAAC,GAAD,UAAoBlC,EAAQiC,mBAE5B,qBAAKqF,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACExF,MAAOtD,EACP8D,SAAU,SAACkB,GACToa,EAAepa,EAAEhB,OAAOV,MACzB,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAa,UAMrB,cAAC,GAAD,UAAoBtK,EAAQE,aAE5B,cAAC,EAAD,CACEkG,aAAcpG,EAAQS,KACtB4F,SAAUyE,EACVxE,WAAYgc,IAGd,cAAC,GAAD,UAAoBtiB,EAAQoC,gBAC5B,qBAAKkF,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACExF,MAAO0Y,EACPlY,SAAU,SAACkB,GACTqa,EAAYra,EAAEhB,OAAOV,MACtB,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAa,OAIjB,cAAC,GAAD,UAAoBtK,EAAQqC,mBAC5B,qBAAKiF,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACExF,MAAOpD,EACP4D,SAAU,SAACkB,GACT2U,EAAgB3U,EAAEhB,OAAOV,MAC1B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAa,OAIjB,sBAAK3D,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,UACE,sBAAKF,MAAO,CAAEC,QAA+B,IAAtBoc,EAAW3U,QAAgB,QAAlD,UACE,cAAC,GAAD,UAAoBrO,EAAQyC,mBAC5B,qBAAK6E,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACE5M,KAAK,SACLoH,MAAOgX,EACPxW,SAAU,SAACkB,GACTsa,EAAmBta,EAAEhB,OAAOV,MAC7B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQ4C,eACrBwhB,WAAY,CAAEC,UAAW,UAAWC,QAAS,iBAInD,sBAAK3d,MAAO,CAAEC,QAAiC,IAAxBqc,GAAa5U,QAAgB,QAApD,UACE,cAAC,GAAD,UAAoBrO,EAAQ0C,qBAC5B,qBAAK4E,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACE5M,KAAK,SACLoH,MAAOkX,EACP1W,SAAU,SAACkB,GACTua,EAAqBva,EAAEhB,OAAOV,MAC/B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQ4C,eACrBwhB,WAAY,CAAEC,UAAW,UAAWC,QAAS,iBAInD,sBAAK3d,MAAO,CAAEC,QAA6B,IAApBsc,GAAS7U,QAAgB,QAAhD,UACE,cAAC,GAAD,UAAoBrO,EAAQ2C,iBAC5B,qBAAK2E,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACExF,MAAOoX,EACPxe,KAAK,SACL4H,SAAU,SAACkB,GACThJ,QAAQC,IAAI,OAAQ+I,EAAEhB,OAAOV,OAC7Bkc,EAAiBxa,EAAEhB,OAAOV,MAC3B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQ4C,yBAM7B,eAAC,GAAD,WACE,cAACwJ,EAAA,EAAD,CAAQ9E,UAAWf,EAAQ2D,OAAQlC,QAASoD,EAA5C,SACGpL,EAAQe,SAEX,cAACqL,EAAA,EAAD,CACE9E,UAAS,UAAKf,EAAQ2D,OAAb,YAAuB3D,EAAQ4D,cACxCnC,QAASmb,GAFX,SAIGnjB,EAAQmC,oBAKlB,IAEcigB,M,UC1aTte,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,IAE5BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElBC,UAAW,CACTC,MAAO,QACPC,gBAAiB,uBACjBC,OAAQ,iCACRC,YAAaX,EAAMG,QAAQ,GAC3BS,OAAQ,GACRC,MAAO,GACP,UAAW,CACTJ,gBAAiB,uBACjBC,OAAQ,iCACRI,UAAW,QAEbC,QAAS,EACTC,SAAU,OACVC,aAAc,EAEdC,WAAY,SACZZ,eAAgB,UAElBa,YAAa,CACXX,MAAO,uBACPI,OAAQ,GACRC,MAAO,GACPJ,gBAAiB,QACjBQ,aAAc,EACdP,OAAQ,iCACR,UAAW,CACTD,gBAAiB,QACjBC,OAAQ,iCACRI,UAAW,QAEbE,SAAU,OAEVE,WAAY,SACZZ,eAAgB,UAElBc,KAAM,CACJC,OAAQrB,EAAMG,QAAQ,GACtBY,QAASf,EAAMG,QAAQ,GACvBc,aAAc,MAEdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,qCAEbQ,QAAS,CACPP,QAASf,EAAMG,QAAQ,IAEzBoB,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,aAEdC,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW3B,EAAMG,QAAQ,GACzBK,MAAO,sBACP,yBAA0B,CACxBmB,UAAW3B,EAAMG,QAAQ,KAG7ByB,qBAAsB,CAAC,EACvBC,YAAa,CACXF,UAAW3B,EAAMG,QAAQ,GACzBU,MAAO,IAEPC,UAAW,QAEbgB,KAAM,CACJH,UAAW,EACXV,aAAc,EACdH,UAAW,OACXJ,OAAQ,iCAEVqB,OAAQ,CACNnB,OAAQ,KAGVoB,WAAY,CACVnB,MAAO,IACPD,OAAQ,GACRD,YAAaX,EAAMG,QAAQ,GAC3BwB,UAAW3B,EAAMG,QAAQ,GACzB,kCAAmC,CACjCM,gBAAiB,SAGnB,qCAAsC,CACpCC,OAAQ,gCACRO,aAAc,GAGhB,2CAA4C,CAC1CP,OAAQ,gCACRO,aAAc,GAEhB,iDAAkD,CAChDP,OAAQ,gCACRO,aAAc,GAEhB,iBAAkB,CAChBR,gBAAiB,SAGrByB,SAAU,CACRV,WAAY,IACZR,SAAU,OACVR,MAAO,iBAGTod,SAAU,CACR1c,WAAY,SACZZ,eAAgB,SAChB2F,SAAU,GACVlF,QAAS,MACTH,OAAQ,GACR,UAAW,CACTH,gBAAiB,wBAEnBA,gBAAiB,uBACjBC,OAAQ,oCAEVmd,eAAgB,CACd3c,WAAY,SACZZ,eAAgB,SAChB2F,SAAU,GACVlF,QAAS,MACTH,OAAQ,GACR,UAAW,CACTH,gBAAiB,SAEnBC,OAAQ,oCAEV6f,mBAAoB,CAClB/f,MAAO,qBAETggB,cAAe,CACbhf,WAAY,KAEdif,YAAa,CACXhgB,gBAAiB,mBACjB,UAAW,CACTA,gBAAiB,qBAvJM,IAuRdigB,OA3Hf,YASG,EARDte,aAQE,IAPF+G,EAOC,EAPDA,KAMAK,GACC,EANDpF,MAMC,EALDgF,UAKC,EAJDxO,WAIC,EAHD2O,cAGC,EAFDE,UAEC,EADDD,cAEMjH,EAAUzC,KAEhB3E,QAAQC,IAAI,OAAQ+N,GAEpB,MAAgC3G,mBAAS,IAAzC,mBAAOme,EAAP,KAAiBC,EAAjB,KACMC,EAAgB1X,EAAKkB,OAAS,GAAKsW,EAAStW,SAAWlB,EAAKkB,OAwBlE,OACE,qBAAK1H,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,SACE,eAACC,EAAA,EAAD,CACEC,QAAQ,oCACRhH,GAAG,8BACH+kB,UAAQ,EACRre,MAAOke,EACP1d,SA7Be,SAACC,GACpB,IAAI6d,EAAc,GACdC,EAAS,GAEb7X,EAAKjF,KAAI,SAACC,GACR4c,EAAYrZ,KAAKvD,EAAEE,SACnB2c,EAAOtZ,KAAKvD,EAAEqG,IACf,IAED,IAAM/H,EAAQS,EAAMC,OAAOV,MACrB+H,EAAMtH,EAAM+d,cAAcC,aAAa,OAE7C,GAAgC,QAA5Bze,EAAMA,EAAM4H,OAAS,GAIvB,OAHAuW,EAAYD,EAAStW,SAAWlB,EAAKkB,OAAS,GAAK0W,QACnDvX,EAAamX,EAAStW,SAAWlB,EAAKkB,OAAS,GAAK2W,GAItDJ,EAAYne,GACZ+G,EAAagB,EACd,EAUK2W,YAAa,SAACR,GAAD,OACX,cAAC1c,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SACuB,IAApBye,EAAStW,OAAe,eAAOsW,EAASS,KAAK,OAFrC,EAKbpe,cAAY,EACZI,cAAeC,IACfC,UAAWf,EAAQP,WACnBuB,QAAQ,WACRC,UAAW,CACTjB,QAAS,CAAEkB,MAAOlB,EAAQT,MAC1B4B,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdE,mBAAoB,MAzBxB,UA4BE,eAACC,EAAA,EAAD,CACEtB,MAAM,MACNF,QAAS,CACPnB,KAAMyf,EAAgBte,EAAQke,YAAc,IAHhD,UAME,cAACY,GAAA,EAAD,CACEtY,eAAa,EACbpG,MAAO,CACLnC,MAAO,uBACPO,QAAS,EACTmN,UAAW,EACXjI,SAAU,EACVtF,YAAa,IAEf4B,QAAS,CACP+e,cAAe/e,EAAQge,oBAEzBgB,QAASV,EACTS,cAAeX,EAAStW,OAAS,GAAKsW,EAAStW,OAASlB,EAAKkB,SAG/D,cAACpG,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SAA+C,oBAEhDiH,EAAKjF,KAAI,SAACqG,GAAD,OACR,eAACxG,EAAA,EAAD,CACEyG,IAAKD,EAAOC,IACZjI,QAAS,CACPnB,KAAMmB,EAAQke,aAEhBhe,MAAO8H,EAAOlG,QALhB,UAOGlJ,QAAQC,IAAImP,GACb,cAAC8W,GAAA,EAAD,CACE1e,MAAO,CACLnC,MAAO,uBACPO,QAAS,EACTmN,UAAW,EACXjI,SAAU,EACVtF,YAAa,IAEf4gB,QAASZ,EAAS1F,QAAQ1Q,EAAOlG,UAAY,IAG/C,cAACJ,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQL,UAAlC,SACGqI,EAAOlG,YArBJ,QA4BjB,ECxRKvE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJR,OAAQ,QAEVW,UAAW,CACTC,WAAY,IACZR,SAAU,QAEZwgB,oBAAqB,CACnBzgB,QAAS,sBAEX0gB,0BAA2B,CACzB1gB,QAAS,GAEX2gB,eAAgB,CACd9e,QAAS,OACTC,cAAe,MACf3B,WAAY,SACZS,UAAW,GACXZ,QAAS,EACT,UAAW,CACTN,gBAAiB,cACjBK,UAAW,SAGfmd,cAAe,CACbrb,QAAS,OACTC,cAAe,MACf3B,WAAY,SACZL,MAAO,GACPD,OAAQ,GACRD,YAAa,GACbgB,UAAW,GACXZ,QAAS,EACTN,gBAAiB,yBACjB,UAAW,CACTA,gBAAiB,yBACjBK,UAAW,QAEbG,aAAc,GAEhB0gB,YAAa,CACX3gB,SAAU,GACVQ,WAAY,IACZhB,MAAO,0BAET2S,WAAY,CACVxR,UAAW,GACXlB,gBAAiB,QACjBQ,aAAc,MACdX,eAAgB,SAChBQ,UAAW,qCAEb8gB,YAAa,CACX7gB,QAAS,GACTE,aAAc,MACdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,oCACXa,UAAW,IAEbD,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW,GACXnB,MAAO,uBAETqhB,kBAAmB,CACjBrgB,WAAY,IACZR,SAAU,OACVD,QAAS,qBACTP,MAAO,uBAvEkB,IA8SdshB,OAnOf,WACE,IAAMvf,EAAUzC,KAChB,EAAgD0C,mBAAS,IAAzD,mBAAOuE,EAAP,KAAyBgb,EAAzB,KACA,EAAsCvf,mBAAS,IAA/C,mBAAOwf,EAAP,KAAoBC,EAApB,KAEA,EAA0Bzf,mBAAS,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsCF,mBAAS,GAA/C,mBAAO0f,EAAP,KAAoBC,EAApB,KAEA,EAAwB3f,oBAAS,GAAjC,mBAAOoE,EAAP,KAAaC,EAAb,KAWA,EAAkCrE,mBAAS,CAAC,GAAI,KAAhD,mBAAOoN,EAAP,KAAkBC,EAAlB,KACA,EAAoCrN,mBAAS,IAA7C,mBAAO5H,EAAP,KAAmB2O,EAAnB,KACA,EAAkC/G,mBAAS,aAA3C,mBAAOiH,EAAP,KAAkBD,EAAlB,KACA,EACE3B,qBAAWhN,GADLoP,EAAR,EAAQA,gBAAR,EAAyBC,mBAAzB,EAA6CxP,UAA7C,EAAwDyP,kBAGxDJ,qBAAU,WACR,IAAMiG,EAAS,iDAAG,8GACGC,QAAQC,IAAI,CAC7B5K,EAAU,SACVA,EAAU,QACVA,EAAU,WAJI,OACV6D,EADU,OAMhBhO,QAAQC,IAAI,OAAQ+N,GACpB0G,EAAa1G,GAPG,2CAAH,qDASf6G,GACD,GAAE,IAEH,IAmCqB7G,EAnCfsJ,EAAQ,iDAAG,WAAOtO,GAAP,0FACfhJ,QAAQC,IAAI,0BAA2B6O,GAEjCvF,EAAO,CACX9J,WAAYqP,EAAgBA,EAAgBI,OAAS,GACjDJ,EAAgBA,EAAgBI,OAAS,GACzC,GACJZ,UAAWtF,EAAEsF,WAPA,SASIhE,EAAaf,GATjB,OASTyE,EATS,OAWf8Y,EAAe9Y,GAXA,2CAAH,sDAcR4U,EAAe,SAAC5Z,EAAG6Z,GACvB7iB,QAAQC,IAAI,MAAO+I,EAAG6Z,GAEtB,IAAIoE,EAAsBrb,EAC1B,GAAIiX,EACFoE,EAAsBA,EAAoBtH,QAAO,SAAUuH,GACzD,OAAOA,IAASle,CACjB,IACD4d,EAAoBK,OACf,CAGL,GAFcrb,EAAiB0D,MAAK,SAACC,GAAD,OAAaA,IAAYvG,CAAzB,IAIlC,OADAhJ,QAAQC,IAAI,UACL,KAETgnB,EAAsBA,EAAoBtmB,OAAOqI,GACjD4d,EAAoBK,EACrB,CACF,EAwDK/a,EAAUC,cAChB,OACE,sBAAKhE,UAAWf,EAAQnB,KAAxB,UACE,eAACgH,EAAA,EAAD,CACE9E,UAAWf,EAAQmf,eACnB3Y,eAAa,EACb/E,QAAS,WACPqD,EAAQmK,QACT,EALH,UAOE,cAAC,KAAD,CAAoBN,KAAM,KAC1B,cAACjN,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQhB,WAAlC,SACGvF,EAAQ2B,cAIb,sBAAK2F,UAAWf,EAAQ4Q,WAAxB,UACE,sBACExQ,MAAO,CACLE,cAAe,MACfD,QAAS,OACTtC,eAAgB,iBAJpB,UAOE,cAAC2D,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQhB,UAAb,YAA0BgB,EAAQif,qBAD7C,SAGGxlB,EAAQ4B,eAGX,cAAC,GAAD,CACEyG,QAASrI,EAAQ+B,aACjB6M,SAAsC,IAA5B7D,EAAiBsD,OAC3BrG,QAAS,kBAAM6C,GAAQ,EAAd,OAIb,cAAC,GAAD,CAAiBpE,MAAOA,EAAOyP,aA1JhB,SAAChP,EAAOuQ,GAC3BtY,QAAQC,IAAI,WAAYqY,GACxB/Q,EAAS+Q,EACV,IAsF0B,SAACtK,GAC1B,IAAIiB,EAAajB,EACbA,EAAKjF,KAAI,SAACC,GACM4C,EAAiB0D,MAAK,SAACC,GAAD,OAAaA,IAAYvG,CAAzB,IACpC,GAAI8V,SAAS9V,EAAE9I,QAAUoH,EACvB,OACE,cAAC,GAAD,2BACM0B,GADN,IAEE4Z,aAAc,WACZA,EAAa5Z,GAAG,EACjB,EACD6Z,cAAc,IAIrB,IACD,KAEEsE,EACJ,cAACre,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQsf,mBAAlC,SACG7lB,EAAQ6B,gBAMb,OAFAuM,EAAaA,EAAW0Q,QAAO,SAAC3W,GAAD,YAAauS,IAANvS,CAAP,KAEbkG,OAASD,EAAakY,CACzC,CAwCMC,CAAmBxb,MAGtB,sBAAKzD,UAAWf,EAAQqf,YAAxB,UACE,cAAC3d,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQhB,UAAb,YAA0BgB,EAAQkf,2BAD7C,SAGGzlB,EAAQ8B,cAGX,cAACmG,EAAA,EAAD,CAAYX,UAAWf,EAAQb,WAA/B,SACG1F,EAAQE,aAEVf,QAAQC,IAAI,eAAgBwU,EAAU,IACvC,cAAC,GAAD,CACExG,WAAW,EACXhH,aAAc,eACd+G,KAAMyG,EAAU,GAChBnG,UAAWA,EACXD,aAAcA,IAGhB,cAACvF,EAAA,EAAD,CAAYX,UAAWf,EAAQb,WAA/B,SACG1F,EAAQI,yBAGX,cAAC,GAAD,CACEgG,aAAcpG,EAAQK,6BAA6B,GACnD8M,KAAMyG,EAAU,GAChBxL,MAAO,EACPxJ,WAAYA,EACZ2O,cAAeA,IAGjB,cAAC,GAAD,CACElF,QAASrI,EAAQM,QACjB0H,QAAS,WACPyO,EAAS,CAAEhJ,YAAW7O,cACvB,OAIL,sBAAK0I,UAAWf,EAAQ4Q,WAAxB,UACE,cAAC,GAAD,CACE1Q,MAAOyf,EACPhQ,aArMmB,SAAChP,EAAOuQ,GACjCtY,QAAQC,IAAI,WAAYqY,GACxB0O,EAAe1O,EAChB,KAwDoBtK,EA6IF6Y,EA5IE7Y,EACfA,EAAKjF,KAAI,SAACC,GAIR,OAHc4C,EAAiB0D,MAC7B,SAACC,GAAD,OAAa5F,KAAKC,UAAU2F,KAAa5F,KAAKC,UAAUZ,EAAxD,KAGAhJ,QAAQC,IAAI,UACL,MAEL6e,SAAS9V,EAAE9I,QAAU6mB,EAErB,cAAC,GAAD,2BACM/d,GADN,IAEE4Z,aAAc,WACZA,EAAa5Z,GAAG,EACjB,EACD6Z,cAAc,UAPpB,CAWD,IACD,SA0HF,cAACwE,GAAD,CACEzb,iBAAkBA,EAClBH,KAAMA,EACNC,QAASA,EACTC,cAAe8I,EAAU,OAIhC,ECnTK9P,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJkH,aAAc,mCACdpH,WAAY,SACZZ,eAAgB,UAGlByR,UAAW,CACTtR,gBAAiB,qBAGnBuR,QAAS,CACP/L,SAAU,GACVzF,MAAO,sBACPQ,SAAU,OAEV,iBAAkB,CAChBR,MAAO,sBAjBgB,IA2DdiiB,GArCK,SAAC,GAA6B,IAA3BhgB,EAA0B,EAA1BA,MAAOyP,EAAmB,EAAnBA,aACtB3P,EAAUzC,KAEhB,GADgBwH,cACMuK,eAChBM,GADN,EAAQL,IAAR,EAAaJ,KACG,CAAC,QAAS,eAAgB,yBAkB1C,OACE,cAACU,GAAA,EAAD,CACE9O,UAAWf,EAAQnB,KACnBmB,QAAS,CAAEwP,UAAWxP,EAAQwP,WAC9BtP,MAAOA,EACP4P,eAAe,UACfC,UAAU,UACVrP,SAAUiP,EACV,aAAW,wBAPb,SAhBmBC,EAAQjO,KAAI,SAACC,GAC9B,OACE,cAACoO,GAAA,EAAD,CACExJ,eAAa,EACbzF,UAAWf,EAAQyP,QACnBhG,MAAOhQ,EAAQmI,IAKpB,KAkBJ,E,aC/Dcue,KAAWC,OAAO,CAC/BC,KAAM,CACJ/f,cAAe,MACfpC,gBAAiB,UACjBwB,KAAM,GAER4gB,QAAS,CACPxhB,OAAQ,GACRN,QAAS,GACTV,SAAU,K,oFCgBdyiB,KAAQC,IAAMC,KAASF,QAAQC,IAE/B,IAAME,GAAgB,IAIhBnjB,IAFcojB,EAAQ,KAEVnjB,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJR,OAAQ,QAEVW,UAAW,CACTC,WAAY,IACZR,SAAU,QAEZwgB,oBAAqB,CACnBzgB,QAAS,sBAEX0gB,0BAA2B,CACzB1gB,QAAS,GAEX2gB,eAAgB,CACd9e,QAAS,OACTC,cAAe,MACf3B,WAAY,SACZS,UAAW,GACXZ,QAAS,EACT,UAAW,CACTN,gBAAiB,cACjBK,UAAW,SAGfmd,cAAe,CACbrb,QAAS,OACTC,cAAe,MACf3B,WAAY,SACZL,MAAO,GACPD,OAAQ,GACRD,YAAa,GACbgB,UAAW,GACXZ,QAAS,EACTN,gBAAiB,yBACjB,UAAW,CACTA,gBAAiB,yBACjBK,UAAW,QAEbG,aAAc,GAEhB0gB,YAAa,CACX3gB,SAAU,GACVQ,WAAY,IACZhB,MAAO,0BAET2S,WAAY,CACVxR,UAAW,GACXlB,gBAAiB,QACjBQ,aAAc,MACdX,eAAgB,SAChBQ,UAAW,qCAEb8gB,YAAa,CACX7gB,QAAS,GACTE,aAAc,MACdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,oCACXa,UAAW,IAEbD,WAAY,CACVF,WAAY,IACZR,SAAU,OACVW,UAAW,GACXnB,MAAO,uBAETqhB,kBAAmB,CACjBrgB,WAAY,IACZR,SAAU,OACVD,QAAS,qBACTP,MAAO,uBAvEkB,KA2EvB2iB,GAAQ,SAAC,GAAuD,IAArDhf,EAAoD,EAApDA,EAAGC,EAAiD,EAAjDA,MAAgCgf,GAAiB,EAA1CC,WAA0C,EAA9BhoB,KAA8B,EAAxBwV,MAAwB,EAAjBuS,YAClDrZ,qBAAU,WAAQ,GAAE,IAEpB,MAA4CvH,mBAAS,GAArD,mBAAuB8gB,GAAvB,WACA,EAA4C9gB,mBAAS,GAArD,mBAAuB+gB,GAAvB,WAEMC,EAAWC,uBAAY,SAACC,GAC5B,GAAa,OAATA,EAAe,CACjBvoB,QAAQC,IAAI,YAAasoB,EAAKC,yBAE9BxoB,QAAQC,IAAI,iBAAkBsoB,EAAKC,wBAAwBC,GAC3D,IAAMC,EAAiBH,EAAKC,wBAAwBC,EACpDN,EAAkBO,EACnB,CACF,GAAE,IAEGC,EAAWL,uBAAY,SAACC,GAC5B,GAAa,OAATA,EAAe,CACjB,IAAK,IAAIxJ,EAAI,EAAGA,EAAIwJ,EAAKK,SAAS1Z,OAAQ6P,IACxCwJ,EAAKK,SAAS7J,GAAGvX,MAAMtB,OAAS,EAGlClG,QAAQC,IAAI,YAAasoB,EAAKM,WAAWL,yBACzCxoB,QAAQC,IAAI,iBAAkBsoB,EAAKM,WAAWL,wBAAwBC,GACtE,IAAMC,EAAiBH,EAAKM,WAAWL,wBAAwBC,EAC/DL,EAAkBM,EACnB,CACF,GAAE,IAEH,OACE,qBAAKlhB,MAAO,CAAEshB,OAAQ,YAAtB,SACE,sBACEloB,GAAIoI,EAAEqG,IACN7H,MAAO,CACL3B,SAAUiiB,KACVpgB,cAAe,MACfD,QAAS,OACTgR,WAAY,UACZsQ,aAAc,GACdC,WAAY,OACZ1iB,WAAY,oBAThB,UAYE,8BACE,oBAAGkB,MAAO,CAAEtB,OAAQ,GAAKsF,IAAK6c,EAAUznB,GAAIoI,EAAEqG,IAAM,QAApD,UACG4Y,EAAahf,EACb,IAFH,YAKDjJ,QAAQC,IAAI,OAAQ+I,EAAEE,SACvB,qBACE1B,MAAO,CAAC,EACRgE,IAAKmd,EACL7Q,wBAAyB,CAAEC,OAAQ/O,EAAEE,eAK9C,EAmpBc+f,ICl0BX,GDk0BWA,GAjpBf,WACE,IAAM7hB,EAAUzC,KAChB,EAAgD0C,mBAAS,IAAzD,mBACA,GADA,UACsCA,mBAAS,KAA/C,mBAEA,GAFA,UAE0BA,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsCF,mBAAS,GAA/C,mBACA,GADA,UACgCA,mBAAS,OAAzC,mBACA,GADA,UACoCA,mBAAS,IAA7C,6BAMA,IASA,EAAkCA,mBAAS,IAA3C,mBAAkBqN,GAAlB,WACA,EAAoCrN,mBAAS,IAA7C,mBACA,GADA,UACkCA,mBAAS,KAA3C,mBACA,GADA,UAEEqF,qBAAWhN,IACPwpB,GAFN,EAAQpa,gBAAR,EAAyBC,mBAAzB,EAA6CxP,UAA7C,EAAwDyP,kBAEvCma,eAEjBnpB,QAAQC,IAAI,iBAAkBipB,EAASppB,OAEvC8O,qBAAU,WACR,IAAMiG,EAAS,iDAAG,8GAEGC,QAAQC,IAAI,CAC7B5K,EAAU,SACVA,EAAU,QACVA,EAAU,WALI,OAEV6D,EAFU,OAOhBhO,QAAQC,IAAI,OAAQ+N,GACpB0G,EAAa1G,GARG,2CAAH,qDAUf6G,GACD,GAAE,IAEH,IAgDMuU,EAA4B,SAACpb,EAAM/E,EAAO/I,EAAM+nB,GACpD,IAAMoB,EAAa,CAAC,SAAK,SAAK,UAC1Bpa,EAAa,GACbqa,EAAiB,EAClBJ,EAASppB,MAAMwe,gBAAkB4K,EAASppB,MAAMye,aAAayG,QAAQ,IACrEkE,EAASppB,MAAM0e,kBAAoB0K,EAASppB,MAAM2e,eAAeuG,QAChE,IAEDkE,EAASppB,MAAM4e,cAAgBwK,EAASppB,MAAM6e,WAAWqG,QAAQ,IAGpEsE,EAAiBA,EAAe3J,QAAO,SAAUrY,GAC/C,MAAiB,QAAVA,CACR,IACDtH,QAAQC,IAAI,iBAAkBqpB,GAE9B,IAAMzF,EAAaqF,EAASppB,MAAMkO,KAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACxC4jB,EAAeoF,EAASppB,MAAMkO,KAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAC5CwV,EAAQ,EAEZA,GAASmO,EAAW3U,OAEpBwG,GAASoO,EAAa5U,OAGJ,iBAAdnM,GACFkM,EAAW1C,KACT,sBACE/E,MAAO,CACLwhB,WAAY,OACZnjB,SAAUiiB,KACVxhB,WAAY,mBAEd1F,GAAIyoB,EAAWpgB,GANjB,UAQGogB,EAAWpgB,GACX,IACA/I,EACA,IACA,eACAopB,EAAergB,GACf,aAIP,IAAMif,EAAa,CACjB,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UA4CF,OA1CkBve,KAAK4f,MAAM5f,KAAKC,UAAUoE,IAElCjF,KAAI,SAACC,EAAGC,GAChB,GAAa,uBAAT/I,EAAgB,CAClB,IAAK,IAAI6e,EAAI,EAAGA,EAAI/V,EAAEE,QAAQgG,OAAQ6P,IAAK,CACzC,IAAIyK,EAAUxgB,EAAEE,QAAQugB,OAAO1K,GAEzB2K,EAAQ,SAACna,GAAD,OAAaA,IAAYia,CAAzB,EAEd,IAAqC,IAAjCtB,EAAW7P,UAAUqR,GAAe,CACtC,IAAMC,EACJzB,EAAWxS,EAAQwS,EAAW7P,UAAUqR,GAAS,GACnD1gB,EAAEE,QAAUF,EAAEE,QAAQ0gB,QAAQJ,EAASG,EACxC,CACF,CAED,IAAS5K,EAAI,EAAGA,EAAI/V,EAAEE,QAAQgG,OAAQ6P,IAAK,CACrCyK,EAAUxgB,EAAEE,QAAQugB,OAAO1K,GAA/B,IAEM2K,EAAQ,SAACna,GAAD,OAAaA,IAAYia,CAAzB,EAEd,IAAqC,IAAjCtB,EAAW7P,UAAUqR,GAAe,CACtC,IAAMC,EAAazB,EAAWA,EAAW7P,UAAUqR,GAAS,GAC5D1gB,EAAEE,QAAUF,EAAEE,QAAQ0gB,QAAQJ,EAASG,EACxC,CACF,CAEDjU,GAAS1M,EAAEmI,OAAOjC,MACnB,CAEDD,EAAW1C,KACT,cAAC,GAAD,CACE0b,WAAYA,EACZjf,EAAGA,EACHC,MAAOA,EACPif,WAAYA,EACZhoB,KAAMA,EACNwV,MAAOA,IAGZ,IAEMzG,CACR,EAEK4a,EAAkC,SACtC7b,EACA/E,EACA/I,EACA+nB,EACA6B,GAEA,IAAMT,EAAa,CAAC,SAAK,SAAK,UAC1BC,EAAiB,EAClBJ,EAASppB,MAAMwe,gBAAkB4K,EAASppB,MAAMye,aAAayG,QAAQ,IACrEkE,EAASppB,MAAM0e,kBAAoB0K,EAASppB,MAAM2e,eAAeuG,QAChE,IAEDkE,EAASppB,MAAM4e,cAAgBwK,EAASppB,MAAM6e,WAAWqG,QAAQ,IAGpEsE,EAAiBA,EAAe3J,QAAO,SAAUrY,GAC/C,MAAiB,QAAVA,CACR,IACDtH,QAAQC,IAAI,iBAAkBqpB,GAC9B,IAAIra,EAAa,GAkDjB,MAjDkB,iBAAdlM,GACFkM,EAAW1C,KACT,sBACE/E,MAAO,CACL3B,SAA0B,GAAhBiiB,GACVrP,WAAY,GACZnS,WAAY,mBAEd1F,GAAIyoB,EAAWpgB,GANjB,UAQGogB,EAAWpgB,GACX,IACA/I,EACA,IAEA,eAEAopB,EAAergB,GACf,aAKPgG,EAAW1C,KACTyB,EAAKjF,KAAI,SAACC,EAAGC,GACX,OACE,sBACErI,GAAIoI,EAAEqG,IAAM,SACZ7H,MAAO,CACL3B,SAA0B,EAAhBiiB,GACVpgB,cAAe,MACfD,QAAS,OACTnB,WAAY,mBACZmS,WAAY,UACZsQ,aAAc,GACdC,WAAY,QAThB,UAYE,qBAAKxhB,MAAO,CAAEtB,OAAQ,GAAtB,SACE,8BACG+hB,EAAahf,EACb,IAFH,YAKF,qBAAK6O,wBAAyB,CAAEC,OAAQ/O,EAAErF,kBAG/C,KAEIsL,CACR,EAEK8a,EAAqB,SAAC/b,EAAM8b,GAChC9b,EAAKiW,MAAK,SAAUC,EAAGC,GACrB,OAAOrF,SAASoF,EAAEhkB,MAAQ4e,SAASqF,EAAEjkB,KACtC,IACD,MAAmDgpB,EAASppB,MAApDwB,EAAR,EAAQA,KAAM0e,EAAd,EAAcA,SAAUjd,EAAxB,EAAwBA,UAAWiB,EAAnC,EAAmCA,YAC7B6f,EAAa7V,EAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACzB4jB,EAAe9V,EAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAC3B6jB,EAAW/V,EAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAEzB+O,EAAa,GACjBA,EAAW1C,KACT,qBACE3L,GAAG,YACH4G,MAAO,CACLC,QAAS,OACTtC,eAAgB,SAChBY,WAAY,SACZF,SAAU,KACVS,WAAY,oBACZmS,WAAY,IARhB,SAWG,+CAGLxJ,EAAW1C,KACT,qBACE3L,GAAG,YACH4G,MAAO,CACLiR,WAAY,GACZhR,QAAS,OACTtC,eAAgB,SAChBY,WAAY,SACZF,SAAUiiB,KACVxhB,WAAY,qBARhB,SAWGhF,EAAO,IAAM0C,GAAeA,EAAc,SAAM,IAAMjB,KAG3DkM,EAAW1C,KACT,qBACE3L,GAAG,YACH4G,MAAO,CACLiR,WAAY,GACZhR,QAAS,OAET5B,SAAUiiB,KACVxhB,WAAY,mBAPhB,SAUG,gBAAQ0Z,KAGb,IAAItK,EAAQ,EACRuS,EAAa,EAqBjB,OApBIpE,EAAW3U,SACbD,EAAW1C,KACT6c,EAA0BvF,EAAYnO,EAAO,qBAAOuS,IAEtDvS,GAAgB,EAChBuS,GAAcpE,EAAW3U,QAEvB4U,EAAa5U,SACfD,EAAW1C,KACT6c,EAA0BtF,EAAcpO,EAAO,qBAAOuS,IAExDvS,GAAgB,EAChBuS,GAAcnE,EAAa5U,QAEzB6U,EAAS7U,QACXD,EAAW1C,KACT6c,EAA0BrF,EAAUrO,EAAO,qBAAOuS,IAI/ChZ,CACR,EAEK+a,EAA2B,SAAChc,EAAM8b,GACtC9b,EAAKiW,MAAK,SAAUC,EAAGC,GACrB,OAAOrF,SAASoF,EAAEhkB,MAAQ4e,SAASqF,EAAEjkB,KACtC,IACD,MAAmDgpB,EAASppB,MAApDwB,EAAR,EAAQA,KAAM0e,EAAd,EAAcA,SAAUhc,EAAxB,EAAwBA,YAAajB,EAArC,EAAqCA,UAE/B8gB,EAAa7V,EAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACzB4jB,EAAe9V,EAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAC3B6jB,EAAW/V,EAAK2R,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAEzB+O,EAAa,GACjBA,EAAW1C,KACT,qBACE3L,GAAG,YACH4G,MAAO,CACLC,QAAS,OACTtC,eAAgB,SAChBY,WAAY,SACZF,SAAUiiB,KACVxhB,WAAY,oBACZmS,WAAY,IARhB,SAWG,+CAGLxJ,EAAW1C,KACT,qBACE3L,GAAG,YACH4G,MAAO,CACLC,QAAS,OACTtC,eAAgB,SAChBY,WAAY,SACZF,SAAUiiB,KACVxhB,WAAY,oBACZmS,WAAY,IARhB,SAWGnX,EACC,IACA0C,GACCA,EAAc,SAAM,IACrBjB,EACA,kBAGNkM,EAAW1C,KACT,qBACE3L,GAAG,YACH4G,MAAO,CACLC,QAAS,OACTtC,eAAgB,SAChBY,WAAY,SACZF,SAA0B,GAAhBiiB,GACVxhB,WAAY,kBACZmS,WAAY,IARhB,SAWG,gBAAQuH,KAGb,IAAItK,EAAQ,EACRuS,EAAa,EAuCjB,OAtCIpE,EAAW3U,SACbD,EAAW1C,KACTsd,EACEhG,EACAnO,EACA,qBACAuS,IAIJvS,GAAgB,EAChBuS,GAAcpE,EAAW3U,QAEvB4U,EAAa5U,SACfD,EAAW1C,KACTsd,EACE/F,EACApO,EACA,qBACAuS,IAIJvS,GAAgB,EAChBuS,GAAcnE,EAAa5U,QAEzB6U,EAAS7U,QACXD,EAAW1C,KACTsd,EACE9F,EACArO,EACA,qBACAuS,IAMChZ,CACR,EAEK/C,EAAUC,cAiBhB,QAAuBoP,IAAnB2N,EAASppB,MACX,OAAO,cAAC,IAAD,CAAU2N,GAAG,MAGtB,MAAmDyb,EAASppB,MAApDwB,EAAR,EAAQA,KAAM0e,EAAd,EAAcA,SAAUjd,EAAxB,EAAwBA,UAAWiB,EAAnC,EAAmCA,YAEnC,OACE,sBAAKmE,UAAWf,EAAQnB,KAAxB,UACE,eAACgH,EAAA,EAAD,CACE9E,UAAWf,EAAQmf,eACnB3Y,eAAa,EACb/E,QAAS,WACPqD,EAAQmK,QACT,EALH,UAOE,cAAC,KAAD,CAAoBN,KAAM,KAC1B,cAACjN,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQhB,WAAlC,SACGvF,EAAQ2B,cAIb,sBAAK2F,UAAWf,EAAQ4Q,WAAxB,UACE,sBACExQ,MAAO,CACLE,cAAe,MACfD,QAAS,OACTtC,eAAgB,iBAJpB,UAOE,cAAC2D,EAAA,EAAD,CACEX,UAAS,UAAKf,EAAQhB,UAAb,YAA0BgB,EAAQif,qBAD7C,SAGGxlB,EAAQ+B,eAGX,cAAC,GAAD,CACEsG,QAASrI,EAAQgD,cACjBgF,QAAO,gCAAE,wGAoEP,IAnEoB+K,SACjBqW,eAAe,0BACfC,iBAAiB,OACRC,SAAQ,SAAUjD,GAC5BlnB,QAAQC,IAAI,OAAQinB,GACpBA,EAAKpT,aAAa,QAASoT,EAAKsB,wBAAwB9iB,OACxDwhB,EAAKpT,aACH,SACAoT,EAAKsB,wBAAwB/iB,QAE/ByhB,EAAK1f,MAAM9B,MAAQ,KACnBwhB,EAAK1f,MAAM/B,OAAS,IACrB,IACyBmO,SACvBqW,eAAe,gCACfC,iBAAiB,OACFC,SAAQ,SAAUjD,GAClClnB,QAAQC,IAAI,OAAQinB,GACpBA,EAAKpT,aAAa,QAASoT,EAAKsB,wBAAwB9iB,OACxDwhB,EAAKpT,aACH,SACAoT,EAAKsB,wBAAwB/iB,QAE/ByhB,EAAK1f,MAAM9B,MAAQ,KACnBwhB,EAAK1f,MAAM/B,OAAS,IACrB,IAEG2kB,EAAexW,SAASqW,eAC1B,0BACAI,UACEC,EAAqB1W,SAASqW,eAChC,gCACAI,UAEEE,EAAQ,GACRH,GAAcG,EAAMhe,KAAK6d,GACzBE,GAAoBC,EAAMhe,KAAK+d,GAI/BE,EAAM,CACRtkB,OAAQ,CAAC,GAAI,GAAI,GAAI,IACrBukB,SACEnpB,EACA,IACA0C,EACA,SACAjB,EACA,IACAid,EACA,IAZkB,CAAC,eAAM,2BAAQ,8CAanB1Y,GACd,OACFuL,MAAO,CAAE3S,KAAM,OAAQqT,QAAS,KAChCmX,YAAa,CACXC,MAAO,EACPC,QAAS,EACTC,QAAS,GAEXC,UAAW,CAAEC,KAAM,CAAC,cAEpBC,MAAO,CACLC,OAAQ,KACRC,YAAa,aAGbC,EAAMC,OAAWC,IAAIb,GAAKc,KAAKf,EAAM,IAAIgB,QACpCnM,EAAI,EAAGA,EAAImL,EAAMrb,OAAQkQ,IAChC+L,EAAMA,EACHK,IAAI,OACJ3hB,MAAK,SAAC4hB,GACLA,EAAIC,SACL,IACAJ,KAAKf,EAAMnL,IACXuM,cACAC,WACAC,QACAN,QAELJ,EAAIW,OAhFG,iDAuFb,cAAC,GAAD,CAAaxkB,MAAOA,EAAOyP,aA3mBZ,SAAChP,EAAOuQ,GAC3BtY,QAAQC,IAAI,WAAYqY,GACxB/Q,EAAS+Q,EACV,IA2mBO,qBAAK9Q,MAAO,CAAEC,QAAS,OAAQtC,eAAgB,UAA/C,SACE,sBACEqC,MAAO,CACLlC,gBAAiB,QACjBI,MAAO,WACPsN,aAAc,QAJlB,UAOa,IAAV1L,GAAeyiB,EAAmBb,EAASppB,MAAMkO,MACvC,IAAV1G,GAAe0iB,EAAyBd,EAASppB,MAAMkO,MAC7C,IAAV1G,GAAeyiB,EAAmBb,EAASppB,MAAMkO,MACvC,IAAV1G,GAAe0iB,EAAyBd,EAASppB,MAAMkO,WAvJhE,sBAAKpN,GAAG,mBAAmB4G,MAAO,CAAEukB,WAAY,UAAhD,UACE,sBAAKnrB,GAAG,yBAAR,UACa,IAAV0G,GAAeyiB,EAAmBb,EAASppB,MAAMkO,MACvC,IAAV1G,GAAeyiB,EAAmBb,EAASppB,MAAMkO,SAEpD,sBAAKpN,GAAG,+BAAR,UACa,IAAV0G,GAAe0iB,EAAyBd,EAASppB,MAAMkO,MAC7C,IAAV1G,GAAe0iB,EAAyBd,EAASppB,MAAMkO,iBAwJjE,EC9zBG,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAW7N,OAAOC,OAASD,OAAOC,OAAO6gB,OAAS,SAAUjZ,GAAU,IAAK,IAAI+W,EAAI,EAAGA,EAAImC,UAAUhS,OAAQ6P,IAAK,CAAE,IAAIoC,EAASD,UAAUnC,GAAI,IAAK,IAAIvN,KAAO2P,EAAchhB,OAAOihB,UAAUC,eAAeC,KAAKH,EAAQ3P,KAAQxJ,EAAOwJ,GAAO2P,EAAO3P,GAAU,CAAE,OAAOxJ,CAAQ,EAAU,GAASuZ,MAAMC,KAAMN,UAAY,CAElV,SAAS,GAAyBC,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,CAAC,EAAG,IAAkE3P,EAAKuN,EAAnE/W,EAEzF,SAAuCmZ,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,CAAC,EAAG,IAA2D3P,EAAKuN,EAA5D/W,EAAS,CAAC,EAAO2Z,EAAaxhB,OAAOyhB,KAAKT,GAAqB,IAAKpC,EAAI,EAAGA,EAAI4C,EAAWzS,OAAQ6P,IAAOvN,EAAMmQ,EAAW5C,GAAQ2C,EAAS5B,QAAQtO,IAAQ,IAAaxJ,EAAOwJ,GAAO2P,EAAO3P,IAAQ,OAAOxJ,CAAQ,CAFhN,CAA8BmZ,EAAQO,GAAuB,GAAIvhB,OAAO2hB,sBAAuB,CAAE,IAAIC,EAAmB5hB,OAAO2hB,sBAAsBX,GAAS,IAAKpC,EAAI,EAAGA,EAAIgD,EAAiB7S,OAAQ6P,IAAOvN,EAAMuQ,EAAiBhD,GAAQ2C,EAAS5B,QAAQtO,IAAQ,GAAkBrR,OAAOihB,UAAUY,qBAAqBV,KAAKH,EAAQ3P,KAAgBxJ,EAAOwJ,GAAO2P,EAAO3P,GAAQ,CAAE,OAAOxJ,CAAQ,CAM3e,SAASgkB,GAAS9J,EAAMC,GACtB,IAAIld,EAAQid,EAAKjd,MACbmd,EAAUF,EAAKE,QACf7W,EAAQ,GAAyB2W,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDxc,MAAO,GACPD,OAAQ,GACR4c,QAAS,YACT7M,KAAM,OACN8M,MAAO,6BACP9W,IAAK2W,EACL,kBAAmBC,GAClB7W,GAAQtG,EAAqB,gBAAoB,QAAS,CAC3DrE,GAAIwhB,GACHnd,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3Esd,EAAG,0QACH0J,OAAQ,UACRC,YAAa,MACbC,cAAe,QACfC,eAAgB,WAEpB,CAEA,IAAI,GAA0B,aAAiBJ,ICvBzChJ,IDwBS,ICxBgBtY,aAAW,SAAC7F,GAAD,MAAY,CACpDoB,KAAM,CACJC,OAAQ,EACRG,WAAY,IACZhB,MAAO,sBACPQ,SAAU,IAL4B,GAAX6E,CAO3BC,MAEEF,GAAoBC,aAAW,SAAC7F,GAAD,MAAY,CAC/CoB,KAAM,CACJC,OAAQ,kBACRG,WAAY,IACZhB,MAAO,yBACPQ,SAAU,IALuB,GAAX6E,CAOtBC,KAEEC,GAAgBF,aAAW,SAAC7F,GAAD,MAAY,CAC3CoB,KAAM,CACJC,OAAQ,kBACRN,QAAS,WAHoB,GAAX8E,CAKlBG,KAEElG,GAAYC,aAAW,iBAAO,CAClC0D,MAAO,CAAEwC,SAAU,SACnBC,OAAQ,CACNnF,QAAS,EACTF,MAAO,GACPD,OAAQ,GACRY,WAAY,IACZP,aAAc,EACdT,MAAO,uBACPE,OAAQ,iCACRM,SAAU,GACV,UAAW,CACTP,gBAAiB,QACjBK,UAAW,SAGfqF,aAAc,CACZ3F,MAAO,QACPC,gBAAiB,uBACjB,UAAW,CACTA,gBAAiB,uBACjBK,UAAW,SAGfsF,UAAW,CACTxF,OAAQ,GACRqB,KAAM,EACN,wGACE,CACEW,QAAS,QAEb,qCAAsC,CACpCyD,YAAa,GAEf,oCAAqC,CACnCA,YAAa,GAEf,8BAA+B,CAC7BA,YAAa,GAEf,+BAAgC,CAC9BA,YAAa,GAEf,yBAA0B,CACxBzF,OAAQ,GACRG,QAAS,IAGbuF,YAAa,CACXtF,SAAU,GACVR,MAAO,sBACPgB,WAAY,IACZ+E,eAAgB,MAElBnF,KAAM,CACJR,OAAQ,GACRF,OAAQ,gCACRkC,QAAS,OACT1B,WAAY,SACZH,QAAS,mBACTY,UAAW,EACXV,aAAc,GAEhB0X,MAAO,CACLjY,OAAQ,kCAhEiB,IAoEvB8hB,GAAgB1nB,IAAM2L,YAAW,SAACC,EAAOC,GAC7C,IAAQC,EACNF,EADME,KAAMC,EACZH,EADYG,QAASrI,EACrBkI,EADqBlI,iBAAkBgpB,EACvC9gB,EADuC8gB,kBAAmBroB,EAC1DuH,EAD0DvH,YAEpDjB,EAA8BM,EAA9BN,UAAWid,EAAmB3c,EAAnB2c,SAAU1e,EAAS+B,EAAT/B,KAC7BtB,QAAQC,IAAI,mBAAoBoD,GAChC,MAA8CgE,mBAAS,IAAvD,mBAAOiX,EAAP,KAAwBgF,EAAxB,KACA,EAAkDjc,mBAAS,IAA3D,mBAAOmX,EAAP,KAA0B+E,EAA1B,KACA,EAA0Clc,mBAAS,IAAnD,mBAAOqX,EAAP,KAAsB8E,EAAtB,KACA,EAAwCnc,mBAAS,IAAjD,mBAAOnD,EAAP,KAAqByZ,EAArB,KAEA,EAAwCtW,mBAAS,IAAjD,mBAAOilB,EAAP,KAAqBC,EAArB,KACA,EAA4CllB,mBAAS,IAArD,mBAAOmlB,EAAP,KAAuBC,EAAvB,KACA,EAAoCplB,mBAAS,IAA7C,mBAAOqlB,EAAP,KAAmBC,EAAnB,KAEMvlB,EAAUzC,KAIVsH,EAAc,WAClBjM,QAAQC,IAAI,SACZyL,GAAQ,EACT,EAED,EAAwCrE,mBAAS,IAAjD,mBAAOulB,GAAP,KAAqBC,GAArB,KACA,GAA4CxlB,mBAAS,IAArD,qBAAOylB,GAAP,MAAuBC,GAAvB,MACA,GAAoC1lB,mBAAS,IAA7C,qBAAO2lB,GAAP,MAAmBC,GAAnB,MAEAre,qBAAU,WACR,IAAMiV,EAAawI,EAAkB1M,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACtC4jB,EAAeuI,EAAkB1M,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACxC6jB,EAAWsI,EAAkB1M,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACtCkP,EAAS,GACbyU,EAAW9a,KAAI,SAACC,EAAGC,GACjBmG,EAAO7C,KAAK,CAAErD,QAASD,EAAQ,GAChC,IACD4jB,GAAgBzd,GAChBA,EAAS,GACT0U,EAAa/a,KAAI,SAACC,EAAGC,GACnBmG,EAAO7C,KAAK,CAAErD,QAASD,EAAQ,GAChC,IACD8jB,GAAkB3d,GAClBA,EAAS,GACT2U,EAAShb,KAAI,SAACC,EAAGC,GACfmG,EAAO7C,KAAK,CAAErD,QAASD,EAAQ,GAChC,IACDgkB,GAAc7d,EACf,GAAE,CAACid,IAEJrsB,QAAQC,IAAI,aAAc+sB,IAC1B,OAA0B3lB,oBAAS,GAAnC,qBAAOuW,GAAP,MAAcC,GAAd,MACMmG,GAAa,iDAAG,oJACE3G,GAAenZ,GADjB,UACdgpB,EADc,OAEpBltB,QAAQC,IAAI,UAAWitB,GACA,IAAnBA,EAAQhe,OAHQ,uBAIlB2O,IAAS,GACTG,YAAW,kBAAMH,IAAS,EAAf,GAAsB,KALf,0BASdgG,EAAawI,EAAkB1M,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACtC4jB,EAAeuI,EAAkB1M,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IACxC6jB,EAAWsI,EAAkB1M,QAAO,SAAC3W,GAAD,MAAkB,MAAXA,EAAE9I,IAAT,IAEpCitB,EAAqBtJ,EAAWI,MAAK,iBAAM,GAAMmJ,KAAKC,QAAjB,IACvCC,EAAiBH,EAAmB9N,MAAM,EAAGiN,GAC3CiB,EAAuBzJ,EAAaG,MAAK,iBAAM,GAAMmJ,KAAKC,QAAjB,IAC3CG,EAAmBD,EAAqBlO,MAAM,EAAGmN,GAC/CiB,EAAmB1J,EAASE,MAAK,iBAAM,GAAMmJ,KAAKC,QAAjB,IACnCK,EAAeD,EAAiBpO,MAAM,EAAGqN,GAEvC1e,EAAOqe,EAAkBpI,MAAK,SAAUC,EAAGC,GAC/C,OAAOrF,SAASoF,EAAEhkB,MAAQ4e,SAASqF,EAAEjkB,KACtC,IAEG6d,EAAa,GAEjBuP,EAAevkB,KAAI,SAACC,GAClB,IAAMob,EAAepb,EAAEmI,OAAOjC,OACf,MAAXlG,EAAE9I,MACJ8I,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,CAC3B,IACDtG,GAA0B,IAAImB,OAAO,GAAKkF,IAE1Cpb,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,EAC1BtG,GAA0B,IAAImB,OAAO,GACtC,GAEJ,IAEDsO,EAAiBzkB,KAAI,SAACC,GACpB,IAAMob,EAAepb,EAAEmI,OAAOjC,OACf,MAAXlG,EAAE9I,MACJ8I,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,CAC3B,IACDtG,GAA0B,IAAImB,OAAO,GAAKkF,IAE1Cpb,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,EAC1BtG,GAA0B,IAAImB,OAAO,GACtC,GAEJ,IAEDwO,EAAa3kB,KAAI,SAACC,GAChB,IAAMob,EAAepb,EAAEmI,OAAOjC,OACf,MAAXlG,EAAE9I,MACJ8I,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,CAC3B,IACDtG,GAA0B,IAAImB,OAAO,GAAKkF,IAE1Cpb,EAAEmI,OAAOpI,KAAI,SAACsb,GACZtG,GAA0BsG,EAC1BtG,GAA0B,IAAImB,OAAO,GACtC,GAEJ,IAEKoF,EAAsB,WAC1B,IAAMC,EACkB,IAAtBV,EAAW3U,QAAsBoP,EAAgBpP,OAC7CsV,EACoB,IAAxBV,EAAa5U,QAAsBsP,EAAkBtP,OACjDuV,EAA+B,IAApBV,EAAS7U,QAAsBwP,EAAcxP,OAE9D,OAAOqV,GAAcC,GAAgBC,CACtC,EAGCzW,EAAKkB,QACLnM,EAAUmM,QACV5N,EAAK4N,QACL8Q,EAAS9Q,QACToV,KACApgB,EAAagL,QACb6O,EAAW2G,OAAOxV,OAEpBjD,IAEI2S,EAAoB,GACpBI,EAAY,GAChBsO,EAAevkB,KAAI,SAACC,GAClB4V,EAAkBrS,KAAK,KACvByS,EAAUzS,KAAKvD,EAAEqG,IAClB,IAEDme,EAAiBzkB,KAAI,SAACC,GACpB4V,EAAkBrS,KAAK,KACvByS,EAAUzS,KAAKvD,EAAEqG,IAClB,IAEDqe,EAAa3kB,KAAI,SAACC,GAChB4V,EAAkBrS,KAAKvD,EAAEmI,OAAOjC,QAChC8P,EAAUzS,KAAKvD,EAAEqG,IAClB,IAEKsV,EACJC,WAAWtG,GAAoC,KAC/CsG,WAAWpG,GAAwC,KACnDoG,WAAWlG,GAAgC,KAEvCmG,EACJD,WAAWtG,GAAoC,KAAOqG,EAClDG,EACJF,WAAWpG,GAAwC,KAAOmG,EACtDI,EACJH,WAAWlG,GAAgC,KAAOiG,EAE9Cpb,EAAO,CACXxG,UAAW,2BACXzB,KAAMA,EACN0C,YAAaA,EACbgc,SAAUA,EACV1C,OAAQpZ,EACRgF,QAAS6U,EAAW2G,OACpBnG,YAAa+O,EAAepe,OAC5BuP,cAAe+O,EAAiBte,OAChCyP,UAAW+O,EAAaxe,OACxBoP,iBAAuC,IAArBuG,GAA0BG,QAAQ,GACpDxG,mBAA2C,IAAvBsG,GAA4BE,QAAQ,GACxDtG,eAAmC,IAAnBqG,GAAwBC,QAAQ,GAChDpG,kBAAmBA,EACnBI,UAAWA,GAGbzU,EAAehB,GAEf2C,GAAQK,KAAK,CACXC,SAAU,UACV1M,MAAO,CACLkO,KAAMsf,EAAe3sB,OAAO6sB,EAAkBE,GAC9C3qB,UAAW,2BACXzB,KAAMA,EACN0C,YAAaA,EACbgc,SAAUA,EACVzB,YAAa+O,EAAepe,OAC5BuP,cAAe+O,EAAiBte,OAChCyP,UAAW+O,EAAaxe,OACxBoP,iBAAuC,IAArBuG,GAA0BG,QAAQ,GACpDxG,mBAA2C,IAAvBsG,GAA4BE,QAAQ,GACxDtG,eAAmC,IAAnBqG,GAAwBC,QAAQ,MAzJhC,4CAAH,qDA8JnB,GAA0B3d,mBAAS,IAAnC,qBACM6E,IADN,YACgBC,eAIhB,OAFAnM,QAAQC,IAAI,oBAAqBosB,GAG/B,eAAC1f,EAAA,EAAD,CACEC,QAASX,EACTR,KAAMA,EACNoB,WAAY,CACVrF,MAAO,CACL9B,MAAO,IAEPI,aAAc,EACdP,OAAQ,mCACRI,UAAW,OACXC,QAAS,KAVf,UAcE,cAAC,GAAD,UACG/E,EAAQuD,oBAGX,sBAAKoD,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,UACE,sBAAKF,MAAO,CAAEV,KAAM,GAApB,UACE,cAAC,GAAD,UAAoBjG,EAAQgB,cAC5B,cAAC,EAAD,CACEoF,aAAcpG,EAAQwD,YACtB6C,SAAU0lB,GACVzlB,WAAYolB,OAIhB,sBAAK/kB,MAAO,CAAEV,KAAM,GAApB,UACE,cAAC,GAAD,UAAoBjG,EAAQyC,mBAC5B,qBAAK6E,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACE2C,UAAW6c,EACXpsB,KAAK,SACLoH,MAAOgX,EACPxW,SAAU,SAACkB,GACTsa,EAAmBta,EAAEhB,OAAOV,MAC7B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQ4C,eACrBwhB,WAAY,CAAEC,UAAW,UAAWC,QAAS,oBAMrD,sBAAK3d,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,UACE,sBAAKF,MAAO,CAAEV,KAAM,GAApB,UACE,cAAC,GAAD,UAAoBjG,EAAQiB,gBAC5B,cAAC,EAAD,CACEmF,aAAcpG,EAAQwD,YACtB6C,SAAU4lB,GACV3lB,WAAYslB,OAIhB,sBAAKjlB,MAAO,CAAEV,KAAM,GAApB,UACE,cAAC,GAAD,UAAoBjG,EAAQ0C,qBAC5B,qBAAK4E,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACE2C,UAAW+c,EACXtsB,KAAK,SACLoH,MAAOkX,EACP1W,SAAU,SAACkB,GACTua,EAAqBva,EAAEhB,OAAOV,MAC/B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQ4C,eACrBwhB,WAAY,CAAEC,UAAW,UAAWC,QAAS,oBAMrD,sBAAK3d,MAAO,CAAEC,QAAS,OAAQC,cAAe,OAA9C,UACE,sBAAKF,MAAO,CAAEV,KAAM,GAApB,UACE,cAAC,GAAD,UAAoBjG,EAAQkB,YAC5B,cAAC,EAAD,CACEkF,aAAcpG,EAAQwD,YACtB6C,SAAU8lB,GACV7lB,WAAYwlB,OAIhB,sBAAKnlB,MAAO,CAAEV,KAAM,GAApB,UACE,cAAC,GAAD,UAAoBjG,EAAQ2C,iBAC5B,qBAAK2E,UAAWf,EAAQnB,KAAxB,SACE,cAAC6G,EAAA,EAAD,CACE2C,UAAWid,EACXxsB,KAAK,SACLoH,MAAOoX,EACP5W,SAAU,SAACkB,GACTwa,EAAiBxa,EAAEhB,OAAOV,MAC3B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQ4C,eACrBwhB,WAAY,CAAEC,UAAW,UAAWC,QAAS,oBAMrD,qBACEhd,UACEyV,GAAK,UAAMxW,EAAQnB,MAAd,UAA0BmB,EAAQnB,KAAlC,YAA0CmB,EAAQoW,OAF3D,SAKE,cAAC1Q,EAAA,EAAD,CACExF,MAAOpD,EACP4D,SAAU,SAACkB,GACT2U,EAAgB3U,EAAEhB,OAAOV,MAC1B,EACDyF,WAAY,CACV3F,QAAS,CACP4F,MAAO5F,EAAQ+D,cAGnBhD,UAAWf,EAAQ6D,UACnBE,YAAatK,EAAQqC,qBAGzB,cAAC,GAAD,CACEsE,MAAO,CACLnC,MAAO,uBACPmB,UAAW,EACXX,SAAU,EACVJ,OAAQ,IALZ,UAQImY,IAAS/c,EAAQsC,qBAGrB,eAAC,GAAD,WACE,cAAC8J,EAAA,EAAD,CAAQ9E,UAAWf,EAAQ2D,OAAQlC,QAASoD,EAA5C,SACGpL,EAAQe,SAEX,cAACqL,EAAA,EAAD,CACE9E,UAAS,UAAKf,EAAQ2D,OAAb,YAAuB3D,EAAQ4D,cACxCnC,QAASmb,GAFX,SAIGnjB,EAAQmC,oBAKlB,IAEcqkB,MCxcT1iB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJR,OAAQ,QAEVkoB,UAAW,CACT/nB,QAAS,GACTE,aAAc,MACdR,gBAAiB,QACjBH,eAAgB,SAChBQ,UAAW,oCACXa,UAAW,IAEbJ,UAAW,CACTC,WAAY,IACZR,SAAU,OACVS,WAAY,aAEdigB,eAAgB,CACd9e,QAAS,OACTC,cAAe,MACf3B,WAAY,SACZS,UAAW,GACXZ,QAAS,EACT,UAAW,CACTN,gBAAiB,cACjBK,UAAW,SAGfioB,UAAW,CACTpnB,UAAW,GACXjB,OAAQ,gCACRO,aAAc,OAGhB+nB,aAAc,CACZnoB,MAAO,IACPW,WAAY,IACZR,SAAU,OACVS,WAAY,YACZE,UAAW,GACXzB,WAAY,GACZiO,aAAc,IAGhB8a,SAAU,CACRpoB,MAAO,IACPW,WAAY,IACZR,SAAU,OACVS,WAAY,YACZvB,WAAY,IAEdgpB,UAAW,CACThpB,WAAY,GACZU,OAAQ,GACRG,QAAS,WACTE,aAAc,GACdR,gBAAiB,0BAEnB2K,UAAW,CACT5J,WAAY,IACZR,SAAU,OACVS,WAAY,YACZjB,MAAO,wBAET2oB,QAAS,CACPvmB,QAAS,OACT1B,WAAY,SACZN,OAAQ,GACRwoB,UAAW,gCACX,UAAW,CACT3oB,gBAAiB,yBAtEM,IA2EvB4oB,GAAY,SAAC3iB,GACjB,IAAMnE,EAAUzC,KACRuE,EAAYqC,EAAZrC,QACR,OACE,qBAAKf,UAAWf,EAAQ2mB,UAAxB,SACE,cAACjlB,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQ6I,WAAlC,SAAgD/G,KAGrD,EAEKilB,GAAW,SAAC5iB,GAChB,IAAMnE,EAAUzC,KAEdgM,EAOEpF,EAPFoF,KACAxM,EAMEoH,EANFpH,MACAiqB,EAKE7iB,EALF6iB,MAEA1iB,GAGEH,EAJFE,KAIEF,EAHFG,SACA2iB,EAEE9iB,EAFF8iB,qBACAjL,EACE7X,EADF6X,eAEFpjB,QAAQC,IAAI,WAAYsL,GAExB,MAA8BlE,oBAAS,GAAvC,mBAAOinB,EAAP,KAAgBC,EAAhB,KAMA,OAJA3f,qBAAU,WACR5O,QAAQC,IAAI,QAASmuB,EACtB,GAAE,IAGD,sBACEvlB,QAAS,WACP,IAAMsN,EAAY,iDAAG,qGACnBnW,QAAQC,IAAI,QAASmuB,GADF,StCoFK7kB,EsClFqB,CAAE9J,WAAY2uB,GtCmFnEpuB,QAAQC,IAAI,OAAQsJ,GAEbC,MAAMJ,uBAAqC,CAChDK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAEL,OADAhK,QAAQC,IAAI+J,GACLA,CAER,IACAC,OAAM,SAACC,GAAD,OAAWlK,QAAQkK,MAAM,UAAWA,EAApC,IsCpGkB,OAEbiM,EAFa,OAGnBnW,QAAQC,IAAI,eAAgBkW,GAC5BkY,EAAqBlY,GACrBiN,EAAezS,GACfjF,GAAQ,GANW,iCtCoFI,IAACnC,CsCpFL,UAAH,qDAQlB4M,GACD,EACDhO,UAAWf,EAAQ4mB,QACnBQ,aAAc,kBAAMD,GAAW,EAAjB,EACdlT,aAAc,kBAAMkT,GAAW,EAAjB,EAdhB,UAgBE,cAACzlB,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQ0mB,UAAlC,SAA+Cnd,IAC/C,cAAC7H,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQ0mB,UAAlC,SACG3pB,EAAM6gB,QAAQ,KAEhBoJ,EAAMrlB,KAAI,SAACC,GACV,OAAO,cAAC,GAAD,eAAeA,GACvB,IACD,qBACExB,MAAO,CACLC,QAAS,OACTX,KAAM,EACN3B,eAAgB,WAChB4jB,aAAc,IALlB,SAQGuF,GAAW,cAAC,GAAD,QAInB,EA8FcG,GA5FD,WACZ,IAAMrnB,EAAUzC,KACVukB,EAAWC,cACjB,EAAwB9hB,oBAAS,GAAjC,mBAAOoE,EAAP,KAAaC,EAAb,KACA,EAAkDrE,mBAAS,IAA3D,mBAAOglB,EAAP,KAA0BgC,EAA1B,KACA,EAAsChnB,mBAAS,IAA/C,mBAAOrD,EAAP,KAAoBof,EAApB,KACMlX,EAAUC,cAChB,QAAuBoP,IAAnB2N,EAASppB,MACX,OAAO,cAAC,IAAD,CAAU2N,GAAG,MAEtB,MAAsDyb,EAASppB,MAAvD4d,EAAR,EAAQA,WAAYqC,EAApB,EAAoBA,YAAa1c,EAAjC,EAAiCA,iBAEjCrD,QAAQC,IAAI,mBAAoBoD,GAEhC,IACMwd,EAAYnD,EAAW,GAAGrF,WADjB,SAAC9I,GAAD,MAAyB,SAAZA,CAAb,IAGTmf,EAAahR,EAAW,GAAGrF,WADjB,SAAC9I,GAAD,MAAyB,UAAZA,CAAb,IAGVof,EAAajR,EAAW,GAAGrF,WADjB,SAAC9I,GAAD,MAAyB,gBAAZA,CAAb,IAGhBvP,QAAQC,IAAI,iBAAkBipB,EAASppB,OAwBvC,OACE,sBAAKqI,UAAWf,EAAQnB,KAAxB,UACE,eAACgH,EAAA,EAAD,CACE9E,UAAWf,EAAQmf,eACnB3Y,eAAa,EACb/E,QAAS,WACPqD,EAAQmK,QACT,EALH,UAOE,cAAC,KAAD,CAAoBN,KAAM,KAC1B,cAACjN,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQhB,WAAlC,SACGvF,EAAQ2B,cAIb,sBAAK2F,UAAWf,EAAQumB,UAAxB,UACE,eAAC7kB,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQhB,WAAlC,UACGvF,EAAQqD,aADX,KAC2B6b,KAG3B,sBAAK5X,UAAWf,EAAQwmB,UAAxB,UACE,sBAAKpmB,MAAO,CAAEC,QAAS,QAAvB,UACE,cAACqB,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQymB,cAAlC,SACGhtB,EAAQmD,cAEX,cAAC8E,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQymB,cAAlC,SACGhtB,EAAQsD,QAEX,cAAC2E,EAAA,EAAD,CAAYX,UAAS,UAAKf,EAAQymB,cAAlC,SACGhtB,EAAQoD,eAnDF,SAACwH,EAAMC,GAExB,OADA1L,QAAQC,IAAI,mBAAoByd,GACzBA,EAAW3U,KAAI,SAACC,EAAGC,GACxB,IAAM4M,EAAa7M,EAAE6X,IAAc7X,EAAE0lB,IAAe1lB,EAAE2lB,GACtD,OAAc,IAAV1lB,GAAgB4M,EAIhB,cAAC,GAAD,CACEpK,KAAMA,EACN4iB,qBAAsBA,EACtB3iB,QAASA,EACT0X,eAAgBA,EAChBzS,KAAM3H,EAAE6X,GACR1c,MAAO6E,EAAE0lB,GACTN,MAAOplB,EAAE2lB,UAVb,CAcH,GACF,CAmCQC,CAAWnjB,EAAMC,SAGtB,cAAC,GAAD,CACED,KAAMA,EACNzH,YAAaA,EACb0H,QAASA,EACT2gB,kBAAmBA,EACnBhpB,iBAAkBA,MAIzB,E,cC3OcwrB,ICyBTlqB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoB,KAAM,CACJwB,QAAS,OACTyY,SAAU,SACVza,OAAQ,SAEVqpB,WAAY,CACVtpB,YAAaX,EAAMG,QAAQ,IAE7BC,MAAO,CACLC,SAAU,EACVC,eAAgB,YAElB4pB,IAAK,CACHzpB,gBAAiB,yBACjBwB,KAAM,WACNlB,QAAS,uBAhBgB,IAsBvBf,GAAQmqB,YAAe,CAC3BC,WAAY,CACV3oB,WAAY,CAAC,mBAAmB2f,KAAK,KACrClb,OAAQ,CACNmkB,cAAe,WAqGNC,OAhGf,WACE,IAAM/nB,EAAUzC,KAEhB,EAA4CyqB,qBAC1CvvB,EACAP,EAAUC,WAFZ,mBAAO8vB,EAAP,KAAuBrgB,EAAvB,KAIA,EAAwCogB,qBACtC/uB,EACAf,EAAUE,SAFZ,mBAAO8vB,EAAP,KAAqBhjB,EAArB,KAIA,EAA8C8iB,qBAC5C1uB,EACApB,EAAUG,YAFZ,mBAAOqP,EAAP,KAAwBC,EAAxB,KAKA/O,QAAQC,IAAI,iBAAkBovB,GAC9BrvB,QAAQC,IAAI,eAAgBqvB,GAC5BtvB,QAAQC,IAAI,kBAAmB6O,GAE/B,IAAMygB,EAAahf,mBAGfjQ,GAFYkvB,eAEFjvB,OAAOC,cACrBR,QAAQC,IAAI,sBAAuBM,OAAOC,cAC1C,IAAQC,EAAUH,EAAVG,MAGR,OAFAT,QAAQC,IAAI,QAASQ,GACrBT,QAAQC,IAAI,gBAAiBQ,GAE3B,cAACf,EAAa+vB,SAAd,CACEnoB,MAAO,CACL/H,UAAW8vB,EAAe9vB,UAC1BC,QAAS8vB,EAAa9vB,QACtBsP,gBAAiBA,EACjBE,kBAAmBA,EACnB1C,gBAAiBA,EACjByC,mBAAoBA,GAPxB,SAUE,eAAC2gB,EAAA,EAAD,CAAe7qB,MAAOA,GAAtB,UACG7E,QAAQC,IAAI,yBAA0B0vB,qBACvC,cAAC,IAAD,UACE,sBAAKxnB,UAAWf,EAAQnB,KAAxB,UACE,cAAC,GAAD,IAOA,qBAAKkC,UAAWf,EAAQ2nB,IAAxB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOvY,OAAK,EAACD,KAAK,IAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,WAAZ,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,aAAZ,SACa,SAAV9V,EAAmB,cAAC,GAAD,IAAgB,cAAC,IAAD,CAAUgN,GAAG,QAGnD,cAAC,IAAD,CAAO8I,KAAK,YAAZ,SACa,SAAV9V,EAAmB,cAAC,GAAD,IAAe,cAAC,IAAD,CAAUgN,GAAG,QAGlD,cAAC,IAAD,CAAO8I,KAAK,mBAAZ,SACa,SAAV9V,EACC,cAAC,GAAD,IAEA,cAAC,IAAD,CAAUgN,GAAG,QAIjB,cAAC,IAAD,UACE,cAAC,IAAD,CAAUA,GAAG,kBAMvB,cAAC,GAAD,CAAejC,IAAK+jB,QAI3B,ECjKcK,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjmB,MAAK,YAAkD,IAA/CkmB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,EACT,GAEJ,ECFDO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF1c,SAASqW,eAAe,SAM1B2F,I","file":"static/js/main.f5b23dd1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.5a6502b1.png\";","import React from \"react\";\r\n\r\nexport const initState = { isLoading: false, isLogin: false, topicLabel: [] };\r\n\r\nexport const ContextStore = React.createContext(initState);\r\n\r\nexport const combineReducers = (slices) => (state, action) =>\r\n  Object.keys(slices).reduce(\r\n    // use for..in loop, if you prefer it\r\n    (acc, prop) => ({\r\n      ...acc,\r\n      [prop]: slices[prop](acc[prop], action),\r\n    }),\r\n    state\r\n  );\r\n\r\nexport function loadingReducer(state, action) {\r\n  console.log(\"loadingReducer\", state, action);\r\n  switch (action.type) {\r\n    case \"SET_LOADING\":\r\n      console.log(state, action);\r\n      return Object.assign({}, state, {\r\n        isLoading: true,\r\n      });\r\n    case \"SET_FINISHED\":\r\n      console.log(state, action);\r\n      return Object.assign({}, state, {\r\n        isLoading: false,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function loginReducer(state, action) {\r\n  let storage = window.localStorage;\r\n  console.log('storage',storage)\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      \r\n      storage.login = 'true';\r\n      return Object.assign({}, state, {\r\n        isLogin: true,\r\n      });\r\n    case \"LOGOUT\":\r\n      storage.login = 'false';\r\n      return Object.assign({}, state, {\r\n        isLogin: false,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function topicLabelReducer(state, action) {\r\n  console.log(\"topicLabelReducer\", state, action);\r\n  switch (action.type) {\r\n    case \"ADD_TOPICLABEL\":\r\n      return Object.assign([], state.concat(action.id));\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const appText = {\r\n  editTopic: \"編輯題目\",\r\n  choostYear: \"請選擇年度\",\r\n  choostYearButton: \"年度\",\r\n  choostAddTopicCategory: \"請先選擇欲新增的題目類別(必選)\",\r\n  choostAddTopicCategoryButton: [\r\n    \"第一層分類\",\r\n    \"第二層分類\",\r\n    \"第三層分類\",\r\n    \"第四層分類\",\r\n    \"第五層分類\",\r\n  ],\r\n  inquiry: \"查詢\",\r\n  labelManagement: \"管理標籤\",\r\n  topicCategory: \"題目分類\",\r\n  year: \"年度\",\r\n  grade: \"年級\",\r\n  addCategory: \"新增分類\",\r\n  rename: \"重新命名\",\r\n  delete: \"刪除\",\r\n  deleteDescription:\r\n    \"刪除此分類將會連同下方的所有子分類一併刪除，確定要刪除分類？\",\r\n  cancel: \"取消\",\r\n  singleTopic: \"單選題\",\r\n  multipleTopic: \"多選題\",\r\n  fillTopic: \"選填題\",\r\n  textEdit: \"文字編輯\",\r\n  chooseTopicType: \"選擇題目類型\",\r\n  correctAnswer: \"正確答案(必填)\",\r\n  add: \"新增\",\r\n  edit: \"編輯\",\r\n  deleteTopic: \"確定要刪除題目嗎？\",\r\n  uploadFile: \"上傳檔案\",\r\n  question: \"出題\",\r\n  backpage: \"回上一頁\",\r\n  choosedTopic: \"已選題目\",\r\n  haventChoosed: \"尚未選取\",\r\n  chooseTopic: \"選擇題目\",\r\n  previewTopic: \"預覽考題\",\r\n  choosePaperType: \"請選擇你的考卷類型\",\r\n  enterStudentName: \"請輸入考生姓名\",\r\n\r\n  paperType: \"考卷類型\",\r\n  previewPaper: \"預覽考卷\",\r\n\r\n  enterUnitName: \"請輸入單元名稱\",\r\n  enterPaperNumber: \"請輸入考卷編號\",\r\n  repeatAnswerNumber: \"考卷編號重複\",\r\n  allocation: \"配分\",\r\n  paperInformation: \"考卷資訊\",\r\n  singleAllocation: \"單選題配分\",\r\n  multipleAllocation: \"多選題配分\",\r\n  fillAllocation: \"選填題配分\",\r\n  enterPropotion: \"輸入比例(%)\",\r\n  topic: \"題目\",\r\n  answerDetail: \"答案詳解\",\r\n  topicAndAnswerDetail: \"題目與答案詳解\",\r\n  downloadTopic: \"下載題目\",\r\n  ensure: \"確定\",\r\n  enterFalse: \"輸入錯誤\",\r\n  studentName: \"學生名字\",\r\n  faultType: \"答錯題型\",\r\n  answerNumber: \"答案編號\",\r\n  score: \"分數\",\r\n  chooseTopicNumber: \"選擇題數\",\r\n  topicNumber: \"題數\",\r\n  login: \"登入\",\r\n  enterAccount: \"輸入帳號\",\r\n  enterPassword: \"輸入密碼\",\r\n  testAccount: \"測試帳號\",\r\n  testPassword: \"測試密碼\",\r\n  logout: \"登出\",\r\n};\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"8px\",\r\n\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"20px\",\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: theme.spacing(2),\r\n    color: \"rgba(117,117,117,1)\",\r\n    \"&$selectTextCustomized\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  selectTextCustomized: {},\r\n  formControl: {\r\n    marginTop: theme.spacing(1),\r\n    width: 181,\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    boxShadow: \"none\",\r\n  },\r\n  menu: {\r\n    marginTop: 4,\r\n    borderRadius: 0,\r\n    boxShadow: \"none\",\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n  },\r\n  select: {\r\n    height: 100,\r\n  },\r\n\r\n  selectRoot: {\r\n    flex: 1,\r\n    height: 48,\r\n    marginRight: 8,\r\n    marginTop: 8,\r\n    \"&.Mui-focused .MuiSelect-select\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n\r\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused \": {\r\n      backgroundColor: \"none\",\r\n    },\r\n  },\r\n  menuText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    color: \"rgba(0,0,0,1)\",\r\n  },\r\n}));\r\n\r\nconst PaperSelect = ({ defaultValue, menuData, setContent }) => {\r\n  const classes = useStyles();\r\n\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  console.log('menuData',menuData)\r\n\r\n  const renderMenuItem = (setContent) => {\r\n    const returnData = menuData\r\n      ? menuData.map((e, index) => {\r\n          return (\r\n            <MenuItem\r\n              value={index}\r\n              onClick={() => {\r\n                setContent(e.content);\r\n              }}\r\n            >\r\n              <Typography className={`${classes.menuText}`}>\r\n                {e.content}\r\n              </Typography>\r\n            </MenuItem>\r\n          );\r\n        })\r\n      : null;\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        // disableUnderline\r\n        value={value}\r\n        displayEmpty\r\n        onChange={handleChange}\r\n        IconComponent={ExpandMoreIcon}\r\n        className={classes.selectRoot}\r\n        variant=\"outlined\"\r\n        // classes={{ outlined: classes.selectRoot }}\r\n        MenuProps={{\r\n          classes: { paper: classes.menu },\r\n          anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\",\r\n          },\r\n          transformOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"left\",\r\n          },\r\n          getContentAnchorEl: null,\r\n        }}\r\n      >\r\n        <MenuItem\r\n          value={\"\"}\r\n          onClick={() => {\r\n            setContent(\"\");\r\n          }}\r\n        >\r\n          <Typography className={`${classes.menuText}`}>\r\n            {defaultValue}\r\n          </Typography>\r\n        </MenuItem>\r\n        {renderMenuItem(setContent)}\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaperSelect;\r\n","import { useContext } from \"react\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nexport const API_URL = \"https://mathquesionsite.herokuapp.com/\";\r\n// export const API_URL = \"http://54.238.145.78:5000/\";\r\n\r\nexport const labelAdd = (\r\n  route,\r\n  body,\r\n  refetch,\r\n  setRefetch,\r\n  isLoadingDispatch\r\n) => {\r\n  isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  fetch(API_URL + \"label\" + \"/\" + route + \"/add\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const labelInquiry = (route, body) => {\r\n  return fetch(API_URL + \"label\" + \"/\" + route + \"/inquiry\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n\r\n      return result;\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const labelInquiryMany = (route, body) => {\r\n  return fetch(API_URL + \"label\" + \"/\" + route + \"/inquiryMany\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n\r\n      return result;\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const labelRename = (\r\n  route,\r\n  body,\r\n  refetch,\r\n  setRefetch,\r\n  isLoadingDispatch\r\n) => {\r\n  console.log(body);\r\n  isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  fetch(API_URL + \"label\" + \"/\" + route + \"/rename\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const labelList = (route) => {\r\n  console.log(route);\r\n  return fetch(API_URL + \"label\" + \"/\" + route + \"/labelList\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n\r\n      return result;\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const labelDelete = (\r\n  route,\r\n  id,\r\n  refetch,\r\n  setRefetch,\r\n  isLoadingDispatch\r\n) => {\r\n  console.log(route);\r\n  isLoadingDispatch({ type: \"SET_LOADING\" });\r\n\r\n  return fetch(API_URL + \"label\" + \"/\" + route + \"/delete\", {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ id: id }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      setRefetch(!refetch);\r\n\r\n      return result;\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const topicAdd = (\r\n  body\r\n  // refetch,\r\n  // setRefetch,\r\n  // isLoadingDispatch\r\n) => {\r\n  // isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  return fetch(API_URL + \"topic\" + \"/add\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      return result;\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const topicEdit = (\r\n  body\r\n  // refetch,\r\n  // setRefetch,\r\n  // isLoadingDispatch\r\n) => {\r\n  // isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  return fetch(API_URL + \"topic\" + \"/edit\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      return result;\r\n      // setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const topicInquiry = (\r\n  body\r\n  // refetch,\r\n  // setRefetch,\r\n  // isLoadingDispatch\r\n) => {\r\n  console.log(\"body\", body);\r\n  // isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  return fetch(API_URL + \"topic\" + \"/inquiry\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      return result;\r\n      // setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const topicGet = (body) => {\r\n  console.log(\"body\", body);\r\n  // isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  return fetch(API_URL + \"topic\" + \"/getOneTopic\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      return result;\r\n      // setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const topicLabelInquiry = (body) => {\r\n  console.log(\"body\", body);\r\n  // isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  return fetch(API_URL + \"topic\" + \"/labelInquiry\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      return result;\r\n      // setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const topicDelete = (body) => {\r\n  // isLoadingDispatch({ type: \"SET_LOADING\" });\r\n  return fetch(API_URL + \"topic\" + \"/deleteTopic\", {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      return result;\r\n      // setRefetch(!refetch);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const paperAnswerAdd = (body) => {\r\n  fetch(API_URL + \"paperAnswer\" + \"/add\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n\r\nexport const adminLogin = (body) => {\r\n  return fetch(API_URL + \"admin/login\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(\"loginResult\", result);\r\n      return result;\r\n    })\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n","import React, { useImperativeHandle, useState, useContext } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport { appText } from \"../utils/constant\";\r\nimport PaperSelect from \"./PaperSelect\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { adminLogin, paperAnswerAdd } from \"../api\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nconst DialogContentTitleText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    fontWeight: 900,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 18,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"17px 0px 0px 0px\",\r\n    fontWeight: 600,\r\n    color: \"rgba(117, 117, 117, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"32px 0px 0px 0px\",\r\n    padding: \"0px 8px\",\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  textField: {\r\n    height: 48,\r\n    flex: 1,\r\n    \"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button\":\r\n      {\r\n        display: \"none\",\r\n      },\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInputBase-input \": {\r\n      height: 48,\r\n      padding: 0,\r\n    },\r\n  },\r\n  placeholder: {\r\n    fontSize: 12,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    textDecoration: null,\r\n  },\r\n  root: {\r\n    height: 48,\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"0px 0px 0px 12px\",\r\n    marginRight: 8,\r\n    marginTop: 8,\r\n    borderRadius: 2,\r\n  },\r\n}));\r\n\r\nconst LoginDialog = React.forwardRef((props, ref) => {\r\n  const { open, setOpen, yearLabelData, choosedTopicData } = props;\r\n\r\n  const [account, setAccount] = useState(\"\");\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n\r\n    setAccount(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const handleLogin = async () => {\r\n    const body = {\r\n      account,\r\n      password,\r\n    };\r\n    console.log(\"body\", body);\r\n    const loginBool = await adminLogin(body);\r\n\r\n    console.log(\"loginBool\", loginBool);\r\n    if (loginBool) {\r\n      isLoginDispatch({ type: \"LOGIN\" });\r\n\r\n      history.push({\r\n        pathname: \"editTopic/singleTopic\",\r\n      });\r\n      setAccount(\"\");\r\n      setPassword(\"\");\r\n      setOpen(false);\r\n    } else {\r\n      alert(\"帳號密碼錯誤\");\r\n    }\r\n  };\r\n  const { isLogin, isLoginDispatch } = useContext(ContextStore);\r\n\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      PaperProps={{\r\n        style: {\r\n          width: 290,\r\n\r\n          borderRadius: 2,\r\n          border: \"1px solid rgba(225, 225, 225, 1)\",\r\n          boxShadow: \"none\",\r\n          padding: 15,\r\n        },\r\n      }}\r\n    >\r\n      <DialogContentText>\r\n        {appText.testAccount}: wangyaomathAccount\r\n      </DialogContentText>\r\n      <DialogContentText>\r\n        {appText.testPassword}: wangyaomathPassword\r\n      </DialogContentText>\r\n\r\n      <DialogContentText>{appText.enterAccount}</DialogContentText>\r\n      <div className={classes.root}>\r\n        <TextField\r\n          value={account}\r\n          onChange={(e) => {\r\n            setAccount(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              input: classes.placeholder,\r\n            },\r\n          }}\r\n          className={classes.textField}\r\n          placeholder={\"\"}\r\n        />\r\n      </div>\r\n\r\n      <DialogContentText>{appText.enterPassword}</DialogContentText>\r\n      <div className={classes.root}>\r\n        <TextField\r\n          value={password}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              input: classes.placeholder,\r\n            },\r\n          }}\r\n          className={classes.textField}\r\n          placeholder={\"\"}\r\n        />\r\n      </div>\r\n\r\n      <DialogActions>\r\n        <Button className={classes.button} onClick={handleClose}>\r\n          {appText.cancel}\r\n        </Button>\r\n        <Button\r\n          className={`${classes.button} ${classes.buttonDelete}`}\r\n          onClick={handleLogin}\r\n        >\r\n          {appText.login}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default LoginDialog;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { useContext, useState } from \"react\";\r\nimport { useHistory, Link, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { ContextStore } from \"../redux\";\r\nimport LoginDialog from \"./LoginDialog\";\r\nimport { appText } from \"../utils/constant\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: 8,\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    marginRight: 8,\r\n\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  appbar: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n\r\n    backgroundColor: \"white\",\r\n    height: 74,\r\n    justifyContent: \"center\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\nfunction NavBar() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { isLogin, isLoginDispatch } = useContext(ContextStore);\r\n  let storage = window.localStorage;\r\n  const { login } = storage;\r\n\r\n\r\n  const [open, setOpen] = useState(false);\r\n  return (\r\n    <AppBar elevation={0} className={classes.appbar} position=\"static\">\r\n      <Toolbar className={classes.toolBar}>\r\n        <Link to={login === \"true\" ? \"/editTopic/singleTopic\" : \"/\"}>\r\n          <img className={classes.logo} src={logo} alt=\"\" />\r\n        </Link>\r\n        <div className={classes.title}></div>\r\n\r\n        {login === \"true\" ? (\r\n          <div>\r\n            <Button\r\n              disableRipple\r\n              className={classes.buttonAdd}\r\n              component={Link}\r\n              to=\"/addTopic\"\r\n            >\r\n              新增題目\r\n            </Button>\r\n            <Button\r\n              disableRipple\r\n              className={classes.buttonLabel}\r\n              component={Link}\r\n              to=\"/labelManagement/topicCategory\"\r\n            >\r\n              管理標籤\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                isLoginDispatch({ type: \"LOGOUT\" });\r\n              }}\r\n              component={Link}\r\n              to=\"/\"\r\n              disableRipple\r\n              className={classes.buttonLabel}\r\n            >\r\n              {appText.logout}\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            onClick={() => {\r\n              setOpen(true);\r\n            }}\r\n            disableRipple\r\n            className={classes.buttonLabel}\r\n          >\r\n            {appText.login}\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n      <LoginDialog open={open} setOpen={setOpen} />\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"8px\",\r\n\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"20px\",\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: theme.spacing(2),\r\n    color: \"rgba(117,117,117,1)\",\r\n    \"&$selectTextCustomized\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  selectTextCustomized: {},\r\n  formControl: {\r\n    marginTop: theme.spacing(1),\r\n    width: 181,\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    boxShadow: \"none\",\r\n  },\r\n  menu: {\r\n    marginTop: 4,\r\n    borderRadius: 0,\r\n    boxShadow: \"none\",\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n  },\r\n  select: {\r\n    height: 100,\r\n  },\r\n\r\n  selectRoot: {\r\n    width: 181,\r\n    height: 48,\r\n    marginRight: theme.spacing(1),\r\n    marginTop: theme.spacing(1),\r\n    \"&.Mui-focused .MuiSelect-select\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n\r\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused \": {\r\n      backgroundColor: \"none\",\r\n    },\r\n  },\r\n  menuText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    color: \"rgba(0,0,0,1)\",\r\n  },\r\n}));\r\n\r\nconst EditTopicSelect = ({\r\n  defaultValue,\r\n  data,\r\n  index,\r\n  allChoose,\r\n  topicLabel: topicLabelProps,\r\n  setTopicLabel: setTopicLabelProps,\r\n  yearLabel,\r\n  setYearLabel,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(defaultValue);\r\n  const [menuData, setMenuData] = useState(data);\r\n  const [level, setLevel] = useState([]);\r\n  const [next, setNext] = useState(null);\r\n\r\n  const [topicLabel, setTopicLabel] = useState(topicLabelProps);\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n  useEffect(() => {\r\n    console.log(\"setNext\");\r\n    setNext(renderNext(level, index));\r\n  }, [level]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"setData\");\r\n    setValue(defaultValue);\r\n    setNext(null);\r\n    setMenuData(data);\r\n  }, [data]);\r\n\r\n  const { topicLabelState, topicLabelDispatch, isLoading, isLoadingDispatch } =\r\n    useContext(ContextStore);\r\n\r\n  const renderMenuItem = () => {\r\n    const returnData = menuData\r\n      ? menuData.map((option) => {\r\n          return (\r\n            <MenuItem\r\n              onClick={(e) => {\r\n                if (setYearLabel) {\r\n                  setYearLabel(option._id);\r\n                  return;\r\n                }\r\n                console.log(\"topicLabelState\", topicLabelState);\r\n\r\n                const found = topicLabel.find(\r\n                  (element) => element === option._id\r\n                );\r\n                if (found) {\r\n                  return;\r\n                }\r\n\r\n                while (topicLabelState.length > index) {\r\n                  topicLabelState.pop();\r\n                }\r\n                topicLabelDispatch({ type: \"ADD_TOPICLABEL\", id: option._id });\r\n\r\n                setLevel(option.level);\r\n              }}\r\n              value={option._id}\r\n            >\r\n              <Typography className={`${classes.menuText}`}>\r\n                {option.content}\r\n              </Typography>\r\n            </MenuItem>\r\n          );\r\n        })\r\n      : null;\r\n    return returnData;\r\n  };\r\n  const renderNext = (level, index) => {\r\n    let returnData = [];\r\n    level.length !== 0 &&\r\n      returnData.push(\r\n        <EditTopicSelect\r\n          data={level}\r\n          index={index + 1}\r\n          defaultValue={appText.choostAddTopicCategoryButton[index + 1]}\r\n          topicLabel={topicLabel}\r\n          setTopicLabel={setTopicLabelProps}\r\n        />\r\n      );\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        // disableUnderline\r\n        value={value}\r\n        displayEmpty\r\n        onChange={handleChange}\r\n        IconComponent={ExpandMoreIcon}\r\n        className={classes.selectRoot}\r\n        variant=\"outlined\"\r\n        // classes={{ outlined: classes.selectRoot }}\r\n        MenuProps={{\r\n          classes: { paper: classes.menu },\r\n          anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\",\r\n          },\r\n          transformOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"left\",\r\n          },\r\n          getContentAnchorEl: null,\r\n        }}\r\n      >\r\n        {allChoose && (\r\n          <MenuItem\r\n            onClick={(e) => {\r\n              if (setYearLabel) {\r\n                setYearLabel(\"\");\r\n                return;\r\n              }\r\n              setLevel([]);\r\n\r\n              while (topicLabelState.length > index) {\r\n                topicLabelState.pop();\r\n              }\r\n            }}\r\n            value={\"\"}\r\n          >\r\n            <Typography className={`${classes.menuText}`}>{\"年度\"}</Typography>\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem\r\n          onClick={(e) => {\r\n            if (setYearLabel) {\r\n              setYearLabel(allChoose ? \"allChoose\" : \"\");\r\n              return;\r\n            }\r\n            setLevel([]);\r\n\r\n            while (topicLabelState.length > index) {\r\n              topicLabelState.pop();\r\n            }\r\n          }}\r\n          value={defaultValue}\r\n        >\r\n          <Typography className={`${classes.menuText}`}>\r\n            {defaultValue}\r\n          </Typography>\r\n        </MenuItem>\r\n\r\n        {renderMenuItem()}\r\n      </Select>\r\n      {next}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditTopicSelect;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport EditTopicSelect from \"./EditTopicSelect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 110,\r\n    height: 37,\r\n    border: 0,\r\n    borderRadius: 2,\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n    marginTop: theme.spacing(3),\r\n    color: \"rgba(255,255,255,1)\",\r\n    fontWeight: 400,\r\n    \"&.Mui-disabled \": {\r\n      color: \"rgba(151,151,151,1)\",\r\n      backgroundColor: \"rgba(196,196,196,1)\",\r\n    },\r\n    \"&:hover \": {\r\n      backgroundColor: \"rgba(212,45,48,1)\",\r\n      color: \"rgba(255,255,255,1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst SubmitButton = ({ disabled, content, onClick }) => {\r\n  const classes = useStyles();\r\n \r\n  return (\r\n    <Button disabled={false} className={classes.root} onClick={onClick}>\r\n      {content}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default SubmitButton;\r\n","import {\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  makeStyles,\r\n  Radio,\r\n  RadioGroup,\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { AppsTwoTone } from \"@material-ui/icons\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  icon: {\r\n    borderRadius: \"50%\",\r\n    width: 16,\r\n    height: 16,\r\n    boxShadow: \"inset 0 0 0 1.5px rgba(212,45,48,1)\",\r\n    backgroundColor: \"#f5f8fa\",\r\n    backgroundImage:\r\n      \"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))\",\r\n    \"$root.Mui-focusVisible &\": {\r\n      outline: \"2px auto rgba(19,124,189,.6)\",\r\n      outlineOffset: 2,\r\n    },\r\n\r\n    \"input:disabled ~ &\": {\r\n      boxShadow: \"none\",\r\n      background: \"rgba(206,217,224,.5)\",\r\n    },\r\n  },\r\n  checkedIcon: {\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n    backgroundImage:\r\n      \"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))\",\r\n    \"&:before\": {\r\n      display: \"block\",\r\n      width: 16,\r\n      height: 16,\r\n      backgroundImage: \"radial-gradient(#fff,#fff 28%,transparent 32%)\",\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  labelRoot: {\r\n    marginRight: 33,\r\n  },\r\n  labelText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n  },\r\n});\r\n\r\nfunction StyledRadio(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Radio\r\n      className={classes.root}\r\n      disableRipple\r\n      color=\"default\"\r\n      checkedIcon={<span className={clsx(classes.icon, classes.checkedIcon)} />}\r\n      icon={<span className={classes.icon} />}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function AddTopicType({ type, setType }) {\r\n  const [value, setValue] = useState(\"\");\r\n  const reactQuill = useRef();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {}, []);\r\n  const handleChange = (event) => {\r\n    setType(event.target.value);\r\n  };\r\n  return (\r\n    <div>\r\n      <FormControl component=\"fieldset\" row>\r\n        <RadioGroup\r\n          row\r\n          aria-label=\"position\"\r\n          name=\"position\"\r\n          defaultValue=\"top\"\r\n          value={type}\r\n          onChange={handleChange}\r\n        >\r\n          <FormControlLabel\r\n            classes={{ root: classes.labelRoot, label: classes.labelText }}\r\n            value={\"0\"}\r\n            control={<StyledRadio />}\r\n            label={appText.singleTopic}\r\n          />\r\n          <FormControlLabel\r\n            classes={{ root: classes.labelRoot, label: classes.labelText }}\r\n            value={\"1\"}\r\n            control={<StyledRadio />}\r\n            label={appText.multipleTopic}\r\n          />\r\n          <FormControlLabel\r\n            classes={{ root: classes.labelRoot, label: classes.labelText }}\r\n            value={\"2\"} \r\n            control={<StyledRadio />}\r\n            label={appText.fillTopic}\r\n          />\r\n        </RadioGroup>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-use-before-define */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: 48,\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"0px 12px\",\r\n  },\r\n  autoComplete: {},\r\n  chip: {\r\n    backgroundColor: \"rgba(249,240,240,1)\",\r\n    height: 19,\r\n    border: \"0px\",\r\n    marginRight: 6,\r\n  },\r\n  chipLabel: {\r\n    color: \"rgba(167,95,95,1)\",\r\n  },\r\n  textField: {\r\n    height: 48,\r\n    flex: 1,\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInputBase-input \": {\r\n      height: 48,\r\n      padding: 0,\r\n    },\r\n  },\r\n  placeholder: {\r\n    fontSize: 12,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    textDecoration: null,\r\n  },\r\n}));\r\n\r\nexport default function AddTopicAnswer({ answer, setAnswer }) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {answer.map((e) => {\r\n        return (\r\n          <Chip\r\n            classes={{ root: classes.chip, label: classes.chipLabel }}\r\n            variant=\"outlined\"\r\n            label={e}\r\n          />\r\n        );\r\n      })}\r\n      <TextField\r\n        value={value}\r\n        onChange={(e) => {\r\n          if (\r\n            e.target.value !== \"0\" &&\r\n            e.target.value !== \"1\" &&\r\n            e.target.value !== \"2\" &&\r\n            e.target.value !== \"3\" &&\r\n            e.target.value !== \"4\" &&\r\n            e.target.value !== \"5\" &&\r\n            e.target.value !== \"6\" &&\r\n            e.target.value !== \"7\" &&\r\n            e.target.value !== \"8\" &&\r\n            e.target.value !== \"9\" &&\r\n            e.target.value !== \"0\" &&\r\n            e.target.value !== \"-\" &&\r\n            e.target.value !== \"\"\r\n          ) {\r\n            return;\r\n          }\r\n          // if (e.target.value.length > 1) {\r\n          //   return;\r\n          // }\r\n          setValue(e.target.value);\r\n        }}\r\n        onKeyPress={(ev) => {\r\n          if (ev.key === \"Enter\" && value) {\r\n            console.log(value);\r\n            let newParams = answer;\r\n            console.log(answer);\r\n            newParams.push(value);\r\n            console.log(answer);\r\n\r\n            setAnswer(newParams);\r\n            setValue(\"\");\r\n          }\r\n        }}\r\n        onKeyDown={(ev) => {\r\n          if (ev.key === \"Backspace\" && !value) {\r\n            let newParams = answer;\r\n            newParams.pop();\r\n            console.log(answer);\r\n\r\n            setAnswer(newParams);\r\n\r\n            setValue(\"1\");\r\n          }\r\n        }}\r\n        InputProps={{\r\n          classes: {\r\n            input: classes.placeholder,\r\n          },\r\n        }}\r\n        className={classes.textField}\r\n        placeholder={answer.length ? \"\" : \"填完請按Enter\"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport ReactQuill, { Quill } from \"react-quill\";\r\nimport mathquill4quill from \"mathquill4quill\";\r\nimport \"mathquill4quill/mathquill4quill.css\";\r\nimport { ImageDrop } from \"quill-image-drop-module\";\r\nimport ImageResize from \"quill-image-resize-module\";\r\nimport ImageCompress from \"quill-image-compress\";\r\n\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport \"../App.css\";\r\n\r\nQuill.register(\"modules/imageDrop\", ImageDrop);\r\nQuill.register(\"modules/imageResize\", ImageResize);\r\nQuill.register(\"modules/imageCompress\", ImageCompress);\r\n\r\nconst useStyles = makeStyles(() => ({}));\r\n\r\nexport default function KatexEditor({ content, setContent, hasAnswer }) {\r\n  const reactQuill = useRef();\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n    const enableMathQuillFormulaAuthoring = mathquill4quill({ Quill });\r\n    const answerOperator = hasAnswer\r\n      ? [\r\n          [\"\\\\text{\\\\textcircled 1}\", \"①\"],\r\n          [\"\\\\text{\\\\textcircled 2}\", \"②\"],\r\n          [\"\\\\text{\\\\textcircled 3}\", \"③\"],\r\n          [\"\\\\text{\\\\textcircled 4}\", \"④\"],\r\n          [\"\\\\text{\\\\textcircled 5}\", \"⑤\"],\r\n          [\"\\\\text{\\\\textcircled 6}\", \"⑥\"],\r\n          [\"\\\\text{\\\\textcircled 7}\", \"⑦\"],\r\n          [\"\\\\text{\\\\textcircled 8}\", \"⑧\"],\r\n          [\"\\\\text{\\\\textcircled 9}\", \"⑨\"],\r\n        ]\r\n      : [];\r\n    enableMathQuillFormulaAuthoring(reactQuill.current.editor, {\r\n      operators: [\r\n        [\"\\\\sqrt[n]{x}\", \"\\\\nthroot\"],\r\n        [\"\\\\frac{x}{y}\", \"\\\\frac\"],\r\n        [\"\\\\int_{a}^{b}\", \"\\\\int\"],\r\n        [\"\\\\log\", \"\\\\log\"],\r\n        [\"{X}_{a}\", \"\\\\subscript\"],\r\n        [\"{X}^{a}\", \"\\\\superscript\"],\r\n        ...answerOperator,\r\n      ],\r\n    });\r\n  }, []);\r\n  var toolbarOptions = {\r\n    container: [\r\n      [\"bold\", \"italic\"],\r\n      [\"image\"],\r\n      [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n      [\"formula\"],\r\n    ],\r\n    handlers: {\r\n      image: selectLocalImage,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <ReactQuill\r\n      className={{}}\r\n      ref={reactQuill}\r\n      style={{ minHeight: 100, marginBottom: 60 }}\r\n      modules={{\r\n        formula: true,\r\n        // toolbar: [[\"formula\" /* ... other toolbar items here ... */]],\r\n        toolbar: toolbarOptions,\r\n        imageDrop: true,\r\n        imageResize: {},\r\n        imageCompress: {\r\n          quality: 1, // default\r\n          maxWidth: 1000, // default\r\n          maxHeight: 1000, // default\r\n          imageType: \"image/jpeg\", // default\r\n          debug: true, // default\r\n        },\r\n      }}\r\n      theme=\"snow\"\r\n      value={content}\r\n      onChange={(e) => {\r\n        setContent(e);\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction selectLocalImage() {\r\n  var input = document.createElement(\"input\");\r\n  input.setAttribute(\"type\", \"file\");\r\n  input.click();\r\n  // Listen upload local image and save to server\r\n  input.onchange = () => {\r\n    const file = input.files[0];\r\n    console.log(\"imageInput\", file);\r\n    // file type is only image.\r\n    if (/^image\\//.test(file.type)) {\r\n    } else {\r\n      console.warn(\"Only images can be uploaded here.\");\r\n    }\r\n  };\r\n}\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport EditTopicSelect from \"../components/EditTopicSelect\";\r\nimport SubmitButton from \"../components/SubmitButton\";\r\nimport AddTopicType from \"../components/AddTopicType\";\r\nimport AddTopicAnswer from \"../components/AddTopicAnswer\";\r\n\r\nimport { useEffect, useState, useContext, useRef } from \"react\";\r\nimport { labelList, topicAdd } from \"../api\";\r\nimport { ContextStore } from \"../redux\";\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\nimport KatexEditor from \"../components/KatexEditor\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"20px\",\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: theme.spacing(2),\r\n    color: \"rgba(117,117,117,1)\",\r\n    \"&$selectTextCustomized\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  selectTextCustomized: {},\r\n  formControl: {\r\n    marginTop: theme.spacing(1),\r\n    width: 181,\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    boxShadow: \"none\",\r\n  },\r\n  menu: {\r\n    marginTop: 4,\r\n    borderRadius: 0,\r\n    boxShadow: \"none\",\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n  },\r\n  select: {\r\n    height: 100,\r\n  },\r\n\r\n  selectRoot: {\r\n    width: 181,\r\n    height: 48,\r\n\r\n    marginTop: theme.spacing(1),\r\n    \"&.Mui-focused .MuiSelect-select\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n\r\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused \": {\r\n      backgroundColor: \"none\",\r\n    },\r\n  },\r\n  menuText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    color: \"rgba(0,0,0,1)\",\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  textEdit: {\r\n    display: \"flex\",\r\n    padding: \"16px 13px\",\r\n    marginTop: 8,\r\n    border: \"1px solid rgba(225, 225, 225, 1)\",\r\n    height: 206,\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 0,\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 0,\r\n\r\n      // borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n      borderWidth: 0,\r\n    },\r\n  },\r\n  textEditInput: {\r\n    border: \"0px solid rgba(225, 225, 225, 1)\",\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nfunction AddTopic() {\r\n  const classes = useStyles();\r\n  const renderMenuItem = () => {\r\n    let optionArray = [\"年度\", \"第一層分類\"];\r\n    const returnData = optionArray.map((option) => {\r\n      return (\r\n        <MenuItem value={option}>\r\n          <Typography className={`${classes.menuText}`}>{option}</Typography>\r\n        </MenuItem>\r\n      );\r\n    });\r\n    return returnData;\r\n  };\r\n\r\n  const [labelData, setLabelData] = useState([]);\r\n  const { isLoading, isLoadingDispatch } = useContext(ContextStore);\r\n  const [refetch, setRefetch] = useState(false);\r\n\r\n  const [content, setContent] = useState(\"\");\r\n  const [answerDetail, setAnswerDetail] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // STEP 2：使用 Promise.all 搭配 await 等待兩個 API 都取得回應後才繼續\r\n      const data = await Promise.all([\r\n        labelList(\"topic\"),\r\n        labelList(\"year\"),\r\n        labelList(\"grade\"),\r\n      ]);\r\n      console.log(\"data\", data);\r\n      setLabelData(data);\r\n      isLoading && isLoadingDispatch({ type: \"SET_FINISHED\" });\r\n    };\r\n    fetchData();\r\n  }, [refetch]);\r\n\r\n  const textFieldRef = useRef();\r\n  const [latex, setLatex] = useState(\"\");\r\n\r\n  const [topicLabel, setTopicLabel] = useState([]);\r\n  const [yearLabel, setYearLabel] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [answer, setAnswer] = useState([]);\r\n\r\n  const { topicLabelState } = useContext(ContextStore);\r\n\r\n  const history = useHistory();\r\n\r\n  const verifyContent = () => {\r\n    //repeat\r\n    const numberArray = [\"①\", \"②\", \"③\", \"④\", \"⑤\", \"⑥\", \"⑦\", \"⑧\", \"⑨\"];\r\n    const numberCountArray = [];\r\n    numberArray.map((e) => {\r\n      const num = (content.split(e).length - 1) / 4;\r\n      numberCountArray.push(num);\r\n    });\r\n\r\n    console.log(numberCountArray);\r\n    let returnVerify = \"\";\r\n    numberCountArray.map((e) => {\r\n      if (e >= 2) {\r\n        returnVerify = \"REPEAT\";\r\n      }\r\n    });\r\n    if (returnVerify === \"REPEAT\") {\r\n      return returnVerify;\r\n    }\r\n\r\n    const answerCount = answer.length;\r\n\r\n    const answerCountArray = Array(answerCount)\r\n      .fill(1)\r\n      .concat(Array(9 - answerCount).fill(0));\r\n\r\n    console.log(\"answerCountArray\", answerCountArray);\r\n\r\n    if (answerCountArray.toString() !== numberCountArray.toString()) {\r\n      returnVerify = \"INVALID\";\r\n    }\r\n\r\n    let count = 0;\r\n    numberCountArray.map((e) => {\r\n      count += e;\r\n    });\r\n\r\n    console.log(type, count);\r\n\r\n    if (type !== \"2\" && count !== 0) {\r\n      returnVerify = \"ONLY_FILL\";\r\n    }\r\n\r\n    return returnVerify;\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    const verify = type === \"2\" ? verifyContent() : \"\";\r\n\r\n    switch (verify) {\r\n      case \"REPEAT\":\r\n        alert(\"答案編號重複\");\r\n        return;\r\n\r\n      case \"INVALID\":\r\n        alert(\"請輸入有效順序答案編號\");\r\n        return;\r\n      case \"ONLY_FILL\":\r\n        alert(\"只有選填題可以輸入答案編號\");\r\n        return;\r\n    }\r\n\r\n    const body = {\r\n      content: content,\r\n      topicLabel: topicLabelState,\r\n      yearLabel: yearLabel,\r\n      type: type,\r\n      answer: answer,\r\n      answerDetail: answerDetail,\r\n    };\r\n    console.log(\"body\", body);\r\n\r\n    const validation = !(\r\n      topicLabelState.length &&\r\n      yearLabel.length &&\r\n      content.length &&\r\n      type.length &&\r\n      answer.length &&\r\n      answerDetail.length\r\n    );\r\n    console.log(\"validation\", validation);\r\n    if (validation) {\r\n      alert(\"請填寫所有題目資訊\");\r\n      return;\r\n    }\r\n\r\n    if (type === \"0\" && answer.length > 1) {\r\n      alert(\"單選題只能有一個答案\");\r\n      return;\r\n    }\r\n\r\n    const found = answer.find((element) => element === \"-\");\r\n    if (found && (type === \"0\" || type === \"1\")) {\r\n      alert(\"只有選填題答案可以有負號\");\r\n      return;\r\n    }\r\n\r\n    const returnData = await topicAdd(body);\r\n    console.log(returnData);\r\n    if (returnData) {\r\n      alert(\"成功新增題目\");\r\n      history.go(0);\r\n    } else {\r\n      alert(\"新增題目失敗，請檢查圖片容量，上限為10MB\");\r\n    }\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <Link\r\n        to={\"/editTopic/singleTopic\"}\r\n        style={{ textDecoration: \"none\", color: \"black\" }}\r\n      >\r\n        <div className={classes.header}>\r\n          <NavigateBeforeIcon size={20} />\r\n          <Typography className={classes.titleText}>\r\n            {appText.editTopic}\r\n          </Typography>\r\n        </div>\r\n      </Link>\r\n      <Typography className={classes.selectText}>\r\n        {appText.choostYear}\r\n      </Typography>\r\n\r\n      <EditTopicSelect\r\n        defaultValue={appText.choostYearButton}\r\n        data={labelData[1]}\r\n        yearLabel={yearLabel}\r\n        setYearLabel={setYearLabel}\r\n      />\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.choostAddTopicCategory}\r\n      </Typography>\r\n\r\n      <EditTopicSelect\r\n        defaultValue={appText.choostAddTopicCategoryButton[0]}\r\n        data={labelData[0]}\r\n        index={0}\r\n        topicLabel={topicLabel}\r\n        setTopicLabel={setTopicLabel}\r\n      />\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.textEdit}\r\n      </Typography>\r\n      <div style={{ marginTop: 6 }}>\r\n        <KatexEditor\r\n          content={content}\r\n          setContent={setContent}\r\n          hasAnswer={true}\r\n        />\r\n      </div>\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.answerDetail}\r\n      </Typography>\r\n\r\n      <div style={{ marginTop: 6 }}>\r\n        <KatexEditor\r\n          content={answerDetail}\r\n          setContent={setAnswerDetail}\r\n          hasAnswer={false}\r\n        />\r\n      </div>\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.choostAddTopicCategory}\r\n      </Typography>\r\n\r\n      <AddTopicType type={type} setType={setType} />\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.correctAnswer}\r\n      </Typography>\r\n\r\n      <div style={{ marginTop: 6 }}>\r\n        <AddTopicAnswer answer={answer} setAnswer={setAnswer} />\r\n      </div>\r\n\r\n      <SubmitButton content={appText.add} onClick={handleAdd} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddTopic;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport EditTopicSelect from \"./EditTopicSelect\";\r\nimport SubmitButton from \"./SubmitButton\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport { labelList, topicGet, topicEdit } from \"../api\";\r\nimport { ContextStore } from \"../redux\";\r\nimport {\r\n  Link,\r\n  Route,\r\n  useHistory,\r\n  useParams,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport AddTopic from \"../pages/AddTopic\";\r\nimport KatexEditor from \"./KatexEditor\";\r\nimport AddTopicType from \"./AddTopicType\";\r\nimport AddTopicAnswer from \"./AddTopicAnswer\";\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"20px\",\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: theme.spacing(2),\r\n    color: \"rgba(117,117,117,1)\",\r\n    \"&$selectTextCustomized\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  selectTextCustomized: {},\r\n  formControl: {\r\n    marginTop: theme.spacing(1),\r\n    width: 181,\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    boxShadow: \"none\",\r\n  },\r\n  menu: {\r\n    marginTop: 4,\r\n    borderRadius: 0,\r\n    boxShadow: \"none\",\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n  },\r\n  select: {\r\n    height: 100,\r\n  },\r\n\r\n  selectRoot: {\r\n    width: 181,\r\n    height: 48,\r\n\r\n    marginTop: theme.spacing(1),\r\n    \"&.Mui-focused .MuiSelect-select\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n\r\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused \": {\r\n      backgroundColor: \"none\",\r\n    },\r\n  },\r\n  menuText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    color: \"rgba(0,0,0,1)\",\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n\r\nconst Item = ({ topicLabel, yearLabel, onClick }) => {\r\n  const classes = useStyles();\r\n\r\n  const { name, id } = useParams();\r\n  const { isLoading, isLoadingDispatch } = useContext(ContextStore);\r\n\r\n  const context = useContext(ContextStore);\r\n\r\n  console.log(\"context\", context);\r\n  const [content, setContent] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [answer, setAnswer] = useState([]);\r\n  const [answerDetail, setAnswerDetail] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    isLoadingDispatch({ type: \"SET_LOADING\" });\r\n    console.log(\"id\", id);\r\n    const fetchingData = async () => {\r\n      const fetchingData = await topicGet({ id: id });\r\n      console.log(\"fetchingData\", fetchingData);\r\n      isLoadingDispatch({ type: \"SET_FINISHED\" });\r\n      setContent(fetchingData[0].content);\r\n      setType(fetchingData[0].type);\r\n      setAnswer(fetchingData[0].answer);\r\n      setAnswerDetail(fetchingData[0].answerDetail);\r\n    };\r\n    fetchingData();\r\n  }, []);\r\n  const { topicLabelState } = useContext(ContextStore);\r\n  const history = useHistory();\r\n\r\n  const verifyContent = () => {\r\n    //repeat\r\n    const numberArray = [\"①\", \"②\", \"③\", \"④\", \"⑤\", \"⑥\", \"⑦\", \"⑧\", \"⑨\"];\r\n    const numberCountArray = [];\r\n    numberArray.map((e) => {\r\n      const num = (content.split(e).length - 1) / 4;\r\n      numberCountArray.push(num);\r\n    });\r\n\r\n    console.log(numberCountArray);\r\n    let returnVerify = \"\";\r\n    numberCountArray.map((e) => {\r\n      if (e >= 2) {\r\n        returnVerify = \"REPEAT\";\r\n      }\r\n    });\r\n    if (returnVerify === \"REPEAT\") {\r\n      return returnVerify;\r\n    }\r\n\r\n    const answerCount = answer.length;\r\n\r\n    const answerCountArray = Array(answerCount)\r\n      .fill(1)\r\n      .concat(Array(9 - answerCount).fill(0));\r\n\r\n    console.log(\"answerCountArray\", answerCountArray);\r\n\r\n    if (answerCountArray.toString() !== numberCountArray.toString()) {\r\n      returnVerify = \"INVALID\";\r\n    }\r\n\r\n    let count = 0;\r\n    numberCountArray.map((e) => {\r\n      count += e;\r\n    });\r\n\r\n    if (type !== \"2\" && count !== 0) {\r\n      returnVerify = \"ONLY_FILL\";\r\n    }\r\n    console.log(type, count);\r\n\r\n    return returnVerify;\r\n  };\r\n\r\n  const handleEdit = async () => {\r\n    const verify = type === \"2\" ? verifyContent() : \"\";\r\n\r\n    switch (verify) {\r\n      case \"REPEAT\":\r\n        alert(\"答案編號重複\");\r\n        return;\r\n\r\n      case \"INVALID\":\r\n        alert(\"請輸入有效順序答案編號\");\r\n        return;\r\n      case \"ONLY_FILL\":\r\n        alert(\"只有選填題可以輸入答案編號\");\r\n        return;\r\n    }\r\n\r\n    const body = {\r\n      id: id,\r\n      content: content,\r\n      topicLabel: topicLabelState,\r\n      yearLabel: yearLabel,\r\n      type: type,\r\n      answer: answer,\r\n      answerDetail: answerDetail,\r\n    };\r\n    console.log(\"body\", body);\r\n    const validation = !(\r\n      topicLabelState.length &&\r\n      yearLabel.length &&\r\n      content.length &&\r\n      type.length &&\r\n      answer.length &&\r\n      answerDetail.length\r\n    );\r\n    console.log(\"validation\", validation);\r\n    if (validation) {\r\n      alert(\"請填寫所有題目資訊\");\r\n      return;\r\n    }\r\n\r\n    if (type === \"0\" && answer.length > 1) {\r\n      alert(\"單選題只能有一個答案\");\r\n      return;\r\n    }\r\n\r\n    const found = answer.find((element) => element === \"-\");\r\n    if (found && (type === \"0\" || type === \"1\")) {\r\n      alert(\"只有選填題答案可以有負號\");\r\n      return;\r\n    }\r\n\r\n    const returnData = await topicEdit(body);\r\n    console.log(returnData);\r\n    if (returnData) {\r\n      alert(\"成功編輯題目\");\r\n      onClick({ yearLabel, topicLabel });\r\n\r\n      history.goBack();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(content);\r\n  }, [content]);\r\n\r\n  return (\r\n    <div>\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.textEdit}\r\n      </Typography>\r\n      <div style={{ marginTop: 6 }}>\r\n        <KatexEditor\r\n          content={content}\r\n          setContent={setContent}\r\n          hasAnswer={true}\r\n        />\r\n      </div>\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.answerDetail}\r\n      </Typography>\r\n      <div style={{ marginTop: 6 }}>\r\n        <KatexEditor\r\n          content={answerDetail}\r\n          setContent={setAnswerDetail}\r\n          hasAnswer={false}\r\n        />\r\n      </div>\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.choostAddTopicCategory}\r\n      </Typography>\r\n\r\n      <AddTopicType type={type} setType={setType} />\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.correctAnswer}\r\n      </Typography>\r\n\r\n      <div style={{ marginTop: 6 }}>\r\n        <AddTopicAnswer answer={answer} setAnswer={setAnswer} />\r\n      </div>\r\n\r\n      <SubmitButton content={appText.edit} onClick={handleEdit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PathItem = ({ onClick, yearLabel, topicLabel, path }) => {\r\n  const classes = useStyles();\r\n  const { name } = useParams();\r\n  console.log(\"names\", name);\r\n  return (\r\n    <Link\r\n      to={\"/editTopic/\" + name}\r\n      onClick={() => {\r\n        onClick({ yearLabel, topicLabel });\r\n      }}\r\n      style={{ textDecoration: \"none\", color: \"black\" }}\r\n    >\r\n      <div className={classes.header}>\r\n        <Route exact path={`${path}/:name/:id`}>\r\n          <NavigateBeforeIcon size={20} />\r\n        </Route>\r\n        <Typography className={classes.titleText}>\r\n          {appText.editTopic}\r\n        </Typography>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nfunction EditTopicTop(props) {\r\n  const { onClick } = props;\r\n\r\n  console.log(\"tops\", props);\r\n\r\n  const classes = useStyles();\r\n  const [topicLabel, setTopicLabel] = useState([]);\r\n  const [yearLabel, setYearLabel] = useState(\"\");\r\n\r\n  const [labelData, setLabelData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // STEP 2：使用 Promise.all 搭配 await 等待兩個 API 都取得回應後才繼續\r\n      const data = await Promise.all([\r\n        labelList(\"topic\"),\r\n        labelList(\"year\"),\r\n        labelList(\"grade\"),\r\n      ]);\r\n      console.log(\"data\", data);\r\n      setLabelData(data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  const { url, path } = useRouteMatch();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Route path={`${path}/:name`}>\r\n        <PathItem\r\n          onClick={onClick}\r\n          yearLabel={yearLabel}\r\n          topicLabel={topicLabel}\r\n          path={path}\r\n        />\r\n      </Route>\r\n\r\n      <Typography className={classes.selectText}>\r\n        {appText.choostYear}\r\n      </Typography>\r\n\r\n      <EditTopicSelect\r\n        defaultValue={appText.choostYearButton}\r\n        data={labelData[1]}\r\n        yearLabel={yearLabel}\r\n        setYearLabel={setYearLabel}\r\n      />\r\n\r\n      <Typography\r\n        className={`${classes.selectText} ${classes.selectTextCustomized}`}\r\n      >\r\n        {appText.choostAddTopicCategory}\r\n      </Typography>\r\n\r\n      <EditTopicSelect\r\n        defaultValue={appText.choostAddTopicCategoryButton[0]}\r\n        data={labelData[0]}\r\n        index={0}\r\n        topicLabel={topicLabel}\r\n        setTopicLabel={setTopicLabel}\r\n      />\r\n\r\n      <Route exact path={`${path}/:name/:id`}>\r\n        <Item topicLabel={topicLabel} yearLabel={yearLabel} onClick={onClick} />\r\n      </Route>\r\n\r\n      <Route exact path={`${path}/:name`}>\r\n        <SubmitButton\r\n          content={appText.inquiry}\r\n          onClick={() => {\r\n            onClick({ yearLabel, topicLabel });\r\n          }}\r\n        />\r\n      </Route>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditTopicTop;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n  Tabs,\r\n  Paper,\r\n  Tab,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { useState } from \"react\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  indicator: {\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n  },\r\n\r\n  tabRoot: {\r\n    minWidth: 80,\r\n    color: \"rgba(117,117,117,1)\",\r\n    fontSize: \"14px\",\r\n\r\n    \"&.Mui-selected\": {\r\n      color: \"rgba(212,45,48,1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst EditTopicTabs = ({ value, handleChange }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { url, path } = useRouteMatch();\r\n  const allTabs = [\"singleTopic\", \"multipleTopic\", \"fillTopic\"];\r\n\r\n  const renderTab = () => {\r\n    const returnData = allTabs.map((e) => {\r\n      return (\r\n        <Tab\r\n          disableRipple\r\n          className={classes.tabRoot}\r\n          label={appText[e]}\r\n          component={Link}\r\n          to={`${e}`}\r\n        />\r\n      );\r\n    });\r\n\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <Tabs\r\n      className={classes.root}\r\n      classes={{ indicator: classes.indicator }}\r\n      value={value}\r\n      indicatorColor=\"primary\"\r\n      textColor=\"primary\"\r\n      onChange={handleChange}\r\n      aria-label=\"disabled tabs example\"\r\n    >\r\n      {renderTab()}\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default EditTopicTabs;\r\n","import React, { useImperativeHandle } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { appText } from \"../utils/constant\";\r\nimport { labelDelete, topicDelete } from \"../api/index\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    backgroundColor: \"black\",\r\n  },\r\n});\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n\r\n    padding: theme.spacing(2),\r\n    fontWeight: 600,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst TopicDeleteDialog = React.forwardRef((props, ref) => {\r\n  const { onSubmit, _id, open, setOpen } = props;\r\n  console.log(\"TopicDeleteDialog\", props);\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    await topicDelete({ _id: _id });\r\n    onSubmit(props);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      PaperProps={{\r\n        style: {\r\n          width: 320,\r\n          borderRadius: 2,\r\n          border: \"1px solid rgba(225, 225, 225, 1)\",\r\n          boxShadow: \"none\",\r\n        },\r\n      }}\r\n    >\r\n      <DialogContentText>{appText.deleteTopic}</DialogContentText>\r\n      <DialogActions>\r\n        <Button\r\n          className={classes.button}\r\n          onClick={handleClose}\r\n          color=\"primary\"\r\n        >\r\n          {appText.cancel}\r\n        </Button>\r\n        <Button\r\n          className={`${classes.button} ${classes.buttonDelete}`}\r\n          onClick={handleDelete}\r\n          color=\"primary\"\r\n        >\r\n          {appText.delete}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default TopicDeleteDialog;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { useState } from \"react\";\r\nimport { useHistory, Link, useRouteMatch, Route } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport TopicDeleteDialog from \"./TopicDeleteDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonEdit: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 60,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonDelete: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 60,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  appbar: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n\r\n    backgroundColor: \"white\",\r\n    height: 74,\r\n    justifyContent: \"center\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\nfunction TopicButton(props) {\r\n  console.log(\"buttonprops\", props);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const handleDelete = () => {};\r\n  const [open, setOpen] = useState(false);\r\n  const { url, path } = useRouteMatch();\r\n  console.log(\"url\", url, path);\r\n  return (\r\n    <div>\r\n      <Button\r\n        disableRipple\r\n        className={classes.buttonEdit}\r\n        component={Link}\r\n        to={{\r\n          pathname: url + \"/\" + props._id,\r\n        }}\r\n      >\r\n        {appText.edit}\r\n      </Button>\r\n\r\n      <Button\r\n        disableRipple\r\n        className={classes.buttonDelete}\r\n        onClick={() => {\r\n          setOpen(true);\r\n        }}\r\n      >\r\n        {appText.delete}\r\n      </Button>\r\n      <TopicDeleteDialog\r\n        {...props}\r\n        open={open}\r\n        setOpen={setOpen}\r\n     \r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopicButton;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { useHistory, Link, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport TopicButton from \"./TopicButton\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonEdit: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 60,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonDelete: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 60,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  appbar: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n\r\n    backgroundColor: \"white\",\r\n    height: 74,\r\n    justifyContent: \"center\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\nfunction TopicBox(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        padding: \"0px 16px \",\r\n        border: \"1px solid rgba(225,225,225,1)\",\r\n        borderTopWidth: 0,\r\n        borderLeftWidth: 0,\r\n        borderRightWidth: 0,\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n      }}\r\n    >\r\n      <div\r\n        \r\n        dangerouslySetInnerHTML={{ __html: props.content }}\r\n      ></div>\r\n      <TopicButton {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopicBox;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\n\r\nimport EditTopicTop from \"../components/EditTopicTop\";\r\nimport EditTopicTabs from \"../components/EditTopicTabs\";\r\nimport KatexEditor from \"../components/KatexEditor\";\r\n\r\nimport { useState, useEffect, useRef, useContext } from \"react\";\r\nimport {\r\n  useParams,\r\n  Route,\r\n  useRouteMatch,\r\n  useHistory,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport TeX from \"@matejmazur/react-katex\";\r\nimport \"katex/dist/katex.min.css\";\r\nimport { labelList, topicInquiry } from \"../api\";\r\nimport { ContextStore } from \"../redux\";\r\nimport SubmitButton from \"../components/SubmitButton\";\r\nimport ReactQuill from \"react-quill\";\r\n\r\nimport TopicButton from \"../components/TopicButton\";\r\nimport TopicBox from \"../components/TopicBox\";\r\nimport AddTopic from \"./AddTopic\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  bottomRoot: {\r\n    marginTop: theme.spacing(2),\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"8px\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n}));\r\n\r\nconst allTabs = [\"singleTopic\", \"multipleTopic\", \"fillTopic\"];\r\n\r\nfunction EditTopic() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const { url, path } = useRouteMatch();\r\n  console.log(url, path);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n  const [inquiry, setInquiry] = useState(false);\r\n\r\n  const [data, setData] = useState(null);\r\n  const history = useHistory();\r\n  const {\r\n    topicLabelState,\r\n    \r\n  } = useContext(ContextStore);\r\n\r\n  const onSubmit = async (e) => {\r\n    console.log(\"onClick topicLabelState\", topicLabelState);\r\n\r\n    const body = {\r\n      topicLabel: topicLabelState[topicLabelState.length - 1]\r\n        ? topicLabelState[topicLabelState.length - 1]\r\n        : \"\",\r\n      yearLabel: e.yearLabel,\r\n    };\r\n    setData(await topicInquiry(body));\r\n\r\n    setInquiry(true);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n  };\r\n\r\n  const Item = ({ setValue }) => {\r\n    const classes = useStyles();\r\n\r\n    const { name } = useParams();\r\n    console.log(name);\r\n    useEffect(() => {\r\n      const isTab = (element) => element === name;\r\n      console.log(allTabs.findIndex(isTab));\r\n      setValue(allTabs.findIndex(isTab));\r\n    }, [name]);\r\n\r\n    const deleteRef = useRef();\r\n    const [katex, setKatex] = useState(\"\");\r\n\r\n    const renderSingleTopic = () => {\r\n      console.log(\"data\", data);\r\n\r\n      return data\r\n        ? data.map((e) => {\r\n            return e.type === \"0\" && <TopicBox {...e} onSubmit={onSubmit} />;\r\n          })\r\n        : null;\r\n      // return null;\r\n    };\r\n    const renderMultipleTopic = () => {\r\n      return data\r\n        ? data.map((e) => {\r\n            return e.type === \"1\" && <TopicBox {...e} onSubmit={onSubmit} />;\r\n          })\r\n        : null;\r\n    };\r\n    const renderFillTopic = () => {\r\n      return data\r\n        ? data.map((e) => {\r\n            return e.type === \"2\" && <TopicBox {...e} onSubmit={onSubmit} />;\r\n          })\r\n        : null;\r\n    };\r\n\r\n    const renderArray = {\r\n      singleTopic: renderSingleTopic(),\r\n      multipleTopic: renderMultipleTopic(),\r\n      fillTopic: renderFillTopic(),\r\n    };\r\n\r\n    return renderArray[name];\r\n  };\r\n\r\n  const { isLoading, isLoadingDispatch } = useContext(ContextStore);\r\n\r\n  return (\r\n    <div>\r\n      <EditTopicTop\r\n        onClick={(e) => {\r\n          onSubmit(e);\r\n        }}\r\n      />\r\n\r\n      <Route exact path={`${path}/:name`}>\r\n        {inquiry && (\r\n          <div className={classes.bottomRoot}>\r\n            <EditTopicTabs value={value} handleChange={handleChange} />\r\n            <Item setValue={setValue} />\r\n          </div>\r\n        )}\r\n      </Route>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditTopic;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n  Tabs,\r\n  Paper,\r\n  Tab,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { useState } from \"react\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    fontSize: \"12px\",\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  indicator: {\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n  },\r\n\r\n  tabRoot: {\r\n    minWidth: 80,\r\n    color: \"rgba(110,104,147,1)\",\r\n\r\n    \"&.Mui-selected\": {\r\n      color: \"rgba(212,45,48,1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst LabelTabs = ({ value, handleChange }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { url, path } = useRouteMatch();\r\n  const allTabs = [\"topicCategory\", \"year\", \"grade\"];\r\n\r\n  const renderTab = () => {\r\n    const returnData = allTabs.map((e, index) => {\r\n      return (\r\n        <Tab\r\n          key={index}\r\n          disableRipple\r\n          className={classes.tabRoot}\r\n          label={appText[e]}\r\n          component={Link}\r\n          to={`${url}/${e}`}\r\n        />\r\n      );\r\n    });\r\n\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <Tabs\r\n      className={classes.root}\r\n      classes={{ indicator: classes.indicator }}\r\n      value={value}\r\n      indicatorColor=\"primary\"\r\n      textColor=\"primary\"\r\n      onChange={handleChange}\r\n      aria-label=\"disabled tabs example\"\r\n    >\r\n      {renderTab()}\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default LabelTabs;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { appText } from \"../utils/constant\";\r\nimport { Modal } from \"@material-ui/core\";\r\nimport { labelAdd, labelList } from \"../api/index\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 220,\r\n    height: 46,\r\n    paddingBottom: 10,\r\n    paddingTop: 10,\r\n\r\n    paddingLeft: 0,\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 1,\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 1,\r\n\r\n      // borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n      borderWidth: 1,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n      borderWidth: 1,\r\n    },\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  rootActive: {\r\n    \"& .MuiInput-underline:before\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n\r\n    backgroundColor: \"rgba(248, 248, 248, 1)\",\r\n  },\r\n  addIcon: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    width: 20.5,\r\n    height: 20.5,\r\n    marginLeft: 14,\r\n    marginRight: 18,\r\n  },\r\n  addText: {\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    fontSize: 12,\r\n    textDecoration: null,\r\n  },\r\n}));\r\n\r\nconst LabelAdd = ({\r\n  setAddLabel,\r\n  type,\r\n  id,\r\n  refetch,\r\n  setRefetch,\r\n  isLoadingDispatch,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [active, setActive] = useState(false);\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const classNameRoot = active\r\n    ? `${classes.root} ${classes.rootActive}`\r\n    : `${classes.root}`;\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", (e) => {\r\n      setActive(false);\r\n    });\r\n  }, []);\r\n\r\n  const stopPropagation = (e) => {\r\n    e.nativeEvent.stopImmediatePropagation();\r\n  };\r\n\r\n  const textFieldRef = useRef();\r\n\r\n  return (\r\n    <Button\r\n      onClick={(e) => {\r\n        console.log(active);\r\n        stopPropagation(e);\r\n        setActive(true);\r\n        console.log(textFieldRef);\r\n      }}\r\n      onKeyPress={(ev) => {\r\n        console.log(`Pressed keyCode ${ev.key}`);\r\n        if (ev.key === \"Enter\") {\r\n          setActive(false);\r\n          setAddLabel && content && setAddLabel(false);\r\n          ev.preventDefault();\r\n          labelAdd(\r\n            type,\r\n            { content: content, id: id },\r\n            refetch,\r\n            setRefetch,\r\n            isLoadingDispatch\r\n          );\r\n        }\r\n      }}\r\n      disableRipple\r\n      className={classNameRoot}\r\n    >\r\n      <AddIcon className={classes.addIcon} />\r\n\r\n      {!active ? (\r\n        <Typography className={`${classes.addText}`}>\r\n          {appText.addCategory}\r\n        </Typography>\r\n      ) : (\r\n        <TextField\r\n          autoFocus\r\n          onBlur={() => {\r\n            setActive(false);\r\n          }}\r\n          inputRef={textFieldRef}\r\n          onChange={(e) => {\r\n            setContent(e.target.value);\r\n          }}\r\n          onSubmit={(e) => {\r\n            console.log(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            className: classes.addText,\r\n          }}\r\n          placeholder={appText.addCategory}\r\n        />\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default LabelAdd;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n  ClickAwayListener,\r\n  MenuList,\r\n  Grow,\r\n  Paper,\r\n  Popper,\r\n} from \"@material-ui/core\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { appText } from \"../utils/constant\";\r\nimport { Modal } from \"@material-ui/core\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport ExpandMoreOutlinedIcon from \"@material-ui/icons/ExpandMoreOutlined\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport LabelAdd from \"./LabelAdd\";\r\nimport { labelRename } from \"../api\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 220,\r\n    height: 46,\r\n    paddingBottom: 10,\r\n    paddingTop: 10,\r\n    paddingLeft: 0,\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 1,\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 1,\r\n\r\n      // borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n      borderWidth: 1,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n      borderWidth: 1,\r\n    },\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  rootActive: {\r\n    \"& .MuiInput-underline:before\": {\r\n      borderBottomColor: \"rgba(225, 225, 225, 1)\", // Solid underline on hover\r\n    },\r\n\r\n    backgroundColor: \"rgba(248, 248, 248, 1)\",\r\n  },\r\n  arrowIcon: {\r\n    color: \"rgba(117, 117, 117, 1)\",\r\n    width: 8,\r\n    height: 13,\r\n    marginLeft: 14,\r\n    marginRight: 8,\r\n  },\r\n  arrowDownIcon: {\r\n    color: \"rgba(117, 117, 117, 1)\",\r\n    width: 14,\r\n    marginLeft: 11,\r\n    marginRight: 5,\r\n  },\r\n  addIcon: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    width: 20.5,\r\n    height: 20.5,\r\n  },\r\n\r\n  addText: {\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    fontSize: 12,\r\n    textDecoration: null,\r\n  },\r\n  moreButtonRoot: {\r\n    minWidth: 32,\r\n    height: 32,\r\n    padding: 0,\r\n    borderRadius: 4,\r\n    border: \"1px solid rgba(251,234,234,1)\",\r\n    marginRight: 10,\r\n  },\r\n  addLayerRoot: {\r\n    minWidth: 32,\r\n    height: 32,\r\n    padding: 0,\r\n    borderRadius: 4,\r\n    marginRight: 10,\r\n    backgroundColor: \"rgba(251,234,234,1)\",\r\n  },\r\n  moreIcon: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n  },\r\n  redDot: {\r\n    width: 2,\r\n    height: 2,\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    margin: 2,\r\n  },\r\n  rightButtonDiv: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  paperRoot: {\r\n    marginTop: 2,\r\n    minWidth: 120,\r\n    border: \"1px solid rgba(225, 225, 225, 1)\",\r\n    borderRadius: 0,\r\n    boxShadow: \"0px 0px 0px 0px\",\r\n  },\r\n  menuItem: {\r\n    margin: \"6px 10px\",\r\n    padding: \"6px 10px\",\r\n    borderRadius: 4,\r\n    fontWeight: 400,\r\n    fontSize: 12,\r\n  },\r\n}));\r\n\r\nconst Label = ({\r\n  label,\r\n  component,\r\n  addButton,\r\n  deleteOnclick,\r\n  type,\r\n  id,\r\n  refetch,\r\n  setRefetch,\r\n  isLoadingDispatch,\r\n  index,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [active, setActive] = useState(false);\r\n  const [layerDown, setLayerDown] = useState(false);\r\n  const [rename, setRename] = useState(false);\r\n\r\n  const classNameRoot = active\r\n    ? `${classes.root} ${classes.rootActive}`\r\n    : `${classes.root}`;\r\n\r\n  const stopPropagation = (e) => {\r\n    e.nativeEvent.stopImmediatePropagation();\r\n  };\r\n\r\n  const textFieldRef = useRef();\r\n  const [open, setOpen] = useState(false);\r\n  const anchorRef = useRef(null);\r\n  const [renameText, setRenameText] = useState(\"\");\r\n  const [addLabel, setAddLabel] = useState(false);\r\n\r\n  const [isHover, setIsHover] = useState(false);\r\n  const handleToggle = (e) => {\r\n    e.stopPropagation();\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n    event.stopPropagation();\r\n\r\n    setActive(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleRename = (e) => {\r\n    handleClose(e);\r\n    setRename(true);\r\n  };\r\n\r\n  const handleDelete = (e) => {\r\n    handleClose(e);\r\n    deleteOnclick();\r\n  };\r\n\r\n  const handleAddOnclick = (e) => {\r\n    handleClose(e);\r\n    setLayerDown(true);\r\n    setAddLabel(!addLabel);\r\n  };\r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === \"Tab\") {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = useRef(open);\r\n  // useEffect(() => {\r\n  //   // if (prevOpen.current === true && open === false) {\r\n  //   //   anchorRef.current.focus();\r\n  //   // }\r\n\r\n  //   prevOpen.current = open;\r\n  // }, [open]);\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onMouseOver={() => {\r\n          console.log(\"over\");\r\n          !active && setActive(true);\r\n        }}\r\n        onMouseLeave={() => {\r\n          console.log(\"leave\");\r\n\r\n          active && !open && setActive(false);\r\n        }}\r\n        onClick={(e) => {\r\n          setLayerDown(!layerDown);\r\n        }}\r\n        onKeyPress={(ev) => {\r\n          console.log(`Pressed keyCode ${ev.key}`);\r\n          if (ev.key === \"Enter\") {\r\n            labelRename(\r\n              type,\r\n              { content: renameText, id: id },\r\n              refetch,\r\n              setRefetch,\r\n              isLoadingDispatch\r\n            );\r\n            setActive(false);\r\n            ev.preventDefault();\r\n          }\r\n        }}\r\n        disableRipple\r\n        className={classNameRoot}\r\n      >\r\n        {layerDown ? (\r\n          <ExpandMoreOutlinedIcon className={classes.arrowDownIcon} />\r\n        ) : (\r\n          <ArrowForwardIosIcon className={classes.arrowIcon} />\r\n        )}\r\n\r\n        {!rename ? (\r\n          <Typography className={`${classes.addText}`}>{label}</Typography>\r\n        ) : (\r\n          <TextField\r\n            autoFocus\r\n            onBlur={() => {\r\n              console.log(\"blur\");\r\n              setRename(false);\r\n              setRenameText(false);\r\n            }}\r\n            inputRef={textFieldRef}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n            }}\r\n            onChange={(e) => {\r\n              setRenameText(e.target.value);\r\n            }}\r\n            onSubmit={(e) => {\r\n              console.log(e.target.value);\r\n            }}\r\n            onKeyPress={(ev) => {\r\n              console.log(`Pressed keyCode ${ev.key}`);\r\n              if (ev.key === \"Enter\") {\r\n                setRename(false);\r\n                ev.preventDefault();\r\n              }\r\n            }}\r\n            InputProps={{\r\n              className: classes.addText,\r\n            }}\r\n            style={{ flex: 1 }}\r\n            placeholder={appText.rename}\r\n          />\r\n        )}\r\n\r\n        {active && (\r\n          <div className={classes.rightButtonDiv}>\r\n            <Button\r\n              className={classes.moreButtonRoot}\r\n              ref={anchorRef}\r\n              aria-controls={open ? \"menu-list-grow\" : undefined}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleToggle}\r\n            >\r\n              <div className={classes.redDot}></div>\r\n              <div className={classes.redDot}></div>\r\n              <div className={classes.redDot}></div>\r\n            </Button>\r\n            <Popper\r\n              open={open}\r\n              anchorEl={anchorRef.current}\r\n              role={undefined}\r\n              transition\r\n              placement=\"bottom-start\"\r\n            >\r\n              {({ TransitionProps, placement }) => (\r\n                <Grow\r\n                  {...TransitionProps}\r\n                  style={{\r\n                    transformOrigin:\r\n                      placement === \"bottom\" ? \"center top\" : \"center bottom\",\r\n                  }}\r\n                >\r\n                  <Paper className={classes.paperRoot}>\r\n                    <ClickAwayListener onClickAway={handleClose}>\r\n                      <MenuList\r\n                        autoFocusItem={open}\r\n                        id=\"menu-list-grow\"\r\n                        onKeyDown={handleListKeyDown}\r\n                        style={{ padding: 0 }}\r\n                      >\r\n                        <MenuItem\r\n                          className={classes.menuItem}\r\n                          onClick={handleRename}\r\n                        >\r\n                          {appText.rename}\r\n                        </MenuItem>\r\n                        <MenuItem\r\n                          className={classes.menuItem}\r\n                          onClick={handleDelete}\r\n                        >\r\n                          {appText.delete}\r\n                        </MenuItem>\r\n                      </MenuList>\r\n                    </ClickAwayListener>\r\n                  </Paper>\r\n                </Grow>\r\n              )}\r\n            </Popper>\r\n\r\n            {addButton && index < 4 && (\r\n              <Button\r\n                className={classes.moreButtonRoot}\r\n                onClick={handleAddOnclick}\r\n              >\r\n                <AddIcon className={classes.addIcon} />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Button>\r\n      {console.log(\"index\", index)}\r\n      {layerDown && (\r\n        <div style={{ marginLeft: 30 }}>\r\n          {component}\r\n          {addLabel && index < 4 && (\r\n            <LabelAdd\r\n              type={type}\r\n              id={id}\r\n              isLoadingDispatch={isLoadingDispatch}\r\n              setAddLabel={setAddLabel}\r\n              refetch={refetch}\r\n              setRefetch={setRefetch}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Label;\r\n","import React, { useImperativeHandle } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { appText } from \"../utils/constant\";\r\nimport { labelDelete } from \"../api/index\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    backgroundColor: \"black\",\r\n  },\r\n});\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n\r\n    padding: theme.spacing(2),\r\n    fontWeight: 600,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst LabelDeleteDialog = React.forwardRef((props, ref) => {\r\n  const { type, refetch, setRefetch, isLoadingDispatch } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const [id, setId] = React.useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    handleClose();\r\n\r\n    labelDelete(type, id, refetch, setRefetch, isLoadingDispatch);\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    handleClickOpen(e) {\r\n      setId(e);\r\n      setOpen(true);\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      PaperProps={{\r\n        style: {\r\n          width: 320,\r\n          borderRadius: 2,\r\n          border: \"1px solid rgba(225, 225, 225, 1)\",\r\n          boxShadow: \"none\",\r\n        },\r\n      }}\r\n    >\r\n      <DialogContentText>{appText.deleteDescription}</DialogContentText>\r\n      <DialogActions>\r\n        <Button\r\n          className={classes.button}\r\n          onClick={handleClose}\r\n          color=\"primary\"\r\n        >\r\n          {appText.cancel}\r\n        </Button>\r\n        <Button\r\n          className={`${classes.button} ${classes.buttonDelete}`}\r\n          onClick={handleDelete}\r\n          color=\"primary\"\r\n        >\r\n          {appText.delete}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default LabelDeleteDialog;\r\n","import React, { useImperativeHandle, useContext } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { appText } from \"../utils/constant\";\r\nimport { labelDelete } from \"../api/index\";\r\nimport { CircularProgress, Backdrop } from \"@material-ui/core\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    backgroundColor: \"black\",\r\n  },\r\n});\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n\r\n    padding: theme.spacing(2),\r\n    fontWeight: 600,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"grey\",\r\n    backgroundColor: \"transparent\",\r\n  },\r\n}));\r\n\r\nconst LoadingDialog = React.forwardRef((props, ref) => {\r\n  const { isLoading, isLoadingDispatch } = useContext(ContextStore);\r\n\r\n  const { type, refetch, setRefetch } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const [id, setId] = React.useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    handleClickOpen(e) {\r\n      setId(e);\r\n      setOpen(true);\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Backdrop\r\n      className={classes.backdrop}\r\n      open={isLoading}\r\n      onClick={handleClose}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  );\r\n});\r\n\r\nexport default LoadingDialog;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n  Tabs,\r\n  Tab,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\n\r\nimport { appText } from \"../utils/constant\";\r\nimport LabelTabs from \"../components/LabelTabs\";\r\nimport { useEffect, useRef, useState, useContext } from \"react\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport {\r\n  Route,\r\n  useParams,\r\n  useRouteMatch,\r\n  Link,\r\n  Switch,\r\n  Redirect,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport LabelAdd from \"../components/LabelAdd\";\r\nimport Label from \"../components/Label\";\r\nimport LabelDeleteDialog from \"../components/LabelDeleteDialog\";\r\nimport { labelList } from \"../api\";\r\nimport LoadingDialog from \"../components/LoadingDialog\";\r\nimport { ContextStore } from \"../redux\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    // padding: theme.spacing(2),\r\n    borderRadius: \"8px\",\r\n    height: \"100%\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"20px\",\r\n    fontFamily: \"Open Sans\",\r\n    padding: theme.spacing(2),\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: theme.spacing(2),\r\n    color: \"rgba(117,117,117,1)\",\r\n    \"&$selectTextCustomized\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  selectTextCustomized: {},\r\n  formControl: {\r\n    marginTop: theme.spacing(1),\r\n    width: 181,\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    boxShadow: \"none\",\r\n  },\r\n  menu: {\r\n    marginTop: 4,\r\n    borderRadius: 0,\r\n    boxShadow: \"none\",\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n  },\r\n  select: {\r\n    height: 100,\r\n  },\r\n\r\n  selectRoot: {\r\n    width: 181,\r\n    height: 48,\r\n\r\n    marginTop: theme.spacing(1),\r\n    \"&.Mui-focused .MuiSelect-select\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n\r\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused \": {\r\n      backgroundColor: \"none\",\r\n    },\r\n  },\r\n  menuText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    color: \"rgba(0,0,0,1)\",\r\n  },\r\n  addIcon: {\r\n    color: \"blue\",\r\n    width: 25,\r\n    height: 25,\r\n  },\r\n  topicRoot: {\r\n    padding: 26,\r\n  },\r\n}));\r\n\r\nconst allTabs = [\"topicCategory\", \"year\", \"grade\"];\r\n\r\nconst Item = ({ setValue }) => {\r\n  const classes = useStyles();\r\n\r\n  const { name } = useParams();\r\n  console.log(name);\r\n  useEffect(() => {\r\n    const isTab = (element) => element === name;\r\n    console.log(allTabs.findIndex(isTab));\r\n    setValue(allTabs.findIndex(isTab));\r\n  }, [name]);\r\n  const [labelData, setLabelData] = useState();\r\n  const [refetch, setRefetch] = useState(false);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // STEP 2：使用 Promise.all 搭配 await 等待兩個 API 都取得回應後才繼續\r\n      const data = await Promise.all([\r\n        labelList(\"topic\"),\r\n        labelList(\"year\"),\r\n        labelList(\"grade\"),\r\n      ]);\r\n      console.log(\"data\", data);\r\n      setLabelData(data);\r\n      isLoading && isLoadingDispatch({ type: \"SET_FINISHED\" });\r\n    };\r\n    fetchData();\r\n  }, [refetch]);\r\n\r\n  const deleteRef = useRef();\r\n\r\n  const renderData = (data, type, index) => {\r\n    return (\r\n      data &&\r\n      data.map((e) => {\r\n        let components = null;\r\n        if (e.level) {\r\n          components = renderData(e.level, type, index + 1);\r\n        }\r\n        return (\r\n          <Label\r\n            index={index}\r\n            type={type}\r\n            id={e._id}\r\n            key={e._id}\r\n            label={e.content}\r\n            deleteOnclick={() => deleteRef.current.handleClickOpen(e._id)}\r\n            addButton={type === \"topic\"}\r\n            component={components}\r\n            refetch={refetch}\r\n            setRefetch={setRefetch}\r\n            isLoadingDispatch={isLoadingDispatch}\r\n          />\r\n        );\r\n      })\r\n    );\r\n  };\r\n  const { isLoading, isLoadingDispatch } = useContext(ContextStore);\r\n\r\n  const renderTopicCategory = () => {\r\n    return (\r\n      <div className={classes.topicRoot}>\r\n        {labelData && renderData(labelData[0], \"topic\", 0)}\r\n        {console.log(isLoading)}\r\n        {/* <div>{isLoading + \"124\"}</div> */}\r\n\r\n        <LabelAdd\r\n          type={\"topic\"}\r\n          refetch={refetch}\r\n          setRefetch={setRefetch}\r\n          isLoadingDispatch={isLoadingDispatch}\r\n        />\r\n        <LabelDeleteDialog\r\n          ref={deleteRef}\r\n          type={\"topic\"}\r\n          refetch={refetch}\r\n          setRefetch={setRefetch}\r\n          isLoadingDispatch={isLoadingDispatch}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderYear = () => {\r\n    return (\r\n      <div className={classes.topicRoot}>\r\n        {labelData && renderData(labelData[1], \"year\")}\r\n        {console.log(isLoading)}\r\n        {/* <div>{isLoading + \"124\"}</div> */}\r\n\r\n        <LabelAdd\r\n          type={\"year\"}\r\n          refetch={refetch}\r\n          setRefetch={setRefetch}\r\n          isLoadingDispatch={isLoadingDispatch}\r\n        />\r\n        <LabelDeleteDialog\r\n          ref={deleteRef}\r\n          type={\"year\"}\r\n          refetch={refetch}\r\n          setRefetch={setRefetch}\r\n          isLoadingDispatch={isLoadingDispatch}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  const renderGrade = () => {\r\n    return (\r\n      <div className={classes.topicRoot}>\r\n        {labelData && renderData(labelData[2], \"grade\")}\r\n        {console.log(isLoading)}\r\n        {/* <div>{isLoading + \"124\"}</div> */}\r\n\r\n        <LabelAdd\r\n          type={\"grade\"}\r\n          refetch={refetch}\r\n          setRefetch={setRefetch}\r\n          isLoadingDispatch={isLoadingDispatch}\r\n        />\r\n        <LabelDeleteDialog\r\n          ref={deleteRef}\r\n          type={\"grade\"}\r\n          refetch={refetch}\r\n          setRefetch={setRefetch}\r\n          isLoadingDispatch={isLoadingDispatch}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderArray = {\r\n    topicCategory: renderTopicCategory(),\r\n    year: renderYear(),\r\n    grade: renderGrade(),\r\n  };\r\n\r\n  return renderArray[name];\r\n};\r\n\r\nconst LabelManangement = () => {\r\n  const classes = useStyles();\r\n  const { url, path } = useRouteMatch();\r\n  console.log(url, path);\r\n  const [value, setValue] = useState(0);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const renderMenuItem = () => {\r\n    let optionArray = [\"年度\", \"第一層分類\"];\r\n    const returnData = optionArray.map((option) => {\r\n      return (\r\n        <MenuItem value={option}>\r\n          <Typography className={`${classes.menuText}`}>{option}</Typography>\r\n        </MenuItem>\r\n      );\r\n    });\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.titleText}>\r\n        {appText.labelManagement}\r\n      </Typography>\r\n      <LabelTabs value={value} handleChange={handleChange} />\r\n      <Route path={`${path}/:name`}>\r\n        <Item setValue={setValue} />\r\n      </Route>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LabelManangement;\r\n","import { API_URL } from \"../api/index\";\r\n\r\nexport const calculateScore = async (number) => {\r\n  console.log(\"number\", number);\r\n  const body = {\r\n    number: number,\r\n  };\r\n  const response = await fetch(API_URL + \"paperAnswer/inquiry\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n\r\n  const fetchData = await response.json();\r\n  return fetchData;\r\n  console.log(\"fetchData\", fetchData);\r\n};\r\n","import React, { useContext, useImperativeHandle, useState } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport { appText } from \"../utils/constant\";\r\nimport PaperSelect from \"./PaperSelect\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { labelInquiryMany } from \"../api\";\r\nimport { calculateScore } from \"../utils/function\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nconst DialogContentTitleText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    fontWeight: 900,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 18,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"0px 0px 0px 0px\",\r\n    fontWeight: 400,\r\n    color: \"rgba(117, 117, 117, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"0px 0px 0px 0px\",\r\n    padding: \"0px 0px\",\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  textField: {\r\n    height: 48,\r\n    flex: 1,\r\n    \"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button\":\r\n      {\r\n        display: \"none\",\r\n      },\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInputBase-input \": {\r\n      height: 48,\r\n      padding: 0,\r\n    },\r\n  },\r\n  placeholder: {\r\n    fontSize: 12,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    textDecoration: null,\r\n  },\r\n  root: {\r\n    height: 48,\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"0px 0px 0px 12px\",\r\n    marginTop: 8,\r\n    borderRadius: 2,\r\n  },\r\n  false: {\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n  },\r\n}));\r\n\r\nconst EnterPaperNumberDialog = React.forwardRef((props, ref) => {\r\n  let { open, setOpen, uploadData } = props;\r\n\r\n  const [answerNumber, setAnswerNumber] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const [valid, setValid] = useState(true);\r\n  const history = useHistory();\r\n  const { isLoading, isLoadingDispatch } = useContext(ContextStore);\r\n\r\n  const handleEnsure = async () => {\r\n    const answerData = await calculateScore(answerNumber);\r\n    console.log(\"answerData\", answerData);\r\n    if (answerData.length === 0) {\r\n      setValid(false);\r\n      setTimeout(() => setValid(true), 1000);\r\n      return;\r\n    }\r\n\r\n    console.log(\"uploadData\", uploadData);\r\n    const isName = (element) => element === \"NAME\";\r\n    const nameIndex = uploadData[0].findIndex(isName);\r\n    const isNumber = (element) => element === \"S01\";\r\n    const numberIndex = uploadData[0].findIndex(isNumber);\r\n    const isAnswer = (element) => element === \"A01\";\r\n    const answerIndex = uploadData[0].findIndex(isAnswer);\r\n\r\n    let {\r\n      singlePropotion,\r\n      singleCount,\r\n      multiplePropotion,\r\n      multipleCount,\r\n      fillPropotion,\r\n      fillCount,\r\n      content,\r\n      answerLengthArray,\r\n    } = answerData[0];\r\n    const scoreEach = [\r\n      parseInt(singlePropotion) / singleCount,\r\n      parseInt(multiplePropotion) / multipleCount,\r\n      parseInt(fillPropotion) / fillCount,\r\n    ];\r\n\r\n    //calculate\r\n    uploadData[0].push(\"SCORE\");\r\n    uploadData[0].push(\"FAULT LABEL\");\r\n\r\n    for (let i = 1; i < uploadData.length; i++) {\r\n      // check paper number\r\n      console.log(\"uploadData[numberIndex]\", uploadData[i][numberIndex]);\r\n      console.log(\"answerData[0].number\", answerData[0].number);\r\n      console.log(\"answerData[0].topicList\", answerData[0].topicList);\r\n\r\n      if (uploadData[i][numberIndex] !== answerData[0].number) {\r\n        continue;\r\n      }\r\n\r\n      let testerAnswer = uploadData[i][answerIndex];\r\n      //add space to 12*\r\n      testerAnswer = testerAnswer + \" \".repeat(12 - (testerAnswer % 12));\r\n      content = content + \" \".repeat(12 - (content % 12));\r\n\r\n      //slice\r\n      let testAnswerSlice = [];\r\n      for (let j = 0; j < testerAnswer.length; j += 12) {\r\n        testAnswerSlice.push(testerAnswer.slice(j, j + 11));\r\n      }\r\n      let answerSlice = [];\r\n      for (let j = 0; j < content.length; j += 12) {\r\n        answerSlice.push(content.slice(j, j + 11));\r\n      }\r\n      console.log(\"testAnswerSlice\", testAnswerSlice);\r\n      console.log(\"answerSlice\", answerSlice);\r\n      console.log(\"answerLengthArray\", answerLengthArray);\r\n\r\n      //compare\r\n      let faultLabel = [];\r\n\r\n      let score = 0;\r\n      let sliceIndex = 0;\r\n      let answerLengthArrayIndex = 0;\r\n      let count = 0;\r\n      for (let i = 0; i < singleCount; i++) {\r\n        if (testAnswerSlice[sliceIndex] === answerSlice[sliceIndex]) {\r\n          score += scoreEach[0];\r\n        } else {\r\n          faultLabel.push(\r\n            answerData[0].topicList[count].topicLabel[\r\n              answerData[0].topicList[count].topicLabel.length - 1\r\n            ]\r\n          );\r\n        }\r\n        sliceIndex = sliceIndex + 1;\r\n        count = count + 1;\r\n      }\r\n\r\n      for (let i = 0; i < multipleCount; i++) {\r\n        if (testAnswerSlice[sliceIndex] === answerSlice[sliceIndex]) {\r\n          score += scoreEach[1];\r\n        } else {\r\n          faultLabel.push(\r\n            answerData[0].topicList[count].topicLabel[\r\n              answerData[0].topicList[count].topicLabel.length - 1\r\n            ]\r\n          );\r\n        }\r\n        sliceIndex = sliceIndex + 1;\r\n        count = count + 1;\r\n      }\r\n\r\n      answerLengthArrayIndex =\r\n        answerLengthArrayIndex + singleCount + multipleCount;\r\n      for (let i = 0; i < fillCount; i++) {\r\n        let equal = true;\r\n        for (let j = 0; j < answerLengthArray[answerLengthArrayIndex]; j++) {\r\n          if (testAnswerSlice[sliceIndex] !== answerSlice[sliceIndex]) {\r\n            equal = false;\r\n          }\r\n          sliceIndex = sliceIndex + 1;\r\n        }\r\n        if (equal) {\r\n          score += scoreEach[2];\r\n        } else {\r\n          faultLabel.push(\r\n            answerData[0].topicList[count].topicLabel[\r\n              answerData[0].topicList[count].topicLabel.length - 1\r\n            ]\r\n          );\r\n          count = count + 1;\r\n        }\r\n      }\r\n      console.log(\"score\", score);\r\n      console.log(\"uploadData[i]\", uploadData[i]);\r\n\r\n      uploadData[i].push(score);\r\n      faultLabel = faultLabel.filter(function (elem, index, self) {\r\n        return index === self.indexOf(elem);\r\n      });\r\n      uploadData[i].push(faultLabel);\r\n    }\r\n    const body = {\r\n      uploadData: uploadData,\r\n    };\r\n    uploadData = await labelInquiryMany(\"topic\", body);\r\n    console.log(\"uploadData\", uploadData);\r\n    //stop calculate\r\n    // isLoadingDispatch({ type: \"SET_FINISHED\" });\r\n\r\n    history.push({\r\n      pathname: \"score\",\r\n      state: {\r\n        paperNumber: answerNumber,\r\n        uploadData: uploadData,\r\n        paperInformation: {\r\n          paperType: answerData[0].paperType,\r\n          unitname: answerData[0].unitname,\r\n          year: answerData[0].year,\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      PaperProps={{\r\n        style: {\r\n          width: 290,\r\n\r\n          borderRadius: 2,\r\n          border: \"1px solid rgba(225, 225, 225, 1)\",\r\n          boxShadow: \"none\",\r\n          padding: 15,\r\n        },\r\n      }}\r\n    >\r\n      <DialogContentText>{appText.enterPaperNumber}</DialogContentText>\r\n      <div\r\n        className={\r\n          valid ? `${classes.root}` : `${classes.root} ${classes.false}`\r\n        }\r\n      >\r\n        <TextField\r\n          value={answerNumber}\r\n          onChange={(e) => {\r\n            setAnswerNumber(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              input: classes.placeholder,\r\n            },\r\n          }}\r\n          className={classes.textField}\r\n          placeholder={\"\"}\r\n        />\r\n      </div>\r\n\r\n      <DialogContentText\r\n        style={{\r\n          color: \"rgba(212, 45, 48, 1)\",\r\n          marginTop: 5,\r\n          fontSize: 9,\r\n          height: 33,\r\n        }}\r\n      >\r\n        {!valid && appText.enterFalse}\r\n      </DialogContentText>\r\n\r\n      <DialogActions>\r\n        <Button className={classes.button} onClick={handleClose}>\r\n          {appText.cancel}\r\n        </Button>\r\n        <Button\r\n          className={`${classes.button} ${classes.buttonDelete}`}\r\n          onClick={handleEnsure}\r\n        >\r\n          {appText.ensure}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default EnterPaperNumberDialog;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { appText } from \"../utils/constant\";\r\nimport { calculateScore } from \"../utils/function\";\r\n\r\nimport upload from \"../assets/upload.png\"; // Tell Webpack this JS file uses this image\r\nimport question from \"../assets/question.png\"; // Tell Webpack this JS file uses this image\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState, useRef } from \"react\";\r\nimport * as Papa from \"papaparse\";\r\nimport EnterPaperNumberDialog from \"../components/EnterPaperNumberDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: \"100%\",\r\n  },\r\n  square: {\r\n    width: 150,\r\n    height: 150,\r\n    alignItems: \"center\",\r\n    backgroundColor: \"white\",\r\n    display: \"flex\",\r\n    flexFlow: \"column\",\r\n    border: \"1px solid rgba(225, 225, 225, 1)\",\r\n    borderRadius: 5,\r\n    margin: 10.5,\r\n    outline: \"none\",\r\n    padding: \"25px 0px 0px 0px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  text: {\r\n    fontSize: 18,\r\n    fontWeight: 900,\r\n    margin: \"12px 0px 0px 0px\",\r\n  },\r\n}));\r\n\r\nfunction Login() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [uploadData, setUploadData] = useState(null);\r\n  const hiddenFileInput = useRef(null);\r\n\r\n  const handleChange = (event) => {\r\n    const fileUploaded = event.target.files[0];\r\n    console.log(fileUploaded);\r\n    Papa.parse(fileUploaded, {\r\n      complete: function (results) {\r\n        console.log(\"Finished:\", results.data);\r\n        const isName = (element) => element === \"NAME\";\r\n        const nameIndex = results.data[0].findIndex(isName);\r\n        const isNumber = (element) => element === \"S01\";\r\n        const numberIndex = results.data[0].findIndex(isNumber);\r\n        const isAnswer = (element) => element === \"A01\";\r\n        const answerIndex = results.data[0].findIndex(isAnswer);\r\n        console.log(\"nameIndex\", nameIndex);\r\n        console.log(\"answerIndex\", answerIndex);\r\n        if (nameIndex !== -1 && answerIndex !== -1 && numberIndex !== -1) {\r\n          setUploadData(results.data);\r\n          setOpen(true);\r\n        } else {\r\n          alert(\"請上傳有效讀卡檔案\");\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (event) => {\r\n    hiddenFileInput.current.click();\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <button className={classes.square} onClick={handleClick}>\r\n        <img src={upload} />\r\n        <div className={classes.text}>{appText.uploadFile}</div>\r\n        <input\r\n          onClick={(event) => {\r\n            event.target.value = null;\r\n          }}\r\n          type=\"file\"\r\n          ref={hiddenFileInput}\r\n          onChange={handleChange}\r\n          style={{ display: \"none\" }}\r\n        />\r\n      </button>\r\n\r\n      <button\r\n        className={classes.square}\r\n        onClick={() => {\r\n          history.push(\"question\");\r\n        }}\r\n      >\r\n        <img src={question} />\r\n\r\n        <div className={classes.text}>{appText.question}</div>\r\n      </button>\r\n\r\n      <EnterPaperNumberDialog\r\n        open={open}\r\n        setOpen={setOpen}\r\n        uploadData={uploadData}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 10,\n    viewBox: \"0 0 12 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.293056 5.72123C-0.600029 4.68471 0.750382 3.09982 1.64331 4.13634L4.3843 7.30374L10.3502 0.340876C11.2433 -0.701482 12.601 0.883217 11.7079 1.92558L5.06654 9.67267C4.69361 10.1081 4.08874 10.1094 3.71441 9.67485L0.293056 5.72123Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.723686e2.svg\";\nexport { ForwardRef as ReactComponent };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGvSURBVHgB7dnLTcNAEAbgseNLkgO+RMpLwnQQKiApgQooJSVQAqEDqCChA6gg4ZTXJccoLzOLvJIPWQTC49lI/ydZu7ItWfplr8djIgAAAAAAAAAAAAAAKEecIU+E5IFOp9Or1+vTWq02bTQaPfJAQMpMKDyM0zS1d8tmv98P1uv1OylSDeZMKJZ6OGrB/BCKpRqOSjC/CMVSC0dr8X2yofA442GUOzbK9hlxFEWPpEAlmNPp9GxGEwBvA57Ocoe/9+XCUV2ES9dqta7tvN1uD3lLs2147pyyqdUx8/n8s4hzpHhR4PkIwTggGAcE44BgHCIS0u12+1yv3JmaZbFYzKhAzWYzCcPw4XA4fKxWqxcSIBJMkiTxbrcbm3kQBKb8v6cCVSoVUzn3uSrecAtnsmFUMJFHabvd5r+BJJtPcbVavSIBWGMcEIyDF8HwAv1m58fj0YuPRi+C4bfWhMO54YX6drlcvpIHxF7Xf1X0K/2/sMY4iN8xpo7hVuaYiiX+i6WMRyk2xRhdGJFHyawXudakGHMNqWaW6F8C6dakZocPAAAAAAAAAAAAAODifQHD9LL23cAprwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH7SURBVHgB7dnLbcJAEAbgAXLhgjjyVEwFoYNAB5RACXQQKCElUAIVQAckFcQHXkcQBw688q/kA0rAtox3B6H/k5CNWIEYzezsrkWIiIiIiIiIiIiIiJ5cRhzyQO60DohlTgJTKpW8bDY7xq0n6RgsFou+WJQTBwqFwlTSC4rRwnf62+32Wyx5EctqtVrrdDp5wdv1+Xz+koQymUwRl6a5x/e0cBmKJdYDc8kEZblctiWhIMhjcSArdJXTjPmrWq02g/IINZvNJuKYWmBMp0JpTfGKHIsAdufzubX55Bq1UkL7fos7FsHzxDG1jME6ZFQul3sopWbYOARlvdvtPsUx1TkGHcr5H46LXekG1YwJ1iXvtz7HZ8PVauWLArXAxFmsYYLuFYvFhotN47/fFiWHwyFyjJl4RYlaxqBEJpVKpSPB3ucaZMxII1sM1TnGtGxcRvKA2JVuUM0YlFIfC7zXsDGYoM0Cb+C6pNQCU6/XO8fj8SNqr4TAST6f9xEXp4tBtVLa7/exM0CjO6l2JeywG7gNLaVcLrfB2MSnfkmpzjHBqtaXB8SudIP1jLmcH8wRAw6dEp/ZokNFnvalxclzJZy7/CAonqQIQeqiFK2d6jkpJWRNGy9f0rFGUPo2g2I4fUSLzHmVO2Gxt9HaPxERERERERERERERPZVf/WfHWiU8m9EAAAAASUVORK5CYII=\"","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n  Tabs,\r\n  Paper,\r\n  Tab,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { useState } from \"react\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  indicator: {\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n  },\r\n\r\n  tabRoot: {\r\n    minWidth: 80,\r\n    color: \"rgba(117,117,117,1)\",\r\n    fontSize: \"14px\",\r\n\r\n    \"&.Mui-selected\": {\r\n      color: \"rgba(212,45,48,1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst ChooseTopicTabs = ({ value, handleChange }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { url, path } = useRouteMatch();\r\n  const allTabs = [\"singleTopic\", \"multipleTopic\", \"fillTopic\"];\r\n\r\n  const renderTab = () => {\r\n    const returnData = allTabs.map((e) => {\r\n      return (\r\n        <Tab\r\n          disableRipple\r\n          className={classes.tabRoot}\r\n          label={appText[e]}\r\n          // component={Link}\r\n          // to={`${e}`}\r\n        />\r\n      );\r\n    });\r\n\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <Tabs\r\n      className={classes.root}\r\n      classes={{ indicator: classes.indicator }}\r\n      value={value}\r\n      indicatorColor=\"primary\"\r\n      textColor=\"primary\"\r\n      onChange={handleChange}\r\n      aria-label=\"disabled tabs example\"\r\n    >\r\n      {renderTab()}\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ChooseTopicTabs;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n  Checkbox,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { useHistory, Link, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport TopicButton from \"./TopicButton\";\r\nimport { useState } from \"react\";\r\n\r\nimport { ReactComponent as Logo } from \"../assets/check.svg\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonEdit: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 60,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonDelete: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 60,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  appbar: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n\r\n    backgroundColor: \"white\",\r\n    height: 74,\r\n    justifyContent: \"center\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  checkBox: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    minWidth: 20,\r\n    padding: \"0px\",\r\n    height: 20,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    },\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1.5px solid rgba(212, 45, 48, 1)\",\r\n  },\r\n  checkBoxActive: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    minWidth: 20,\r\n    padding: \"0px\",\r\n    height: 20,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    border: \"1.5px solid rgba(212, 45, 48, 1)\",\r\n  },\r\n}));\r\nfunction ChoosedBox(props) {\r\n  const { handleChoose, propsChecked } = props;\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    handleChoose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        padding: \"0px 16px 0px 40px\",\r\n        border: \"1px solid rgba(225,225,225,1)\",\r\n        borderTopWidth: 0,\r\n        borderLeftWidth: 0,\r\n        borderRightWidth: 0,\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <Button\r\n        onClick={handleChange}\r\n        className={\r\n          propsChecked ? `${classes.checkBox}` : `${classes.checkBoxActive}`\r\n        }\r\n        disableRipple\r\n      >\r\n        <Logo />\r\n      </Button>\r\n\r\n      <div\r\n        style={{ marginLeft: 49 }}\r\n        dangerouslySetInnerHTML={{ __html: props.content }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChoosedBox;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport EditTopicSelect from \"./EditTopicSelect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  previewButton: {\r\n    width: 76,\r\n    height: 28,\r\n    marginRight: 14,\r\n    marginTop: 19,\r\n    padding: 0,\r\n\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n    marginTop: theme.spacing(3),\r\n    color: \"rgba(255,255,255,1)\",\r\n    fontSize: 12,\r\n    fontWeight: 400,\r\n    \"&.Mui-disabled \": {\r\n      color: \"rgba(151,151,151,1)\",\r\n      backgroundColor: \"rgba(196,196,196,1)\",\r\n    },\r\n    \"&:hover \": {\r\n      backgroundColor: \"rgba(212,45,48,1)\",\r\n      color: \"rgba(255,255,255,1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst PreviewButton = ({ disabled, content,onClick  }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Button className={classes.previewButton} disableRipple disabled={disabled} onClick={onClick}>\r\n      {content}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default PreviewButton;\r\n","import React, { useEffect, useImperativeHandle, useState } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport { appText } from \"../utils/constant\";\r\nimport PaperSelect from \"./PaperSelect\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { paperAnswerAdd } from \"../api\";\r\nimport { Fragment } from \"react\";\r\n\r\nconst DialogContentTitleText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    fontWeight: 900,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 18,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"17px 0px 0px 0px\",\r\n    fontWeight: 600,\r\n    color: \"rgba(117, 117, 117, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"32px 0px 0px 0px\",\r\n    padding: \"0px 8px\",\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  textField: {\r\n    height: 48,\r\n    flex: 1,\r\n    \"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button\":\r\n      {\r\n        display: \"none\",\r\n      },\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInputBase-input \": {\r\n      height: 48,\r\n      padding: 0,\r\n    },\r\n  },\r\n  placeholder: {\r\n    fontSize: 12,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    textDecoration: null,\r\n  },\r\n  root: {\r\n    height: 48,\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"0px 0px 0px 12px\",\r\n    marginRight: 8,\r\n    marginTop: 8,\r\n    borderRadius: 2,\r\n  },\r\n}));\r\n\r\nconst RePaperDialog = React.forwardRef((props, ref) => {\r\n  const { open, setOpen, yearLabelData, choosedTopicData } = props;\r\n\r\n  const [paperType, setPaperType] = useState(\"\");\r\n  const [year, setYear] = useState(\"\");\r\n  const [studentName, setStudentName] = useState(\"\");\r\n\r\n  const [unitname, setUnitname] = useState(\"\");\r\n  const [singlePropotion, setSinglePropotion] = useState(\"\");\r\n  const [multiplePropotion, setMultiplePropotion] = useState(\"\");\r\n  const [fillPropotion, setFillPropotion] = useState(\"\");\r\n  const [answerNumber, setAnswerNumber] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    autoGenerateUnitName();\r\n  }, [open]);\r\n\r\n  const autoGenerateUnitName = () => {\r\n    let unitArray = [];\r\n    console.log(\"choosedTopicData\", choosedTopicData);\r\n    choosedTopicData.map((e) => {\r\n      const lastLabel = e.topicLabel[e.topicLabel.length - 1];\r\n      console.log(\"choosedTopicData\", lastLabel._id);\r\n      const hasSameTopic = (element) => element._id === lastLabel._id;\r\n      if (unitArray.find(hasSameTopic) === undefined) {\r\n        unitArray.push(lastLabel);\r\n      }\r\n    });\r\n    let generatedUnitName = \"\";\r\n    unitArray.map((e, index) => {\r\n      generatedUnitName += e.content;\r\n      if (index !== unitArray.length - 1) {\r\n        generatedUnitName += \"、\";\r\n      }\r\n\r\n  \r\n    });\r\n    setUnitname(generatedUnitName);\r\n\r\n    console.log(\"choosedTopicData unitArray\", unitArray);\r\n  };\r\n\r\n  const singleData = choosedTopicData.filter((e) => e.type === \"0\");\r\n  const multipleData = choosedTopicData.filter((e) => e.type === \"1\");\r\n  const fillData = choosedTopicData.filter((e) => e.type === \"2\");\r\n\r\n  const handlePreview = async () => {\r\n    const singleData = choosedTopicData.filter((e) => e.type === \"0\");\r\n    const multipleData = choosedTopicData.filter((e) => e.type === \"1\");\r\n    const fillData = choosedTopicData.filter((e) => e.type === \"2\");\r\n    choosedTopicData.map((e) => {\r\n      console.log(\"type\", e.type);\r\n    });\r\n    const data = choosedTopicData.sort(function (a, b) {\r\n      return parseInt(a.type) - parseInt(b.type);\r\n    });\r\n\r\n    let answerData = \"\";\r\n\r\n    data.map((e) => {\r\n      const answerLength = e.answer.length;\r\n      if (e.type === \"1\") {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n        });\r\n        answerData = answerData + \" \".repeat(12 - answerLength);\r\n      } else {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n          answerData = answerData + \" \".repeat(11);\r\n        });\r\n      }\r\n    });\r\n\r\n    const propotionValidation = () => {\r\n      const singleBool =\r\n        singleData.length === 0 ? true : singlePropotion.length;\r\n      const multipleBool =\r\n        multipleData.length === 0 ? true : multiplePropotion.length;\r\n      const fillBool = fillData.length === 0 ? true : fillPropotion.length;\r\n\r\n      return singleBool && multipleBool && fillBool;\r\n    };\r\n\r\n    const validation =\r\n      data.length &&\r\n      paperType.length &&\r\n      year.length &&\r\n      unitname.length &&\r\n      propotionValidation() &&\r\n      answerNumber.length &&\r\n      answerData.trim().length;\r\n\r\n    if (!validation) {\r\n      alert(\"請填寫所有題目資訊\");\r\n      return;\r\n    }\r\n    handleClose();\r\n\r\n    let answerLengthArray = [];\r\n    let topicList = [];\r\n    singleData.map((e) => {\r\n      answerLengthArray.push(\"1\");\r\n      topicList.push(e._id);\r\n    });\r\n\r\n    multipleData.map((e) => {\r\n      answerLengthArray.push(\"1\");\r\n      topicList.push(e._id);\r\n    });\r\n\r\n    fillData.map((e) => {\r\n      answerLengthArray.push(e.answer.length);\r\n      topicList.push(e._id);\r\n    });\r\n\r\n    const totalPropotion =\r\n      parseFloat(singlePropotion ? singlePropotion : \"0\") +\r\n      parseFloat(multiplePropotion ? multiplePropotion : \"0\") +\r\n      parseFloat(fillPropotion ? fillPropotion : \"0\");\r\n\r\n    const newSinglePropotion =\r\n      parseFloat(singlePropotion ? singlePropotion : \"0\") / totalPropotion;\r\n    const newMultiplePropotion =\r\n      parseFloat(multiplePropotion ? multiplePropotion : \"0\") / totalPropotion;\r\n    const newFillPropotion =\r\n      parseFloat(fillPropotion ? fillPropotion : \"0\") / totalPropotion;\r\n\r\n    const body = {\r\n      paperType: paperType,\r\n      year: year,\r\n      studentName: studentName,\r\n      unitname: unitname,\r\n      number: answerNumber,\r\n      content: answerData.trim(),\r\n      singleCount: singleData.length,\r\n      multipleCount: multipleData.length,\r\n      fillCount: fillData.length,\r\n      singlePropotion: (newSinglePropotion * 100).toFixed(1),\r\n      multiplePropotion: (newMultiplePropotion * 100).toFixed(1),\r\n      fillPropotion: (newFillPropotion * 100).toFixed(1),\r\n      answerLengthArray: answerLengthArray,\r\n      topicList: topicList,\r\n    };\r\n\r\n    paperAnswerAdd(body);\r\n\r\n    history.push({\r\n      pathname: \"preview\",\r\n      state: {\r\n        data: choosedTopicData,\r\n        paperType: paperType,\r\n        studentName: studentName,\r\n        year: year,\r\n        unitname: unitname,\r\n        singleCount: singleData.length,\r\n        multipleCount: multipleData.length,\r\n        fillCount: fillData.length,\r\n        singlePropotion: (newSinglePropotion * 100).toFixed(1),\r\n        multiplePropotion: (newMultiplePropotion * 100).toFixed(1),\r\n        fillPropotion: (newFillPropotion * 100).toFixed(1),\r\n      },\r\n    });\r\n  };\r\n\r\n  const [value, setValue] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      PaperProps={{\r\n        style: {\r\n          width: 290,\r\n\r\n          borderRadius: 2,\r\n          border: \"1px solid rgba(225, 225, 225, 1)\",\r\n          boxShadow: \"none\",\r\n          padding: 15,\r\n        },\r\n      }}\r\n    >\r\n      <DialogContentTitleText>\r\n        {appText.paperInformation}\r\n      </DialogContentTitleText>\r\n\r\n      <DialogContentText>{appText.choosePaperType}</DialogContentText>\r\n\r\n      <PaperSelect\r\n        defaultValue={appText.paperType}\r\n        menuData={[\r\n          { content: \"週考\" },\r\n          { content: \"模考\" },\r\n          { content: \"專用試卷\" },\r\n        ]}\r\n        setContent={setPaperType}\r\n      />\r\n\r\n      {paperType === \"專用試卷\" && (\r\n        <Fragment>\r\n          <DialogContentText>{appText.enterStudentName}</DialogContentText>\r\n\r\n          <div className={classes.root}>\r\n            <TextField\r\n              value={studentName}\r\n              onChange={(e) => {\r\n                setStudentName(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={\"\"}\r\n            />\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n\r\n      <DialogContentText>{appText.choostYear}</DialogContentText>\r\n\r\n      <PaperSelect\r\n        defaultValue={appText.year}\r\n        menuData={yearLabelData}\r\n        setContent={setYear}\r\n      />\r\n\r\n      <DialogContentText>{appText.enterUnitName}</DialogContentText>\r\n      <div className={classes.root}>\r\n        <TextField\r\n          value={unitname}\r\n          onChange={(e) => {\r\n            setUnitname(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              input: classes.placeholder,\r\n            },\r\n          }}\r\n          className={classes.textField}\r\n          placeholder={\"\"}\r\n        />\r\n      </div>\r\n\r\n      <DialogContentText>{appText.enterPaperNumber}</DialogContentText>\r\n      <div className={classes.root}>\r\n        <TextField\r\n          value={answerNumber}\r\n          onChange={(e) => {\r\n            setAnswerNumber(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              input: classes.placeholder,\r\n            },\r\n          }}\r\n          className={classes.textField}\r\n          placeholder={\"\"}\r\n        />\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <div style={{ display: singleData.length === 0 && \"none\" }}>\r\n          <DialogContentText>{appText.singleAllocation}</DialogContentText>\r\n          <div className={classes.root}>\r\n            <TextField\r\n              type=\"number\"\r\n              value={singlePropotion}\r\n              onChange={(e) => {\r\n                setSinglePropotion(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={appText.enterPropotion}\r\n              inputProps={{ inputmode: \"numeric\", pattern: \"[0-9]*\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style={{ display: multipleData.length === 0 && \"none\" }}>\r\n          <DialogContentText>{appText.multipleAllocation}</DialogContentText>\r\n          <div className={classes.root}>\r\n            <TextField\r\n              type=\"number\"\r\n              value={multiplePropotion}\r\n              onChange={(e) => {\r\n                setMultiplePropotion(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={appText.enterPropotion}\r\n              inputProps={{ inputmode: \"numeric\", pattern: \"[0-9]*\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style={{ display: fillData.length === 0 && \"none\" }}>\r\n          <DialogContentText>{appText.fillAllocation}</DialogContentText>\r\n          <div className={classes.root}>\r\n            <TextField\r\n              value={fillPropotion}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                console.log(\"fill\", e.target.value);\r\n                setFillPropotion(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={appText.enterPropotion}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <DialogActions>\r\n        <Button className={classes.button} onClick={handleClose}>\r\n          {appText.cancel}\r\n        </Button>\r\n        <Button\r\n          className={`${classes.button} ${classes.buttonDelete}`}\r\n          onClick={handlePreview}\r\n        >\r\n          {appText.previewPaper}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default RePaperDialog;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  TextField,\r\n  Toolbar,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  SvgIcon,\r\n  OutlinedInput,\r\n  Checkbox,\r\n  ListItemIcon,\r\n  ListItemText,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { appText } from \"../utils/constant\";\r\nimport { Icon } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { ContextStore } from \"../redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    marginRight: theme.spacing(1),\r\n    height: 28,\r\n    width: 76,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    borderRadius: 2,\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttonLabel: {\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    height: 28,\r\n    width: 76,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 2,\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      border: \"1px solid rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    fontSize: \"12px\",\r\n\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"8px\",\r\n\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"20px\",\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: theme.spacing(2),\r\n    color: \"rgba(117,117,117,1)\",\r\n    \"&$selectTextCustomized\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  selectTextCustomized: {},\r\n  formControl: {\r\n    marginTop: theme.spacing(1),\r\n    width: 181,\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    boxShadow: \"none\",\r\n  },\r\n  menu: {\r\n    marginTop: 4,\r\n    borderRadius: 0,\r\n    boxShadow: \"none\",\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n  },\r\n  select: {\r\n    height: 100,\r\n  },\r\n\r\n  selectRoot: {\r\n    width: 181,\r\n    height: 48,\r\n    marginRight: theme.spacing(1),\r\n    marginTop: theme.spacing(1),\r\n    \"&.Mui-focused .MuiSelect-select\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    // border: \"1px solid rgba(225,225,225,1)\",\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n\r\n    \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"1px solid rgba(225,225,225,1)\",\r\n      borderRadius: 0,\r\n    },\r\n    \"&.Mui-focused \": {\r\n      backgroundColor: \"none\",\r\n    },\r\n  },\r\n  menuText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    color: \"rgba(0,0,0,1)\",\r\n  },\r\n\r\n  checkBox: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    minWidth: 20,\r\n    padding: \"0px\",\r\n    height: 20,\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    },\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1.5px solid rgba(212, 45, 48, 1)\",\r\n  },\r\n  checkBoxActive: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    minWidth: 20,\r\n    padding: \"0px\",\r\n    height: 20,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n    border: \"1.5px solid rgba(212, 45, 48, 1)\",\r\n  },\r\n  indeterminateColor: {\r\n    color: \"rgba(212,45,48,1)\",\r\n  },\r\n  selectAllText: {\r\n    fontWeight: 500,\r\n  },\r\n  selectedAll: {\r\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction EditYearSelect({\r\n  defaultValue,\r\n  data,\r\n  index,\r\n  allChoose,\r\n  topicLabel: topicLabelProps,\r\n  setTopicLabel: setTopicLabelProps,\r\n  yearLabel,\r\n  setYearLabel,\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  console.log(\"data\", data);\r\n\r\n  const [selected, setSelected] = useState([]);\r\n  const isAllSelected = data.length > 0 && selected.length === data.length;\r\n\r\n  const handleChange = (event) => {\r\n    let dataContent = [];\r\n    let dataId = [];\r\n\r\n    data.map((e) => {\r\n      dataContent.push(e.content);\r\n      dataId.push(e._id);\r\n    });\r\n\r\n    const value = event.target.value;\r\n    const _id = event.currentTarget.getAttribute(\"_id\");\r\n\r\n    if (value[value.length - 1] === \"all\") {\r\n      setSelected(selected.length === data.length ? [] : dataContent);\r\n      setYearLabel(selected.length === data.length ? [] : dataId);\r\n\r\n      return;\r\n    }\r\n    setSelected(value);\r\n    setYearLabel(_id);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        multiple\r\n        value={selected}\r\n        onChange={handleChange}\r\n        renderValue={(selected) => (\r\n          <Typography className={`${classes.menuText}`}>\r\n            {selected.length === 0 ? \"年度\" : selected.join(\", \")}\r\n          </Typography>\r\n        )}\r\n        displayEmpty\r\n        IconComponent={ExpandMoreIcon}\r\n        className={classes.selectRoot}\r\n        variant=\"outlined\"\r\n        MenuProps={{\r\n          classes: { paper: classes.menu },\r\n          anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\",\r\n          },\r\n          transformOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"left\",\r\n          },\r\n          getContentAnchorEl: null,\r\n        }}\r\n      >\r\n        <MenuItem\r\n          value=\"all\"\r\n          classes={{\r\n            root: isAllSelected ? classes.selectedAll : \"\",\r\n          }}\r\n        >\r\n          <Checkbox\r\n            disableRipple\r\n            style={{\r\n              color: \"rgba(212, 45, 48, 1)\",\r\n              padding: 0,\r\n              minHeight: 0,\r\n              minWidth: 0,\r\n              marginRight: 10,\r\n            }}\r\n            classes={{\r\n              indeterminate: classes.indeterminateColor,\r\n            }}\r\n            checked={isAllSelected}\r\n            indeterminate={selected.length > 0 && selected.length < data.length}\r\n          />\r\n\r\n          <Typography className={`${classes.menuText}`}>{\"全選\"}</Typography>\r\n        </MenuItem>\r\n        {data.map((option) => (\r\n          <MenuItem\r\n            _id={option._id}\r\n            classes={{\r\n              root: classes.selectedAll,\r\n            }}\r\n            value={option.content}\r\n          >\r\n            {console.log(option)}\r\n            <Checkbox\r\n              style={{\r\n                color: \"rgba(212, 45, 48, 1)\",\r\n                padding: 0,\r\n                minHeight: 0,\r\n                minWidth: 0,\r\n                marginRight: 10,\r\n              }}\r\n              checked={selected.indexOf(option.content) > -1}\r\n            />\r\n\r\n            <Typography className={`${classes.menuText}`}>\r\n              {option.content}\r\n            </Typography>\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditYearSelect;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\nimport EditTopicTabs from \"../components/EditTopicTabs\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport ChooseTopicTabs from \"../components/ChooseTopicTabs\";\r\nimport ChoosedBox from \"../components/ChoosedBox\";\r\nimport EditTopicSelect from \"../components/EditTopicSelect\";\r\nimport { labelList, topicInquiry } from \"../api\";\r\nimport SubmitButton from \"../components/SubmitButton\";\r\nimport { ContextStore } from \"../redux\";\r\nimport PreviewButton from \"../components/PreviewButton\";\r\nimport PreviewDialog from \"../components/PreviewDialog\";\r\nimport EditYearSelect from \"../components/EditYearSelect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100%\",\r\n  },\r\n  titleText: {\r\n    fontWeight: 900,\r\n    fontSize: \"18px\",\r\n  },\r\n  titleTextCustomized: {\r\n    padding: \"20px 17px 0px 17px\",\r\n  },\r\n  chooseTopicTextCustomized: {\r\n    padding: 0,\r\n  },\r\n  navigateBefore: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginTop: 14,\r\n    padding: 0,\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  previewButton: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    width: 76,\r\n    height: 28,\r\n    marginRight: 14,\r\n    marginTop: 19,\r\n    padding: 0,\r\n    backgroundColor: \"rgba(196, 196, 196, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(196, 196, 196, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    borderRadius: 2,\r\n  },\r\n  previewText: {\r\n    fontSize: 12,\r\n    fontWeight: 400,\r\n    color: \"rgba(151, 151, 151, 1)\",\r\n  },\r\n  bottomRoot: {\r\n    marginTop: 15,\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"8px\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  inquiryRoot: {\r\n    padding: 16,\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n    marginTop: 16,\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: 16,\r\n    color: \"rgba(117,117,117,1)\",\r\n  },\r\n  haventChoosedText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    padding: \"21px 0px 17px 17px\",\r\n    color: \"rgba(117,117,117,1)\",\r\n  },\r\n}));\r\n\r\nfunction Question() {\r\n  const classes = useStyles();\r\n  const [choosedTopicData, setChoosedTopicData] = useState([]);\r\n  const [inquiryData, setInquiryData] = useState([]);\r\n\r\n  const [value, setValue] = useState(0);\r\n  const [valueSecond, setValueSecond] = useState(0);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    console.log(\"newValue\", newValue);\r\n    setValue(newValue);\r\n  };\r\n  const handleChangeSecond = (event, newValue) => {\r\n    console.log(\"newValue\", newValue);\r\n    setValueSecond(newValue);\r\n  };\r\n\r\n  const [labelData, setLabelData] = useState([[], []]);\r\n  const [topicLabel, setTopicLabel] = useState([]);\r\n  const [yearLabel, setYearLabel] = useState(\"allChoose\");\r\n  const { topicLabelState, topicLabelDispatch, isLoading, isLoadingDispatch } =\r\n    useContext(ContextStore);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const data = await Promise.all([\r\n        labelList(\"topic\"),\r\n        labelList(\"year\"),\r\n        labelList(\"grade\"),\r\n      ]);\r\n      console.log(\"data\", data);\r\n      setLabelData(data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const onSubmit = async (e) => {\r\n    console.log(\"onClick topicLabelState\", topicLabelState);\r\n\r\n    const body = {\r\n      topicLabel: topicLabelState[topicLabelState.length - 1]\r\n        ? topicLabelState[topicLabelState.length - 1]\r\n        : \"\",\r\n      yearLabel: e.yearLabel,\r\n    };\r\n    const data = await topicInquiry(body);\r\n\r\n    setInquiryData(data);\r\n  };\r\n\r\n  const handleChoose = (e, propsChecked) => {\r\n    console.log(\"eee\", e, propsChecked);\r\n\r\n    let newChoosedTopicData = choosedTopicData;\r\n    if (propsChecked) {\r\n      newChoosedTopicData = newChoosedTopicData.filter(function (item) {\r\n        return item !== e;\r\n      });\r\n      setChoosedTopicData(newChoosedTopicData);\r\n    } else {\r\n      const found = choosedTopicData.find((element) => element === e);\r\n\r\n      if (found) {\r\n        console.log(\"repeat\");\r\n        return null;\r\n      }\r\n      newChoosedTopicData = newChoosedTopicData.concat(e);\r\n      setChoosedTopicData(newChoosedTopicData);\r\n    }\r\n  };\r\n\r\n  const renderTopic = (data) => {\r\n    const returnData = data\r\n      ? data.map((e) => {\r\n          const found = choosedTopicData.find(\r\n            (element) => JSON.stringify(element) === JSON.stringify(e)\r\n          );\r\n          if (found) {\r\n            console.log(\"repeat\");\r\n            return null;\r\n          }\r\n          if (parseInt(e.type) === valueSecond) {\r\n            return (\r\n              <ChoosedBox\r\n                {...e}\r\n                handleChoose={() => {\r\n                  handleChoose(e, false);\r\n                }}\r\n                propsChecked={false}\r\n              />\r\n            );\r\n          }\r\n        })\r\n      : null;\r\n\r\n    return returnData;\r\n  };\r\n  const renderTopicChoosed = (data) => {\r\n    let returnData = data\r\n      ? data.map((e) => {\r\n          const found = choosedTopicData.find((element) => element === e);\r\n          if (parseInt(e.type) === value) {\r\n            return (\r\n              <ChoosedBox\r\n                {...e}\r\n                handleChoose={() => {\r\n                  handleChoose(e, true);\r\n                }}\r\n                propsChecked={true}\r\n              />\r\n            );\r\n          }\r\n        })\r\n      : null;\r\n\r\n    const nullData = (\r\n      <Typography className={`${classes.haventChoosedText}`}>\r\n        {appText.haventChoosed}\r\n      </Typography>\r\n    );\r\n\r\n    returnData = returnData.filter((e) => e !== undefined);\r\n\r\n    return returnData.length ? returnData : nullData;\r\n  };\r\n  const history = useHistory();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Button\r\n        className={classes.navigateBefore}\r\n        disableRipple\r\n        onClick={() => {\r\n          history.goBack();\r\n        }}\r\n      >\r\n        <NavigateBeforeIcon size={20} />\r\n        <Typography className={`${classes.titleText}`}>\r\n          {appText.backpage}\r\n        </Typography>\r\n      </Button>\r\n\r\n      <div className={classes.bottomRoot}>\r\n        <div\r\n          style={{\r\n            flexDirection: \"row\",\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography\r\n            className={`${classes.titleText} ${classes.titleTextCustomized}`}\r\n          >\r\n            {appText.choosedTopic}\r\n          </Typography>\r\n\r\n          <PreviewButton\r\n            content={appText.previewTopic}\r\n            disabled={choosedTopicData.length === 0}\r\n            onClick={() => setOpen(true)}\r\n          />\r\n        </div>\r\n\r\n        <ChooseTopicTabs value={value} handleChange={handleChange} />\r\n\r\n        {renderTopicChoosed(choosedTopicData)}\r\n      </div>\r\n\r\n      <div className={classes.inquiryRoot}>\r\n        <Typography\r\n          className={`${classes.titleText} ${classes.chooseTopicTextCustomized}`}\r\n        >\r\n          {appText.chooseTopic}\r\n        </Typography>\r\n\r\n        <Typography className={classes.selectText}>\r\n          {appText.choostYear}\r\n        </Typography>\r\n        {console.log(\"labelData[1]\", labelData[1])}\r\n        <EditYearSelect\r\n          allChoose={true}\r\n          defaultValue={\"全選\"}\r\n          data={labelData[1]}\r\n          yearLabel={yearLabel}\r\n          setYearLabel={setYearLabel}\r\n        />\r\n\r\n        <Typography className={classes.selectText}>\r\n          {appText.choostAddTopicCategory}\r\n        </Typography>\r\n\r\n        <EditTopicSelect\r\n          defaultValue={appText.choostAddTopicCategoryButton[0]}\r\n          data={labelData[0]}\r\n          index={0}\r\n          topicLabel={topicLabel}\r\n          setTopicLabel={setTopicLabel}\r\n        />\r\n\r\n        <SubmitButton\r\n          content={appText.inquiry}\r\n          onClick={() => {\r\n            onSubmit({ yearLabel, topicLabel });\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className={classes.bottomRoot}>\r\n        <ChooseTopicTabs\r\n          value={valueSecond}\r\n          handleChange={handleChangeSecond}\r\n        />\r\n\r\n        {renderTopic(inquiryData)}\r\n      </div>\r\n\r\n      <PreviewDialog\r\n        choosedTopicData={choosedTopicData}\r\n        open={open}\r\n        setOpen={setOpen}\r\n        yearLabelData={labelData[1]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Question;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n  Tabs,\r\n  Paper,\r\n  Tab,\r\n} from \"@material-ui/core\";\r\nimport { Height } from \"@material-ui/icons\";\r\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\"; // Tell Webpack this JS file uses this image\r\nimport { useState } from \"react\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderBottom: \"1px solid rgba(196, 196, 196, 1)\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  indicator: {\r\n    backgroundColor: \"rgba(212,45,48,1)\",\r\n  },\r\n\r\n  tabRoot: {\r\n    minWidth: 80,\r\n    color: \"rgba(117,117,117,1)\",\r\n    fontSize: \"14px\",\r\n\r\n    \"&.Mui-selected\": {\r\n      color: \"rgba(212,45,48,1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst PreviewTabs = ({ value, handleChange }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { url, path } = useRouteMatch();\r\n  const allTabs = [\"topic\", \"answerDetail\", \"topicAndAnswerDetail\"];\r\n\r\n  const renderTab = () => {\r\n    const returnData = allTabs.map((e) => {\r\n      return (\r\n        <Tab\r\n          disableRipple\r\n          className={classes.tabRoot}\r\n          label={appText[e]}\r\n          // component={Link}\r\n          // to={`${e}`}\r\n        />\r\n      );\r\n    });\r\n\r\n    return returnData;\r\n  };\r\n\r\n  return (\r\n    <Tabs\r\n      className={classes.root}\r\n      classes={{ indicator: classes.indicator }}\r\n      value={value}\r\n      indicatorColor=\"primary\"\r\n      textColor=\"primary\"\r\n      onChange={handleChange}\r\n      aria-label=\"disabled tabs example\"\r\n    >\r\n      {renderTab()}\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default PreviewTabs;\r\n","import React from \"react\";\r\nimport {\r\n  Document,\r\n  Page,\r\n  Text,\r\n  View,\r\n  StyleSheet,\r\n  PDFViewer,\r\n} from \"@react-pdf/renderer\";\r\n\r\n// Create styles\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: \"row\",\r\n    backgroundColor: \"#E4E4E4\",\r\n    flex: 1,\r\n  },\r\n  section: {\r\n    margin: 10,\r\n    padding: 10,\r\n    flexGrow: 1,\r\n  },\r\n});\r\n\r\n// Create Document Component\r\nconst MyDocument = () => (\r\n  <Document>\r\n    <Page size=\"A4\" style={styles.page}>\r\n      <View style={styles.section}>\r\n        <Text>Section #1</Text>\r\n      </View>\r\n      <View style={styles.section}>\r\n        <Text>Section #2</Text>\r\n      </View>\r\n    </Page>\r\n  </Document>\r\n);\r\n\r\nconst PdfPreview = ({ disabled, content, onClick }) => {\r\n  return (\r\n    <PDFViewer>\r\n      <MyDocument />\r\n    </PDFViewer>\r\n  );\r\n};\r\n\r\nexport default PdfPreview;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\nimport EditTopicTabs from \"../components/EditTopicTabs\";\r\nimport { useState, useEffect, useContext, createRef, useCallback } from \"react\";\r\nimport {\r\n  Redirect,\r\n  useHistory,\r\n  useLocation,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport PreviewTabs from \"../components/PreviewTabs\";\r\nimport ChoosedBox from \"../components/ChoosedBox\";\r\nimport EditTopicSelect from \"../components/EditTopicSelect\";\r\nimport { labelList, topicInquiry } from \"../api\";\r\nimport SubmitButton from \"../components/SubmitButton\";\r\nimport { ContextStore } from \"../redux\";\r\nimport PreviewButton from \"../components/PreviewButton\";\r\nimport PreviewDialog from \"../components/PreviewDialog\";\r\nimport PdfPreview from \"../components/PdfPreview\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { renderToString } from \"react-dom/server\";\r\nimport html2pdf from \"html2pdf.js\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport pdfMake from \"pdfmake/build/pdfmake\";\r\nimport Canvg from \"canvg\";\r\n\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\nconst fontSizeRatio = 1.3;\r\n\r\nvar htmlToPdfmake = require(\"html-to-pdfmake\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100%\",\r\n  },\r\n  titleText: {\r\n    fontWeight: 900,\r\n    fontSize: \"18px\",\r\n  },\r\n  titleTextCustomized: {\r\n    padding: \"20px 17px 0px 17px\",\r\n  },\r\n  chooseTopicTextCustomized: {\r\n    padding: 0,\r\n  },\r\n  navigateBefore: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginTop: 14,\r\n    padding: 0,\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  previewButton: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    width: 76,\r\n    height: 28,\r\n    marginRight: 14,\r\n    marginTop: 19,\r\n    padding: 0,\r\n    backgroundColor: \"rgba(196, 196, 196, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(196, 196, 196, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    borderRadius: 2,\r\n  },\r\n  previewText: {\r\n    fontSize: 12,\r\n    fontWeight: 400,\r\n    color: \"rgba(151, 151, 151, 1)\",\r\n  },\r\n  bottomRoot: {\r\n    marginTop: 15,\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"8px\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n  },\r\n  inquiryRoot: {\r\n    padding: 16,\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n    marginTop: 16,\r\n  },\r\n  selectText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    marginTop: 16,\r\n    color: \"rgba(117,117,117,1)\",\r\n  },\r\n  haventChoosedText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    padding: \"21px 0px 17px 17px\",\r\n    color: \"rgba(117,117,117,1)\",\r\n  },\r\n}));\r\n\r\nconst Topic = ({ e, index, numberList, type, count, startIndex }) => {\r\n  useEffect(() => {}, []);\r\n\r\n  const [indexPositionY, setIndexPositionY] = useState(0);\r\n  const [TopicPositionY, setTopicPositionY] = useState(0);\r\n\r\n  const divIndex = useCallback((node) => {\r\n    if (node !== null) {\r\n      console.log(\"indexNode\", node.getBoundingClientRect());\r\n\r\n      console.log(\"indexPositionY\", node.getBoundingClientRect().y);\r\n      const childPositionY = node.getBoundingClientRect().y;\r\n      setIndexPositionY(childPositionY);\r\n    }\r\n  }, []);\r\n\r\n  const divTopic = useCallback((node) => {\r\n    if (node !== null) {\r\n      for (let i = 0; i < node.children.length; i++) {\r\n        node.children[i].style.margin = 0;\r\n      }\r\n\r\n      console.log(\"TopicNode\", node.firstChild.getBoundingClientRect());\r\n      console.log(\"TopicPositionY\", node.firstChild.getBoundingClientRect().y);\r\n      const childPositionY = node.firstChild.getBoundingClientRect().y;\r\n      setTopicPositionY(childPositionY);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ bottom: \"-3.394em\" }}>\r\n      <div\r\n        id={e._id}\r\n        style={{\r\n          fontSize: fontSizeRatio * 11,\r\n          flexDirection: \"row\",\r\n          display: \"flex\",\r\n          paddingTop: \"3.394em\",\r\n          paddingRight: 10,\r\n          lineHeight: \"20px\",\r\n          fontFamily: \"ArphicHeitiLight\",\r\n        }}\r\n      >\r\n        <div>\r\n          <p style={{ margin: 0 }} ref={divIndex} id={e._id + \"index\"}>\r\n            {startIndex + index}\r\n            {\".\"}&nbsp;\r\n          </p>\r\n        </div>\r\n        {console.log(\"html\", e.content)}\r\n        <div\r\n          style={{}}\r\n          ref={divTopic}\r\n          dangerouslySetInnerHTML={{ __html: e.content }}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Preview() {\r\n  const classes = useStyles();\r\n  const [choosedTopicData, setChoosedTopicData] = useState([]);\r\n  const [inquiryData, setInquiryData] = useState([]);\r\n\r\n  const [value, setValue] = useState(0);\r\n  const [valueSecond, setValueSecond] = useState(0);\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  const handleChange = (event, newValue) => {\r\n    console.log(\"newValue\", newValue);\r\n    setValue(newValue);\r\n  };\r\n  const handleChangeSecond = (event, newValue) => {\r\n    console.log(\"newValue\", newValue);\r\n    setValueSecond(newValue);\r\n  };\r\n\r\n  const [labelData, setLabelData] = useState([]);\r\n  const [topicLabel, setTopicLabel] = useState([]);\r\n  const [yearLabel, setYearLabel] = useState(\"\");\r\n  const { topicLabelState, topicLabelDispatch, isLoading, isLoadingDispatch } =\r\n    useContext(ContextStore);\r\n  const location = useLocation();\r\n\r\n  console.log(\"location.state\", location.state);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // STEP 2：使用 Promise.all 搭配 await 等待兩個 API 都取得回應後才繼續\r\n      const data = await Promise.all([\r\n        labelList(\"topic\"),\r\n        labelList(\"year\"),\r\n        labelList(\"grade\"),\r\n      ]);\r\n      console.log(\"data\", data);\r\n      setLabelData(data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleChoose = (e, propsChecked) => {\r\n    console.log(\"eee\", e, propsChecked);\r\n\r\n    let newChoosedTopicData = choosedTopicData;\r\n    if (propsChecked) {\r\n      newChoosedTopicData = newChoosedTopicData.filter(function (item) {\r\n        return item !== e;\r\n      });\r\n      setChoosedTopicData(newChoosedTopicData);\r\n    } else {\r\n      const found = choosedTopicData.find((element) => element === e);\r\n\r\n      if (found) {\r\n        console.log(\"repeat\");\r\n        return null;\r\n      }\r\n      newChoosedTopicData = newChoosedTopicData.concat(e);\r\n      setChoosedTopicData(newChoosedTopicData);\r\n    }\r\n  };\r\n\r\n  const renderTopic = (data) => {\r\n    const returnData = data\r\n      ? data.map((e) => {\r\n          const found = choosedTopicData.find(\r\n            (element) => JSON.stringify(element) === JSON.stringify(e)\r\n          );\r\n          if (found) {\r\n            console.log(\"repeat\");\r\n            return null;\r\n          }\r\n          if (parseInt(e.type) === valueSecond) {\r\n            return (\r\n              <ChoosedBox\r\n                {...e}\r\n                handleChoose={() => {\r\n                  handleChoose(e, false);\r\n                }}\r\n                propsChecked={false}\r\n              />\r\n            );\r\n          }\r\n        })\r\n      : null;\r\n\r\n    return returnData;\r\n  };\r\n\r\n  const renderPreviewTopicContent = (data, index, type, startIndex) => {\r\n    const indexArray = [\"一\", \"二\", \"三\"];\r\n    let returnData = [];\r\n    let propotionArray = [\r\n      (location.state.singlePropotion / location.state.singleCount).toFixed(1),\r\n      (location.state.multiplePropotion / location.state.multipleCount).toFixed(\r\n        1\r\n      ),\r\n      (location.state.fillPropotion / location.state.fillCount).toFixed(1),\r\n    ];\r\n\r\n    propotionArray = propotionArray.filter(function (value) {\r\n      return value !== \"NaN\";\r\n    });\r\n    console.log(\"propotionArray\", propotionArray);\r\n\r\n    const singleData = location.state.data.filter((e) => e.type === \"0\");\r\n    const multipleData = location.state.data.filter((e) => e.type === \"1\");\r\n    let count = 0;\r\n\r\n    count += singleData.length;\r\n\r\n    count += multipleData.length;\r\n\r\n    const numberArray = [\"①\", \"②\", \"③\", \"④\", \"⑤\", \"⑥\", \"⑦\", \"⑧\", \"⑨\"];\r\n    if (paperType !== \"週考\") {\r\n      returnData.push(\r\n        <div\r\n          style={{\r\n            lineHeight: \"50px\",\r\n            fontSize: fontSizeRatio * 15,\r\n            fontFamily: \"ArphicHeitiBold\",\r\n          }}\r\n          id={indexArray[index]}\r\n        >\r\n          {indexArray[index]}\r\n          {\".\"}\r\n          {type}\r\n          {\":\"}\r\n          {\"每題\"}\r\n          {propotionArray[index]}\r\n          {\"分\"}\r\n        </div>\r\n      );\r\n    }\r\n    const numberList = [\r\n      \"①\",\r\n      \"②\",\r\n      \"③\",\r\n      \"④\",\r\n      \"⑤\",\r\n      \"⑥\",\r\n      \"⑦\",\r\n      \"⑧\",\r\n      \"⑨\",\r\n      \"⑩\",\r\n      \"⑪\",\r\n      \"⑫\",\r\n      \"⑬\",\r\n      \"⑭\",\r\n      \"⑮\",\r\n      \"⑯\",\r\n      \"⑰\",\r\n      \"⑱\",\r\n      \"⑲\",\r\n      \"⑳\",\r\n      \"㉑\",\r\n      \"㉒\",\r\n      \"㉓\",\r\n      \"㉔\",\r\n      \"㉕\",\r\n      \"㉖\",\r\n      \"㉗\",\r\n      \"㉘\",\r\n      \"㉙\",\r\n      \"㉚\",\r\n      \"㉛\",\r\n      \"㉜\",\r\n      \"㉝\",\r\n      \"㉞\",\r\n      \"㉟\",\r\n      \"㊱\",\r\n      \"㊲\",\r\n      \"㊳\",\r\n      \"㊴\",\r\n      \"㊵\",\r\n      \"㊶\",\r\n      \"㊷\",\r\n      \"㊸\",\r\n      \"㊹\",\r\n      \"㊺\",\r\n      \"㊻\",\r\n      \"㊼\",\r\n      \"㊽\",\r\n      \"㊾\",\r\n      \"㊿\",\r\n    ];\r\n    const cloneData = JSON.parse(JSON.stringify(data));\r\n\r\n    cloneData.map((e, index) => {\r\n      if (type === \"選填題\") {\r\n        for (var i = 0; i < e.content.length; i++) {\r\n          var strChar = e.content.charAt(i);\r\n\r\n          const found = (element) => element === strChar;\r\n\r\n          if (numberList.findIndex(found) !== -1) {\r\n            const newStrChar =\r\n              numberList[count + numberList.findIndex(found) + 5];\r\n            e.content = e.content.replace(strChar, newStrChar);\r\n          }\r\n        }\r\n\r\n        for (var i = 0; i < e.content.length; i++) {\r\n          var strChar = e.content.charAt(i);\r\n\r\n          const found = (element) => element === strChar;\r\n\r\n          if (numberList.findIndex(found) !== -1) {\r\n            const newStrChar = numberList[numberList.findIndex(found) - 5];\r\n            e.content = e.content.replace(strChar, newStrChar);\r\n          }\r\n        }\r\n\r\n        count += e.answer.length;\r\n      }\r\n\r\n      returnData.push(\r\n        <Topic\r\n          startIndex={startIndex}\r\n          e={e}\r\n          index={index}\r\n          numberList={numberList}\r\n          type={type}\r\n          count={count}\r\n        />\r\n      );\r\n    });\r\n\r\n    return returnData;\r\n  };\r\n\r\n  const renderPreviewTopicAnswerContent = (\r\n    data,\r\n    index,\r\n    type,\r\n    startIndex,\r\n    fontScale\r\n  ) => {\r\n    const indexArray = [\"一\", \"二\", \"三\"];\r\n    let propotionArray = [\r\n      (location.state.singlePropotion / location.state.singleCount).toFixed(1),\r\n      (location.state.multiplePropotion / location.state.multipleCount).toFixed(\r\n        1\r\n      ),\r\n      (location.state.fillPropotion / location.state.fillCount).toFixed(1),\r\n    ];\r\n\r\n    propotionArray = propotionArray.filter(function (value) {\r\n      return value !== \"NaN\";\r\n    });\r\n    console.log(\"propotionArray\", propotionArray);\r\n    let returnData = [];\r\n    if (paperType !== \"週考\") {\r\n      returnData.push(\r\n        <div\r\n          style={{\r\n            fontSize: fontSizeRatio * 13,\r\n            paddingTop: 20,\r\n            fontFamily: \"ArphicHeitiBold\",\r\n          }}\r\n          id={indexArray[index]}\r\n        >\r\n          {indexArray[index]}\r\n          {\".\"}\r\n          {type}\r\n          {\":\"}\r\n\r\n          {\"每題\"}\r\n\r\n          {propotionArray[index]}\r\n          {\"分\"}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    returnData.push(\r\n      data.map((e, index) => {\r\n        return (\r\n          <div\r\n            id={e._id + \"answer\"}\r\n            style={{\r\n              fontSize: fontSizeRatio * 9,\r\n              flexDirection: \"row\",\r\n              display: \"flex\",\r\n              fontFamily: \"ArphicHeitiLight\",\r\n              paddingTop: \"3.394em\",\r\n              paddingRight: 10,\r\n              lineHeight: \"18px\",\r\n            }}\r\n          >\r\n            <div style={{ margin: 0 }}>\r\n              <p>\r\n                {startIndex + index}\r\n                {\".\"}&nbsp;\r\n              </p>\r\n            </div>\r\n            <div dangerouslySetInnerHTML={{ __html: e.answerDetail }}></div>\r\n          </div>\r\n        );\r\n      })\r\n    );\r\n    return returnData;\r\n  };\r\n\r\n  const renderPreviewTopic = (data, fontScale) => {\r\n    data.sort(function (a, b) {\r\n      return parseInt(a.type) - parseInt(b.type);\r\n    });\r\n    const { year, unitname, paperType, studentName } = location.state;\r\n    const singleData = data.filter((e) => e.type === \"0\");\r\n    const multipleData = data.filter((e) => e.type === \"1\");\r\n    const fillData = data.filter((e) => e.type === \"2\");\r\n\r\n    let returnData = [];\r\n    returnData.push(\r\n      <div\r\n        id=\"mathTitle\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          fontSize: 35 * fontSizeRatio,\r\n          fontFamily: \"ChaoYanZeTeMaoKai\",\r\n          paddingTop: 30,\r\n        }}\r\n      >\r\n        {\"王 耀 高 中 數 學\"}\r\n      </div>\r\n    );\r\n    returnData.push(\r\n      <div\r\n        id=\"mathTitle\"\r\n        style={{\r\n          paddingTop: 30,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          fontSize: fontSizeRatio * 21,\r\n          fontFamily: \"ChaoYanZeTeMaoKai\",\r\n        }}\r\n      >\r\n        {year + \" \" + studentName + (studentName ? \"的\" : \"\") + paperType}\r\n      </div>\r\n    );\r\n    returnData.push(\r\n      <div\r\n        id=\"mathTitle\"\r\n        style={{\r\n          paddingTop: 30,\r\n          display: \"flex\",\r\n\r\n          fontSize: fontSizeRatio * 15,\r\n          fontFamily: \"ArphicHeitiBold\",\r\n        }}\r\n      >\r\n        {\"範圍:\" + unitname}\r\n      </div>\r\n    );\r\n    let count = 0;\r\n    let startIndex = 1;\r\n    if (singleData.length) {\r\n      returnData.push(\r\n        renderPreviewTopicContent(singleData, count, \"單選題\", startIndex)\r\n      );\r\n      count = count + 1;\r\n      startIndex += singleData.length;\r\n    }\r\n    if (multipleData.length) {\r\n      returnData.push(\r\n        renderPreviewTopicContent(multipleData, count, \"多選題\", startIndex)\r\n      );\r\n      count = count + 1;\r\n      startIndex += multipleData.length;\r\n    }\r\n    if (fillData.length) {\r\n      returnData.push(\r\n        renderPreviewTopicContent(fillData, count, \"選填題\", startIndex)\r\n      );\r\n    }\r\n\r\n    return returnData;\r\n  };\r\n\r\n  const renderPreviewTopicAnswer = (data, fontScale) => {\r\n    data.sort(function (a, b) {\r\n      return parseInt(a.type) - parseInt(b.type);\r\n    });\r\n    const { year, unitname, studentName, paperType } = location.state;\r\n\r\n    const singleData = data.filter((e) => e.type === \"0\");\r\n    const multipleData = data.filter((e) => e.type === \"1\");\r\n    const fillData = data.filter((e) => e.type === \"2\");\r\n\r\n    let returnData = [];\r\n    returnData.push(\r\n      <div\r\n        id=\"mathTitle\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          fontSize: fontSizeRatio * 33,\r\n          fontFamily: \"ChaoYanZeTeMaoKai\",\r\n          paddingTop: 30,\r\n        }}\r\n      >\r\n        {\"王 耀 高 中 數 學\"}\r\n      </div>\r\n    );\r\n    returnData.push(\r\n      <div\r\n        id=\"mathTitle\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          fontSize: fontSizeRatio * 19,\r\n          fontFamily: \"ChaoYanZeTeMaoKai\",\r\n          paddingTop: 30,\r\n        }}\r\n      >\r\n        {year +\r\n          \" \" +\r\n          studentName +\r\n          (studentName ? \"的\" : \"\") +\r\n          paperType +\r\n          \"解析\"}\r\n      </div>\r\n    );\r\n    returnData.push(\r\n      <div\r\n        id=\"mathTitle\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          fontSize: fontSizeRatio * 13,\r\n          fontFamily: \"ArphicHeitiBold\",\r\n          paddingTop: 30,\r\n        }}\r\n      >\r\n        {\"範圍:\" + unitname}\r\n      </div>\r\n    );\r\n    let count = 0;\r\n    let startIndex = 1;\r\n    if (singleData.length) {\r\n      returnData.push(\r\n        renderPreviewTopicAnswerContent(\r\n          singleData,\r\n          count,\r\n          \"單選題\",\r\n          startIndex,\r\n          fontScale\r\n        )\r\n      );\r\n      count = count + 1;\r\n      startIndex += singleData.length;\r\n    }\r\n    if (multipleData.length) {\r\n      returnData.push(\r\n        renderPreviewTopicAnswerContent(\r\n          multipleData,\r\n          count,\r\n          \"多選題\",\r\n          startIndex,\r\n          fontScale\r\n        )\r\n      );\r\n      count = count + 1;\r\n      startIndex += multipleData.length;\r\n    }\r\n    if (fillData.length) {\r\n      returnData.push(\r\n        renderPreviewTopicAnswerContent(\r\n          fillData,\r\n          count,\r\n          \"選填題\",\r\n          startIndex,\r\n          fontScale\r\n        )\r\n      );\r\n    }\r\n\r\n    return returnData;\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const printDiv = () => {\r\n    return (\r\n      <div id=\"element-to-print\" style={{ visibility: \"hidden\" }}>\r\n        <div id=\"element-to-print-topic\">\r\n          {value === 0 && renderPreviewTopic(location.state.data)}\r\n          {value === 2 && renderPreviewTopic(location.state.data)}\r\n        </div>\r\n        <div id=\"element-to-print-topicAnswer\">\r\n          {value === 1 && renderPreviewTopicAnswer(location.state.data)}\r\n          {value === 2 && renderPreviewTopicAnswer(location.state.data)}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (location.state === undefined) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const { year, unitname, paperType, studentName } = location.state;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Button\r\n        className={classes.navigateBefore}\r\n        disableRipple\r\n        onClick={() => {\r\n          history.goBack();\r\n        }}\r\n      >\r\n        <NavigateBeforeIcon size={20} />\r\n        <Typography className={`${classes.titleText}`}>\r\n          {appText.backpage}\r\n        </Typography>\r\n      </Button>\r\n\r\n      <div className={classes.bottomRoot}>\r\n        <div\r\n          style={{\r\n            flexDirection: \"row\",\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography\r\n            className={`${classes.titleText} ${classes.titleTextCustomized}`}\r\n          >\r\n            {appText.previewTopic}\r\n          </Typography>\r\n\r\n          <PreviewButton\r\n            content={appText.downloadTopic}\r\n            onClick={async () => {\r\n              const svgElements = document\r\n                .getElementById(\"element-to-print-topic\")\r\n                .querySelectorAll(\"svg\");\r\n              svgElements.forEach(function (item) {\r\n                console.log(\"item\", item);\r\n                item.setAttribute(\"width\", item.getBoundingClientRect().width);\r\n                item.setAttribute(\r\n                  \"height\",\r\n                  item.getBoundingClientRect().height\r\n                );\r\n                item.style.width = null;\r\n                item.style.height = null;\r\n              });\r\n              const svgElementsAnswer = document\r\n                .getElementById(\"element-to-print-topicAnswer\")\r\n                .querySelectorAll(\"svg\");\r\n              svgElementsAnswer.forEach(function (item) {\r\n                console.log(\"item\", item);\r\n                item.setAttribute(\"width\", item.getBoundingClientRect().width);\r\n                item.setAttribute(\r\n                  \"height\",\r\n                  item.getBoundingClientRect().height\r\n                );\r\n                item.style.width = null;\r\n                item.style.height = null;\r\n              });\r\n\r\n              var elementTopic = document.getElementById(\r\n                \"element-to-print-topic\"\r\n              ).innerHTML;\r\n              var elementTopicAnswer = document.getElementById(\r\n                \"element-to-print-topicAnswer\"\r\n              ).innerHTML;\r\n\r\n              let pages = [];\r\n              if (elementTopic) pages.push(elementTopic);\r\n              if (elementTopicAnswer) pages.push(elementTopicAnswer);\r\n\r\n              const paperNameType = [\"題目\", \"答案詳解\", \"題目與答案詳解\"];\r\n\r\n              var opt = {\r\n                margin: [13, 13, 13, 13], //top, left, bottom, right\r\n                filename:\r\n                  year +\r\n                  \" \" +\r\n                  studentName +\r\n                  \"的\" +\r\n                  paperType +\r\n                  \"-\" +\r\n                  unitname +\r\n                  \"-\" +\r\n                  paperNameType[value] +\r\n                  \".pdf\",\r\n                image: { type: \"jpeg\", quality: 0.98 },\r\n                html2canvas: {\r\n                  scale: 2,\r\n                  scrollX: 0,\r\n                  scrollY: 0,\r\n                },\r\n                pagebreak: { mode: [\"avoid-all\"] },\r\n\r\n                jsPDF: {\r\n                  format: \"b5\",\r\n                  orientation: \"portrait\",\r\n                },\r\n              };\r\n              let doc = html2pdf().set(opt).from(pages[0]).toPdf();\r\n              for (let j = 1; j < pages.length; j++) {\r\n                doc = doc\r\n                  .get(\"pdf\")\r\n                  .then((pdf) => {\r\n                    pdf.addPage();\r\n                  })\r\n                  .from(pages[j])\r\n                  .toContainer()\r\n                  .toCanvas()\r\n                  .toImg()\r\n                  .toPdf();\r\n              }\r\n              doc.save();\r\n              // New Promise-based usage:\r\n              // html2pdf().set(opt).from(element).save;\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <PreviewTabs value={value} handleChange={handleChange} />\r\n\r\n        {\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <div\r\n              style={{\r\n                backgroundColor: \"white\",\r\n                width: \"162.69mm\",\r\n                marginBottom: \"-2em\",\r\n              }}\r\n            >\r\n              {value === 0 && renderPreviewTopic(location.state.data)}\r\n              {value === 1 && renderPreviewTopicAnswer(location.state.data)}\r\n              {value === 2 && renderPreviewTopic(location.state.data)}\r\n              {value === 2 && renderPreviewTopicAnswer(location.state.data)}\r\n            </div>\r\n          </div>\r\n        }\r\n        {printDiv()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preview;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPaper(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 17,\n    viewBox: \"0 0 15 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.87012 4.75H10.0264M4.87012 12.25H10.0264M4.87012 8.5H9.08887M12.3701 1H2.05762C1.53985 1 1.12012 1.41973 1.12012 1.9375V15.0625C1.12012 15.5803 1.53985 16 2.05762 16H12.3701C12.8879 16 13.3076 15.5803 13.3076 15.0625V1.9375C13.3076 1.41973 12.8879 1 12.3701 1Z\",\n    stroke: \"#C2C9D1\",\n    strokeWidth: 1.875,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPaper);\nexport default __webpack_public_path__ + \"static/media/paper.d2196357.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useImperativeHandle, useState } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport { appText } from \"../utils/constant\";\r\nimport PaperSelect from \"./PaperSelect\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { paperAnswerAdd } from \"../api\";\r\nimport { calculateScore } from \"../utils/function\";\r\n\r\nconst DialogContentTitleText = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    fontWeight: 900,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontSize: 18,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogContentText = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"0px 0px 0px 0px\",\r\n    fontWeight: 400,\r\n    color: \"rgba(117, 117, 117, 1)\",\r\n    fontSize: 12,\r\n  },\r\n}))(MuiDialogContentText);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: \"0px 0px 0px 0px\",\r\n    padding: \"0px 8px\",\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  paper: { minWidth: \"500px\" },\r\n  button: {\r\n    padding: 0,\r\n    width: 95,\r\n    height: 32,\r\n    fontWeight: 500,\r\n    borderRadius: 2,\r\n    color: \"rgba(212, 45, 48, 1)\",\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n    fontSize: 12,\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  buttonDelete: {\r\n    color: \"white\",\r\n    backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(212, 45, 48, 1)\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  textField: {\r\n    height: 48,\r\n    flex: 1,\r\n    \"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button\":\r\n      {\r\n        display: \"none\",\r\n      },\r\n    \"& .MuiInput-underline:hover:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:hover:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInput-underline:before\": {\r\n      borderWidth: 0,\r\n    },\r\n    \"& .MuiInputBase-input \": {\r\n      height: 48,\r\n      padding: 0,\r\n    },\r\n  },\r\n  placeholder: {\r\n    fontSize: 12,\r\n    color: \"rgba(26, 26, 26, 1)\",\r\n    fontWeight: 400,\r\n    textDecoration: null,\r\n  },\r\n  root: {\r\n    height: 48,\r\n    border: \"1px solid rgba(225,225,225,1)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"0px 0px 0px 12px\",\r\n    marginTop: 8,\r\n    borderRadius: 2,\r\n  },\r\n  false: {\r\n    border: \"1px solid rgba(212, 45, 48, 1)\",\r\n  },\r\n}));\r\n\r\nconst PreviewDialog = React.forwardRef((props, ref) => {\r\n  const { open, setOpen, paperInformation, faultFetchingData, studentName } =\r\n    props;\r\n  const { paperType, unitname, year } = paperInformation;\r\n  console.log(\"paperInformation\", paperInformation);\r\n  const [singlePropotion, setSinglePropotion] = useState(\"\");\r\n  const [multiplePropotion, setMultiplePropotion] = useState(\"\");\r\n  const [fillPropotion, setFillPropotion] = useState(\"\");\r\n  const [answerNumber, setAnswerNumber] = useState(\"\");\r\n\r\n  const [singleNumber, setSingleNumber] = useState(\"\");\r\n  const [multipleNumber, setMultipleNumber] = useState(\"\");\r\n  const [fillNumber, setFillNumber] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    console.log(\"close\");\r\n    setOpen(false);\r\n  };\r\n\r\n  const [singleOption, setSingleOption] = useState([]);\r\n  const [multipleOption, setMultipleOption] = useState([]);\r\n  const [fillOption, setFillOption] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const singleData = faultFetchingData.filter((e) => e.type === \"0\");\r\n    const multipleData = faultFetchingData.filter((e) => e.type === \"1\");\r\n    const fillData = faultFetchingData.filter((e) => e.type === \"2\");\r\n    let option = [];\r\n    singleData.map((e, index) => {\r\n      option.push({ content: index + 1 });\r\n    });\r\n    setSingleOption(option);\r\n    option = [];\r\n    multipleData.map((e, index) => {\r\n      option.push({ content: index + 1 });\r\n    });\r\n    setMultipleOption(option);\r\n    option = [];\r\n    fillData.map((e, index) => {\r\n      option.push({ content: index + 1 });\r\n    });\r\n    setFillOption(option);\r\n  }, [faultFetchingData]);\r\n\r\n  console.log(\"fillOption\", fillOption);\r\n  const [valid, setValid] = useState(true);\r\n  const handlePreview = async () => {\r\n    const isPaper = await calculateScore(answerNumber);\r\n    console.log(\"isPaper\", isPaper);\r\n    if (isPaper.length !== 0) {\r\n      setValid(false);\r\n      setTimeout(() => setValid(true), 1000);\r\n      return;\r\n    }\r\n\r\n    const singleData = faultFetchingData.filter((e) => e.type === \"0\");\r\n    const multipleData = faultFetchingData.filter((e) => e.type === \"1\");\r\n    const fillData = faultFetchingData.filter((e) => e.type === \"2\");\r\n\r\n    const shuffledSingleData = singleData.sort(() => 0.5 - Math.random());\r\n    let selectedSingle = shuffledSingleData.slice(0, singleNumber);\r\n    const shuffledMultipleData = multipleData.sort(() => 0.5 - Math.random());\r\n    let selectedMultiple = shuffledMultipleData.slice(0, multipleNumber);\r\n    const shuffledFillData = fillData.sort(() => 0.5 - Math.random());\r\n    let selectedFill = shuffledFillData.slice(0, fillNumber);\r\n\r\n    const data = faultFetchingData.sort(function (a, b) {\r\n      return parseInt(a.type) - parseInt(b.type);\r\n    });\r\n\r\n    let answerData = \"\";\r\n\r\n    selectedSingle.map((e) => {\r\n      const answerLength = e.answer.length;\r\n      if (e.type === \"1\") {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n        });\r\n        answerData = answerData + \" \".repeat(12 - answerLength);\r\n      } else {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n          answerData = answerData + \" \".repeat(11);\r\n        });\r\n      }\r\n    });\r\n\r\n    selectedMultiple.map((e) => {\r\n      const answerLength = e.answer.length;\r\n      if (e.type === \"1\") {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n        });\r\n        answerData = answerData + \" \".repeat(12 - answerLength);\r\n      } else {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n          answerData = answerData + \" \".repeat(11);\r\n        });\r\n      }\r\n    });\r\n\r\n    selectedFill.map((e) => {\r\n      const answerLength = e.answer.length;\r\n      if (e.type === \"1\") {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n        });\r\n        answerData = answerData + \" \".repeat(12 - answerLength);\r\n      } else {\r\n        e.answer.map((ans) => {\r\n          answerData = answerData + ans;\r\n          answerData = answerData + \" \".repeat(11);\r\n        });\r\n      }\r\n    });\r\n\r\n    const propotionValidation = () => {\r\n      const singleBool =\r\n        singleData.length === 0 ? true : singlePropotion.length;\r\n      const multipleBool =\r\n        multipleData.length === 0 ? true : multiplePropotion.length;\r\n      const fillBool = fillData.length === 0 ? true : fillPropotion.length;\r\n\r\n      return singleBool && multipleBool && fillBool;\r\n    };\r\n\r\n    const validation =\r\n      data.length &&\r\n      paperType.length &&\r\n      year.length &&\r\n      unitname.length &&\r\n      propotionValidation() &&\r\n      answerNumber.length &&\r\n      answerData.trim().length;\r\n\r\n    handleClose();\r\n\r\n    let answerLengthArray = [];\r\n    let topicList = [];\r\n    selectedSingle.map((e) => {\r\n      answerLengthArray.push(\"1\");\r\n      topicList.push(e._id);\r\n    });\r\n\r\n    selectedMultiple.map((e) => {\r\n      answerLengthArray.push(\"1\");\r\n      topicList.push(e._id);\r\n    });\r\n\r\n    selectedFill.map((e) => {\r\n      answerLengthArray.push(e.answer.length);\r\n      topicList.push(e._id);\r\n    });\r\n\r\n    const totalPropotion =\r\n      parseFloat(singlePropotion ? singlePropotion : \"0\") +\r\n      parseFloat(multiplePropotion ? multiplePropotion : \"0\") +\r\n      parseFloat(fillPropotion ? fillPropotion : \"0\");\r\n\r\n    const newSinglePropotion =\r\n      parseFloat(singlePropotion ? singlePropotion : \"0\") / totalPropotion;\r\n    const newMultiplePropotion =\r\n      parseFloat(multiplePropotion ? multiplePropotion : \"0\") / totalPropotion;\r\n    const newFillPropotion =\r\n      parseFloat(fillPropotion ? fillPropotion : \"0\") / totalPropotion;\r\n\r\n    const body = {\r\n      paperType: \"專用試卷\",\r\n      year: year,\r\n      studentName: studentName,\r\n      unitname: unitname,\r\n      number: answerNumber,\r\n      content: answerData.trim(),\r\n      singleCount: selectedSingle.length,\r\n      multipleCount: selectedMultiple.length,\r\n      fillCount: selectedFill.length,\r\n      singlePropotion: (newSinglePropotion * 100).toFixed(1),\r\n      multiplePropotion: (newMultiplePropotion * 100).toFixed(1),\r\n      fillPropotion: (newFillPropotion * 100).toFixed(1),\r\n      answerLengthArray: answerLengthArray,\r\n      topicList: topicList,\r\n    };\r\n\r\n    paperAnswerAdd(body);\r\n\r\n    history.push({\r\n      pathname: \"preview\",\r\n      state: {\r\n        data: selectedSingle.concat(selectedMultiple, selectedFill),\r\n        paperType: \"專用試卷\",\r\n        year: year,\r\n        studentName: studentName,\r\n        unitname: unitname,\r\n        singleCount: selectedSingle.length,\r\n        multipleCount: selectedMultiple.length,\r\n        fillCount: selectedFill.length,\r\n        singlePropotion: (newSinglePropotion * 100).toFixed(1),\r\n        multiplePropotion: (newMultiplePropotion * 100).toFixed(1),\r\n        fillPropotion: (newFillPropotion * 100).toFixed(1),\r\n      },\r\n    });\r\n  };\r\n\r\n  const [value, setValue] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  console.log(\"faultFetchingData\", faultFetchingData);\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      PaperProps={{\r\n        style: {\r\n          width: 290,\r\n\r\n          borderRadius: 2,\r\n          border: \"1px solid rgba(225, 225, 225, 1)\",\r\n          boxShadow: \"none\",\r\n          padding: 15,\r\n        },\r\n      }}\r\n    >\r\n      <DialogContentTitleText>\r\n        {appText.chooseTopicNumber}\r\n      </DialogContentTitleText>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <div style={{ flex: 1 }}>\r\n          <DialogContentText>{appText.singleTopic}</DialogContentText>\r\n          <PaperSelect\r\n            defaultValue={appText.topicNumber}\r\n            menuData={singleOption}\r\n            setContent={setSingleNumber}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flex: 1 }}>\r\n          <DialogContentText>{appText.singleAllocation}</DialogContentText>\r\n          <div className={classes.root}>\r\n            <TextField\r\n              disabled={!singleNumber}\r\n              type=\"number\"\r\n              value={singlePropotion}\r\n              onChange={(e) => {\r\n                setSinglePropotion(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={appText.enterPropotion}\r\n              inputProps={{ inputmode: \"numeric\", pattern: \"[0-9]*\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <div style={{ flex: 1 }}>\r\n          <DialogContentText>{appText.multipleTopic}</DialogContentText>\r\n          <PaperSelect\r\n            defaultValue={appText.topicNumber}\r\n            menuData={multipleOption}\r\n            setContent={setMultipleNumber}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flex: 1 }}>\r\n          <DialogContentText>{appText.multipleAllocation}</DialogContentText>\r\n          <div className={classes.root}>\r\n            <TextField\r\n              disabled={!multipleNumber}\r\n              type=\"number\"\r\n              value={multiplePropotion}\r\n              onChange={(e) => {\r\n                setMultiplePropotion(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={appText.enterPropotion}\r\n              inputProps={{ inputmode: \"numeric\", pattern: \"[0-9]*\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <div style={{ flex: 1 }}>\r\n          <DialogContentText>{appText.fillTopic}</DialogContentText>\r\n          <PaperSelect\r\n            defaultValue={appText.topicNumber}\r\n            menuData={fillOption}\r\n            setContent={setFillNumber}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flex: 1 }}>\r\n          <DialogContentText>{appText.fillAllocation}</DialogContentText>\r\n          <div className={classes.root}>\r\n            <TextField\r\n              disabled={!fillNumber}\r\n              type=\"number\"\r\n              value={fillPropotion}\r\n              onChange={(e) => {\r\n                setFillPropotion(e.target.value);\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.placeholder,\r\n                },\r\n              }}\r\n              className={classes.textField}\r\n              placeholder={appText.enterPropotion}\r\n              inputProps={{ inputmode: \"numeric\", pattern: \"[0-9]*\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={\r\n          valid ? `${classes.root}` : `${classes.root} ${classes.false}`\r\n        }\r\n      >\r\n        <TextField\r\n          value={answerNumber}\r\n          onChange={(e) => {\r\n            setAnswerNumber(e.target.value);\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              input: classes.placeholder,\r\n            },\r\n          }}\r\n          className={classes.textField}\r\n          placeholder={appText.enterPaperNumber}\r\n        />\r\n      </div>\r\n      <DialogContentText\r\n        style={{\r\n          color: \"rgba(212, 45, 48, 1)\",\r\n          marginTop: 5,\r\n          fontSize: 9,\r\n          height: 33,\r\n        }}\r\n      >\r\n        {!valid && appText.repeatAnswerNumber}\r\n      </DialogContentText>\r\n\r\n      <DialogActions>\r\n        <Button className={classes.button} onClick={handleClose}>\r\n          {appText.cancel}\r\n        </Button>\r\n        <Button\r\n          className={`${classes.button} ${classes.buttonDelete}`}\r\n          onClick={handlePreview}\r\n        >\r\n          {appText.previewPaper}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default PreviewDialog;\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { appText } from \"../utils/constant\";\r\n\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\nimport EditTopicTabs from \"../components/EditTopicTabs\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  useHistory,\r\n  useRouteMatch,\r\n  useLocation,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport ChooseTopicTabs from \"../components/ChooseTopicTabs\";\r\nimport ChoosedBox from \"../components/ChoosedBox\";\r\nimport { labelList, topicLabelInquiry, labelInquiry } from \"../api\";\r\nimport { ContextStore } from \"../redux\";\r\nimport { ReactComponent as Paper } from \"../assets/paper.svg\";\r\nimport RePaperDialog from \"../components/RePaperDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100%\",\r\n  },\r\n  gradeRoot: {\r\n    padding: 16,\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"0 2px 4px 0px rgba(0, 0, 0, 0.24)\",\r\n    marginTop: 23,\r\n  },\r\n  titleText: {\r\n    fontWeight: 600,\r\n    fontSize: \"18px\",\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  navigateBefore: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginTop: 10,\r\n    padding: 0,\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n  tableRoot: {\r\n    marginTop: 17,\r\n    border: \"1px solid rgba(240,240,240,1)\",\r\n    borderRadius: \"8px\",\r\n  },\r\n\r\n  categoryText: {\r\n    width: 100,\r\n    fontWeight: 600,\r\n    fontSize: \"12px\",\r\n    fontFamily: \"Open Sans\",\r\n    marginTop: 22,\r\n    marginLeft: 16,\r\n    marginBottom: 10,\r\n  },\r\n\r\n  itemText: {\r\n    width: 100,\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    fontFamily: \"Open Sans\",\r\n    marginLeft: 16,\r\n  },\r\n  labelItem: {\r\n    marginLeft: 16,\r\n    height: 19,\r\n    padding: \"1px 15px\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"rgba(249, 240, 240, 1)\",\r\n  },\r\n  labelText: {\r\n    fontWeight: 400,\r\n    fontSize: \"12px\",\r\n    fontFamily: \"Open Sans\",\r\n    color: \"rgba(167, 95, 95, 1)\",\r\n  },\r\n  boxRoot: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: 48,\r\n    borderTop: \"1px solid rgba(240,240,240,1)\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(250,250,250, 1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst LabelItem = (props) => {\r\n  const classes = useStyles();\r\n  const { content } = props;\r\n  return (\r\n    <div className={classes.labelItem}>\r\n      <Typography className={`${classes.labelText}`}>{content}</Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ScoreBox = (props) => {\r\n  const classes = useStyles();\r\n  const {\r\n    name,\r\n    score,\r\n    fault,\r\n    open,\r\n    setOpen,\r\n    setFaultFetchingData,\r\n    setStudentName,\r\n  } = props;\r\n  console.log(\"scorebox\", props);\r\n\r\n  const [isHover, setIsHover] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"fault\", fault);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        const fetchingData = async () => {\r\n          console.log(\"fault\", fault);\r\n          const fetchingData = await topicLabelInquiry({ topicLabel: fault });\r\n          console.log(\"fetchingData\", fetchingData);\r\n          setFaultFetchingData(fetchingData);\r\n          setStudentName(name);\r\n          setOpen(true);\r\n        };\r\n        fetchingData();\r\n      }}\r\n      className={classes.boxRoot}\r\n      onMouseEnter={() => setIsHover(true)}\r\n      onMouseLeave={() => setIsHover(false)}\r\n    >\r\n      <Typography className={`${classes.itemText}`}>{name}</Typography>\r\n      <Typography className={`${classes.itemText}`}>\r\n        {score.toFixed(0)}\r\n      </Typography>\r\n      {fault.map((e) => {\r\n        return <LabelItem {...e} />;\r\n      })}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flex: 1,\r\n          justifyContent: \"flex-end\",\r\n          paddingRight: 25,\r\n        }}\r\n      >\r\n        {isHover && <Paper />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Score = () => {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n  const [open, setOpen] = useState(false);\r\n  const [faultFetchingData, setFaultFetchingData] = useState([]);\r\n  const [studentName, setStudentName] = useState(\"\");\r\n  const history = useHistory();\r\n  if (location.state === undefined) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  const { uploadData, paperNumber, paperInformation } = location.state;\r\n\r\n  console.log(\"paperInformation\", paperInformation);\r\n\r\n  const isName = (element) => element === \"NAME\";\r\n  const nameIndex = uploadData[0].findIndex(isName);\r\n  const isScore = (element) => element === \"SCORE\";\r\n  const scoreIndex = uploadData[0].findIndex(isScore);\r\n  const isFault = (element) => element === \"FAULT LABEL\";\r\n  const faultIndex = uploadData[0].findIndex(isFault);\r\n\r\n  console.log(\"location.state\", location.state);\r\n\r\n  const renderList = (open, setOpen) => {\r\n    console.log(\"renderUploadData\", uploadData);\r\n    return uploadData.map((e, index) => {\r\n      const validation = e[nameIndex] && e[scoreIndex] && e[faultIndex];\r\n      if (index === 0 || !validation) {\r\n        return;\r\n      } else {\r\n        return (\r\n          <ScoreBox\r\n            open={open}\r\n            setFaultFetchingData={setFaultFetchingData}\r\n            setOpen={setOpen}\r\n            setStudentName={setStudentName}\r\n            name={e[nameIndex]}\r\n            score={e[scoreIndex]}\r\n            fault={e[faultIndex]}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Button\r\n        className={classes.navigateBefore}\r\n        disableRipple\r\n        onClick={() => {\r\n          history.goBack();\r\n        }}\r\n      >\r\n        <NavigateBeforeIcon size={20} />\r\n        <Typography className={`${classes.titleText}`}>\r\n          {appText.backpage}\r\n        </Typography>\r\n      </Button>\r\n\r\n      <div className={classes.gradeRoot}>\r\n        <Typography className={`${classes.titleText}`}>\r\n          {appText.answerNumber}: {paperNumber}\r\n        </Typography>\r\n\r\n        <div className={classes.tableRoot}>\r\n          <div style={{ display: \"flex\" }}>\r\n            <Typography className={`${classes.categoryText}`}>\r\n              {appText.studentName}\r\n            </Typography>\r\n            <Typography className={`${classes.categoryText}`}>\r\n              {appText.score}\r\n            </Typography>\r\n            <Typography className={`${classes.categoryText}`}>\r\n              {appText.faultType}\r\n            </Typography>\r\n          </div>\r\n\r\n          {renderList(open, setOpen)}\r\n        </div>\r\n      </div>\r\n      <RePaperDialog\r\n        open={open}\r\n        studentName={studentName}\r\n        setOpen={setOpen}\r\n        faultFetchingData={faultFetchingData}\r\n        paperInformation={paperInformation}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Score;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...restOfProps }) {\r\n  let storage = window.localStorage;\r\n  const { login } = storage;\r\n  console.log(\"this\", login);\r\n\r\n  // return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <Route\r\n      {...restOfProps}\r\n      render={(props) =>\r\n        console.log(\r\n          \"render\",\r\n          login==='true' ? <Component {...props} /> : <Redirect to=\"/\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import \"./App.css\";\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  createMuiTheme,\r\n  IconButton,\r\n  makeStyles,\r\n  ThemeProvider,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport EditTopic from \"./pages/EditTopic\";\r\nimport LabelManangement from \"./pages/LabelManangement\";\r\nimport Label from \"./components/Label\";\r\nimport { createContext, useEffect, useReducer, useRef } from \"react\";\r\nimport {\r\n  combineReducers,\r\n  ContextStore,\r\n  initState,\r\n  loadingReducer,\r\n  loginReducer,\r\n  topicLabelReducer,\r\n} from \"./redux\";\r\nimport React from \"react\";\r\nimport AddTopic from \"./pages/AddTopic\";\r\nimport LoadingDialog from \"./components/LoadingDialog\";\r\nimport Login from \"./pages/Login\";\r\nimport Question from \"./pages/Question\";\r\nimport Preview from \"./pages/Preview\";\r\nimport Score from \"./pages/Score\";\r\n\r\nimport { createBrowserHistory } from \"history\";\r\nimport PreviewButton from \"./components/PreviewButton\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexFlow: \"column\",\r\n    height: \"100vh\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  app: {\r\n    backgroundColor: \"rgba(247, 246, 246, 1)\",\r\n    flex: \"1 1 auto\",\r\n    padding: \"16px 12px 16px 12px\",\r\n  },\r\n}));\r\n\r\nconst font = \"'Quicksand', sans-serif\";\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: [\"Source Sans Pro\"].join(\",\"),\r\n    button: {\r\n      textTransform: \"none\",\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  const [isLoadingState, isLoadingDispatch] = useReducer(\r\n    loadingReducer,\r\n    initState.isLoading\r\n  );\r\n  const [isLoginState, isLoginDispatch] = useReducer(\r\n    loginReducer,\r\n    initState.isLogin\r\n  );\r\n  const [topicLabelState, topicLabelDispatch] = useReducer(\r\n    topicLabelReducer,\r\n    initState.topicLabel\r\n  );\r\n\r\n  console.log(\"isLoadingState\", isLoadingState);\r\n  console.log(\"isLoginState\", isLoginState);\r\n  console.log(\"topicLabelState\", topicLabelState);\r\n\r\n  const loadingRef = useRef();\r\n  const history = createBrowserHistory();\r\n\r\n  let storage = window.localStorage;\r\n  console.log(\"window.localStorage\", window.localStorage);\r\n  const { login } = storage;\r\n  console.log(\"login\", login);\r\n  console.log(\"typeOf\", typeof login);\r\n  return (\r\n    <ContextStore.Provider\r\n      value={{\r\n        isLoading: isLoadingState.isLoading,\r\n        isLogin: isLoginState.isLogin,\r\n        topicLabelState: topicLabelState,\r\n        isLoadingDispatch: isLoadingDispatch,\r\n        isLoginDispatch: isLoginDispatch,\r\n        topicLabelDispatch: topicLabelDispatch,\r\n      }}\r\n    >\r\n      <ThemeProvider theme={theme}>\r\n        {console.log(\"process.env.PUBLIC_URL\", process.env.PUBLIC_URL)}\r\n        <Router>\r\n          <div className={classes.root}>\r\n            <NavBar />\r\n            {/* \r\n            {initialState.isLogin && (\r\n              <div className={classes.app}>\r\n                <EditTopic />\r\n              </div>\r\n            )} */}\r\n            <div className={classes.app}>\r\n              <Switch>\r\n                <Route exact path=\"/\">\r\n                  <Login />\r\n                </Route>\r\n\r\n                <Route path=\"/question\">\r\n                  <Question />\r\n                </Route>\r\n                <Route path=\"/score\">\r\n                  <Score />\r\n                </Route>\r\n\r\n                <Route path=\"/preview\">\r\n                  <Preview />\r\n                </Route>\r\n\r\n                <Route path=\"/editTopic\">\r\n                  {login === \"true\" ? <EditTopic /> : <Redirect to=\"/\" />}\r\n                </Route>\r\n\r\n                <Route path=\"/addTopic\">\r\n                  {login === \"true\" ? <AddTopic /> : <Redirect to=\"/\" />}\r\n                </Route>\r\n\r\n                <Route path=\"/labelManagement\">\r\n                  {login === \"true\" ? (\r\n                    <LabelManangement />\r\n                  ) : (\r\n                    <Redirect to=\"/\" />\r\n                  )}\r\n                </Route>\r\n\r\n                <Route>\r\n                  <Redirect to=\"/\" />\r\n                </Route>\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </Router>\r\n        <LoadingDialog ref={loadingRef} />\r\n      </ThemeProvider>\r\n    </ContextStore.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './font.css';\r\n\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}