(this.webpackJsonpwangyaomath=this.webpackJsonpwangyaomath||[]).push([[0],{242:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},467:function(e,t){},469:function(e,t){},508:function(e,t){},509:function(e,t){},605:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(34),i=n.n(a),c=(n(354),n(355),n(5)),l=(n(242),n(642)),s=n(335),d=n(661),u=n(28),b=n(43),p=n(654),g=n(655),h=n(653),f=n.p+"static/media/logo.5a6502b1.png",j=n(24),x=n(27),O={isLoading:!1,isLogin:!1,topicLabel:[]},m=r.a.createContext(O);function v(e,t){switch(console.log("loadingReducer",e,t),t.type){case"SET_LOADING":return console.log(e,t),Object.assign({},e,{isLoading:!0});case"SET_FINISHED":return console.log(e,t),Object.assign({},e,{isLoading:!1});default:return e}}function y(e,t){var n=window.localStorage;switch(console.log("storage",n),t.type){case"LOGIN":return n.login="true",Object.assign({},e,{isLogin:!0});case"LOGOUT":return n.login="false",Object.assign({},e,{isLogin:!1});default:return e}}function C(e,t){return console.log("topicLabelReducer",e,t),"ADD_TOPICLABEL"===t.type?Object.assign([],e.concat(t.id)):e}var w=n(18),S=n(30),T=n(12),k=n(651),I=n(649),A=n(650),R={editTopic:"\u7de8\u8f2f\u984c\u76ee",choostYear:"\u8acb\u9078\u64c7\u5e74\u5ea6",choostYearButton:"\u5e74\u5ea6",choostAddTopicCategory:"\u8acb\u5148\u9078\u64c7\u6b32\u65b0\u589e\u7684\u984c\u76ee\u985e\u5225(\u5fc5\u9078)",choostAddTopicCategoryButton:["\u7b2c\u4e00\u5c64\u5206\u985e","\u7b2c\u4e8c\u5c64\u5206\u985e","\u7b2c\u4e09\u5c64\u5206\u985e","\u7b2c\u56db\u5c64\u5206\u985e","\u7b2c\u4e94\u5c64\u5206\u985e"],inquiry:"\u67e5\u8a62",labelManagement:"\u7ba1\u7406\u6a19\u7c64",topicCategory:"\u984c\u76ee\u5206\u985e",year:"\u5e74\u5ea6",grade:"\u5e74\u7d1a",addCategory:"\u65b0\u589e\u5206\u985e",rename:"\u91cd\u65b0\u547d\u540d",delete:"\u522a\u9664",deleteDescription:"\u522a\u9664\u6b64\u5206\u985e\u5c07\u6703\u9023\u540c\u4e0b\u65b9\u7684\u6240\u6709\u5b50\u5206\u985e\u4e00\u4f75\u522a\u9664\uff0c\u78ba\u5b9a\u8981\u522a\u9664\u5206\u985e\uff1f",cancel:"\u53d6\u6d88",singleTopic:"\u55ae\u9078\u984c",multipleTopic:"\u591a\u9078\u984c",fillTopic:"\u9078\u586b\u984c",textEdit:"\u6587\u5b57\u7de8\u8f2f",chooseTopicType:"\u9078\u64c7\u984c\u76ee\u985e\u578b",correctAnswer:"\u6b63\u78ba\u7b54\u6848(\u5fc5\u586b)",add:"\u65b0\u589e",edit:"\u7de8\u8f2f",deleteTopic:"\u78ba\u5b9a\u8981\u522a\u9664\u984c\u76ee\u55ce\uff1f",uploadFile:"\u4e0a\u50b3\u6a94\u6848",question:"\u51fa\u984c",backpage:"\u56de\u4e0a\u4e00\u9801",choosedTopic:"\u5df2\u9078\u984c\u76ee",haventChoosed:"\u5c1a\u672a\u9078\u53d6",chooseTopic:"\u9078\u64c7\u984c\u76ee",previewTopic:"\u9810\u89bd\u8003\u984c",choosePaperType:"\u8acb\u9078\u64c7\u4f60\u7684\u8003\u5377\u985e\u578b",enterStudentName:"\u8acb\u8f38\u5165\u8003\u751f\u59d3\u540d",paperType:"\u8003\u5377\u985e\u578b",previewPaper:"\u9810\u89bd\u8003\u5377",enterUnitName:"\u8acb\u8f38\u5165\u55ae\u5143\u540d\u7a31",enterPaperNumber:"\u8acb\u8f38\u5165\u8003\u5377\u7de8\u865f",repeatAnswerNumber:"\u8003\u5377\u7de8\u865f\u91cd\u8907",allocation:"\u914d\u5206",paperInformation:"\u8003\u5377\u8cc7\u8a0a",singleAllocation:"\u55ae\u9078\u984c\u914d\u5206",multipleAllocation:"\u591a\u9078\u984c\u914d\u5206",fillAllocation:"\u9078\u586b\u984c\u914d\u5206",enterPropotion:"\u8f38\u5165\u6bd4\u4f8b(%)",topic:"\u984c\u76ee",answerDetail:"\u7b54\u6848\u8a73\u89e3",topicAndAnswerDetail:"\u984c\u76ee\u8207\u7b54\u6848\u8a73\u89e3",downloadTopic:"\u4e0b\u8f09\u984c\u76ee",ensure:"\u78ba\u5b9a",enterFalse:"\u8f38\u5165\u932f\u8aa4",studentName:"\u5b78\u751f\u540d\u5b57",faultType:"\u7b54\u932f\u984c\u578b",answerNumber:"\u7b54\u6848\u7de8\u865f",score:"\u5206\u6578",chooseTopicNumber:"\u9078\u64c7\u984c\u6578",topicNumber:"\u984c\u6578",login:"\u767b\u5165",enterAccount:"\u8f38\u5165\u5e33\u865f",enterPassword:"\u8f38\u5165\u5bc6\u78bc",testAccount:"\u6e2c\u8a66\u5e33\u865f",testPassword:"\u6e2c\u8a66\u5bc6\u78bc",logout:"\u767b\u51fa"},L=n(667),N=n(337),D=n(663),z=n(67),E=n.n(z),P=n(2),M=Object(l.a)((function(e){return{logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},fontSize:"12px",alignItems:"center",justifyContent:"center"},root:{margin:e.spacing(2),padding:e.spacing(2),borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},toolBar:{padding:e.spacing(1)},titleText:{fontWeight:600,fontSize:"20px",fontFamily:"Open Sans"},selectText:{fontWeight:400,fontSize:"12px",marginTop:e.spacing(2),color:"rgba(117,117,117,1)","&$selectTextCustomized":{marginTop:e.spacing(3)}},selectTextCustomized:{},formControl:{marginTop:e.spacing(1),width:181,boxShadow:"none"},menu:{marginTop:4,borderRadius:0,boxShadow:"none",border:"1px solid rgba(225,225,225,1)"},select:{height:100},selectRoot:{flex:1,height:48,marginRight:8,marginTop:8,"&.Mui-focused .MuiSelect-select":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused ":{backgroundColor:"none"}},menuText:{fontWeight:400,fontSize:"12px",color:"rgba(0,0,0,1)"}}})),W=function(e){var t=e.defaultValue,n=e.menuData,r=e.setContent,a=M(),i=Object(o.useState)(""),l=Object(c.a)(i,2),s=l[0],d=l[1];console.log("menuData",n);return Object(P.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(P.jsxs)(D.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:s,displayEmpty:!0,onChange:function(e){d(e.target.value)},IconComponent:E.a,className:a.selectRoot,variant:"outlined",MenuProps:{classes:{paper:a.menu},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[Object(P.jsx)(L.a,{value:"",onClick:function(){r("")},children:Object(P.jsx)(N.a,{className:"".concat(a.menuText),children:t})}),function(e){return n?n.map((function(t,n){return Object(P.jsx)(L.a,{value:n,onClick:function(){e(t.content)},children:Object(P.jsx)(N.a,{className:"".concat(a.menuText),children:t.content})})})):null}(r)]})})},B=n(665),F="https://mathquesionsite.herokuapp.com/",H=function(e,t){return fetch(F+"label/"+e+"/inquiryMany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: ",e)}))},V=function(e){return console.log(e),fetch(F+"label/"+e+"/labelList",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: ",e)}))},Y=function(e){return fetch(F+"topic/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error("Error: ",e)}))},_=function(e){return fetch(F+"topic/edit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error("Error: ",e)}))},G=function(e){return console.log("body",e),fetch(F+"topic/inquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: ",e)}))},J=function(e){fetch(F+"paperAnswer/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error("Error: ",e)}))},q=function(e){return fetch(F+"admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log("loginResult",e),e})).catch((function(e){return console.error("Error: ",e)}))},U=(Object(T.a)((function(e){return{root:{margin:0,fontWeight:900,color:"rgba(26, 26, 26, 1)",fontSize:18}}}))(I.a),Object(T.a)((function(e){return{root:{margin:"17px 0px 0px 0px",fontWeight:600,color:"rgba(117, 117, 117, 1)",fontSize:12}}}))(I.a)),K=Object(T.a)((function(e){return{root:{margin:"32px 0px 0px 0px",padding:"0px 8px"}}}))(A.a),Q=Object(l.a)((function(){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}},textField:{height:48,flex:1,"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"},"& .MuiInput-underline:hover:before":{borderWidth:0},"& .MuiInput-underline:hover:after":{borderWidth:0},"& .MuiInput-underline:after":{borderWidth:0},"& .MuiInput-underline:before":{borderWidth:0},"& .MuiInputBase-input ":{height:48,padding:0}},placeholder:{fontSize:12,color:"rgba(26, 26, 26, 1)",fontWeight:400,textDecoration:null},root:{height:48,border:"1px solid rgba(225,225,225,1)",display:"flex",alignItems:"center",padding:"0px 0px 0px 12px",marginRight:8,marginTop:8,borderRadius:2}}})),X=r.a.forwardRef((function(e,t){var n=e.open,r=e.setOpen,a=(e.yearLabelData,e.choosedTopicData,Object(o.useState)("")),i=Object(c.a)(a,2),l=i[0],s=i[1],d=Object(o.useState)(""),u=Object(c.a)(d,2),p=u[0],g=u[1],f=Q(),j=function(){r(!1),s(""),g("")},x=Object(b.g)(),O=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t,n;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={account:l,password:p},console.log("body",t),e.next=4,q(t);case 4:n=e.sent,console.log("loginBool",n),n?(y({type:"LOGIN"}),x.push({pathname:"editTopic/singleTopic"}),s(""),g(""),r(!1)):alert("\u5e33\u865f\u5bc6\u78bc\u932f\u8aa4");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(o.useContext)(m),y=(v.isLogin,v.isLoginDispatch),C=Object(o.useState)(""),T=Object(c.a)(C,2);T[0],T[1];return Object(P.jsxs)(k.a,{onClose:j,open:n,PaperProps:{style:{width:290,borderRadius:2,border:"1px solid rgba(225, 225, 225, 1)",boxShadow:"none",padding:15}},children:[Object(P.jsxs)(U,{children:[R.testAccount,": wangyaomathAccount"]}),Object(P.jsxs)(U,{children:[R.testPassword,": wangyaomathPassword"]}),Object(P.jsx)(U,{children:R.enterAccount}),Object(P.jsx)("div",{className:f.root,children:Object(P.jsx)(B.a,{value:l,onChange:function(e){s(e.target.value)},InputProps:{classes:{input:f.placeholder}},className:f.textField,placeholder:""})}),Object(P.jsx)(U,{children:R.enterPassword}),Object(P.jsx)("div",{className:f.root,children:Object(P.jsx)(B.a,{value:p,onChange:function(e){g(e.target.value)},InputProps:{classes:{input:f.placeholder}},className:f.textField,placeholder:""})}),Object(P.jsxs)(K,{children:[Object(P.jsx)(h.a,{className:f.button,onClick:j,children:R.cancel}),Object(P.jsx)(h.a,{className:"".concat(f.button," ").concat(f.buttonDelete),onClick:O,children:R.login})]})]})})),Z=X,$=Object(l.a)((function(e){return{root:{flexGrow:1},logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:8,height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,marginRight:8,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",alignItems:"center",justifyContent:"center"},appbar:{borderBottom:"1px solid rgba(196, 196, 196, 1)",backgroundColor:"white",height:74,justifyContent:"center"},toolBar:{padding:e.spacing(1)}}}));var ee=function(){var e=$(),t=(Object(b.g)(),Object(o.useContext)(m)),n=(t.isLogin,t.isLoginDispatch),r=window.localStorage.login,a=Object(o.useState)(!1),i=Object(c.a)(a,2),l=i[0],s=i[1];return Object(P.jsxs)(p.a,{elevation:0,className:e.appbar,position:"static",children:[Object(P.jsxs)(g.a,{className:e.toolBar,children:[Object(P.jsx)(u.b,{to:"true"===r?"/editTopic/singleTopic":"/",children:Object(P.jsx)("img",{className:e.logo,src:f,alt:""})}),Object(P.jsx)("div",{className:e.title}),"true"===r?Object(P.jsxs)("div",{children:[Object(P.jsx)(h.a,{disableRipple:!0,className:e.buttonAdd,component:u.b,to:"/addTopic",children:"\u65b0\u589e\u984c\u76ee"}),Object(P.jsx)(h.a,{disableRipple:!0,className:e.buttonLabel,component:u.b,to:"/labelManagement/topicCategory",children:"\u7ba1\u7406\u6a19\u7c64"}),Object(P.jsx)(h.a,{onClick:function(){n({type:"LOGOUT"})},component:u.b,to:"/",disableRipple:!0,className:e.buttonLabel,children:R.logout})]}):Object(P.jsx)(h.a,{onClick:function(){s(!0)},disableRipple:!0,className:e.buttonLabel,children:R.login})]}),Object(P.jsx)(Z,{open:l,setOpen:s})]})},te=Object(l.a)((function(e){return{logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},fontSize:"12px",alignItems:"center",justifyContent:"center"},root:{margin:e.spacing(2),padding:e.spacing(2),borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},toolBar:{padding:e.spacing(1)},titleText:{fontWeight:600,fontSize:"20px",fontFamily:"Open Sans"},selectText:{fontWeight:400,fontSize:"12px",marginTop:e.spacing(2),color:"rgba(117,117,117,1)","&$selectTextCustomized":{marginTop:e.spacing(3)}},selectTextCustomized:{},formControl:{marginTop:e.spacing(1),width:181,boxShadow:"none"},menu:{marginTop:4,borderRadius:0,boxShadow:"none",border:"1px solid rgba(225,225,225,1)"},select:{height:100},selectRoot:{width:181,height:48,marginRight:e.spacing(1),marginTop:e.spacing(1),"&.Mui-focused .MuiSelect-select":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused ":{backgroundColor:"none"}},menuText:{fontWeight:400,fontSize:"12px",color:"rgba(0,0,0,1)"}}})),ne=function e(t){var n=t.defaultValue,r=t.data,a=t.index,i=t.allChoose,l=t.topicLabel,s=t.setTopicLabel,d=(t.yearLabel,t.setYearLabel),u=te(),b=Object(o.useState)(n),p=Object(c.a)(b,2),g=p[0],h=p[1],f=Object(o.useState)(r),j=Object(c.a)(f,2),x=j[0],O=j[1],v=Object(o.useState)([]),y=Object(c.a)(v,2),C=y[0],w=y[1],S=Object(o.useState)(null),T=Object(c.a)(S,2),k=T[0],I=T[1],A=Object(o.useState)(l),z=Object(c.a)(A,2),M=z[0];z[1];Object(o.useEffect)((function(){console.log("setNext"),I(H(C,a))}),[C]),Object(o.useEffect)((function(){console.log("setData"),h(n),I(null),O(r)}),[r]);var W=Object(o.useContext)(m),B=W.topicLabelState,F=W.topicLabelDispatch,H=(W.isLoading,W.isLoadingDispatch,function(t,n){var o=[];return 0!==t.length&&o.push(Object(P.jsx)(e,{data:t,index:n+1,defaultValue:R.choostAddTopicCategoryButton[n+1],topicLabel:M,setTopicLabel:s})),o});return Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsxs)(D.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:g,displayEmpty:!0,onChange:function(e){h(e.target.value)},IconComponent:E.a,className:u.selectRoot,variant:"outlined",MenuProps:{classes:{paper:u.menu},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[i&&Object(P.jsx)(L.a,{onClick:function(e){if(d)d("");else for(w([]);B.length>a;)B.pop()},value:"",children:Object(P.jsx)(N.a,{className:"".concat(u.menuText),children:"\u5e74\u5ea6"})}),Object(P.jsx)(L.a,{onClick:function(e){if(d)d(i?"allChoose":"");else for(w([]);B.length>a;)B.pop()},value:n,children:Object(P.jsx)(N.a,{className:"".concat(u.menuText),children:n})}),x?x.map((function(e){return Object(P.jsx)(L.a,{onClick:function(t){if(d)d(e._id);else if(console.log("topicLabelState",B),!M.find((function(t){return t===e._id}))){for(;B.length>a;)B.pop();F({type:"ADD_TOPICLABEL",id:e._id}),w(e.level)}},value:e._id,children:Object(P.jsx)(N.a,{className:"".concat(u.menuText),children:e.content})})})):null]}),k]})},oe=Object(l.a)((function(e){return{root:{width:110,height:37,border:0,borderRadius:2,backgroundColor:"rgba(212,45,48,1)",marginTop:e.spacing(3),color:"rgba(255,255,255,1)",fontWeight:400,"&.Mui-disabled ":{color:"rgba(151,151,151,1)",backgroundColor:"rgba(196,196,196,1)"},"&:hover ":{backgroundColor:"rgba(212,45,48,1)",color:"rgba(255,255,255,1)"}}}})),re=function(e){e.disabled;var t=e.content,n=e.onClick,o=oe();return Object(P.jsx)(h.a,{disabled:!1,className:o.root,onClick:n,children:t})},ae=n(664),ie=n(652),ce=n(670),le=n(656),se=n(8),de=Object(l.a)({root:{"&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1.5px rgba(212,45,48,1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"rgba(212,45,48,1)",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'}},labelRoot:{marginRight:33},labelText:{fontWeight:400,fontSize:"12px"}});function ue(e){var t=de();return Object(P.jsx)(ae.a,Object(x.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(P.jsx)("span",{className:Object(se.a)(t.icon,t.checkedIcon)}),icon:Object(P.jsx)("span",{className:t.icon})},e))}function be(e){var t=e.type,n=e.setType,r=Object(o.useState)(""),a=Object(c.a)(r,2),i=(a[0],a[1],Object(o.useRef)(),de());Object(o.useEffect)((function(){}),[]);return Object(P.jsx)("div",{children:Object(P.jsx)(ie.a,{component:"fieldset",row:!0,children:Object(P.jsxs)(ce.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",value:t,onChange:function(e){n(e.target.value)},children:[Object(P.jsx)(le.a,{classes:{root:i.labelRoot,label:i.labelText},value:"0",control:Object(P.jsx)(ue,{}),label:R.singleTopic}),Object(P.jsx)(le.a,{classes:{root:i.labelRoot,label:i.labelText},value:"1",control:Object(P.jsx)(ue,{}),label:R.multipleTopic}),Object(P.jsx)(le.a,{classes:{root:i.labelRoot,label:i.labelText},value:"2",control:Object(P.jsx)(ue,{}),label:R.fillTopic})]})})})}var pe=n(671),ge=Object(l.a)((function(e){return{root:{height:48,border:"1px solid rgba(225,225,225,1)",display:"flex",alignItems:"center",padding:"0px 12px"},autoComplete:{},chip:{backgroundColor:"rgba(249,240,240,1)",height:19,border:"0px",marginRight:6},chipLabel:{color:"rgba(167,95,95,1)"},textField:{height:48,flex:1,"& .MuiInput-underline:hover:before":{borderWidth:0},"& .MuiInput-underline:hover:after":{borderWidth:0},"& .MuiInput-underline:after":{borderWidth:0},"& .MuiInput-underline:before":{borderWidth:0},"& .MuiInputBase-input ":{height:48,padding:0}},placeholder:{fontSize:12,color:"rgba(26, 26, 26, 1)",fontWeight:400,textDecoration:null}}}));function he(e){var t=e.answer,n=e.setAnswer,r=ge(),a=Object(o.useState)(""),i=Object(c.a)(a,2),l=i[0],s=i[1];return Object(P.jsxs)("div",{className:r.root,children:[t.map((function(e){return Object(P.jsx)(pe.a,{classes:{root:r.chip,label:r.chipLabel},variant:"outlined",label:e})})),Object(P.jsx)(B.a,{value:l,onChange:function(e){"0"!==e.target.value&&"1"!==e.target.value&&"2"!==e.target.value&&"3"!==e.target.value&&"4"!==e.target.value&&"5"!==e.target.value&&"6"!==e.target.value&&"7"!==e.target.value&&"8"!==e.target.value&&"9"!==e.target.value&&"0"!==e.target.value&&"-"!==e.target.value&&""!==e.target.value||s(e.target.value)},onKeyPress:function(e){if("Enter"===e.key&&l){console.log(l);var o=t;console.log(t),o.push(l),console.log(t),n(o),s("")}},onKeyDown:function(e){if("Backspace"===e.key&&!l){var o=t;o.pop(),console.log(t),n(o),s("1")}},InputProps:{classes:{input:r.placeholder}},className:r.textField,placeholder:t.length?"":"\u586b\u5b8c\u8acb\u6309Enter"})]})}var fe=n(71),je=n.n(fe),xe=n(106),Oe=n.n(xe),me=n(313),ve=n.n(me),ye=(n(463),n(314)),Ce=n(315),we=n.n(Ce),Se=n(316),Te=n.n(Se);xe.Quill.register("modules/imageDrop",ye.a),xe.Quill.register("modules/imageResize",we.a),xe.Quill.register("modules/imageCompress",Te.a);var ke=Object(l.a)((function(){return{}}));function Ie(e){var t=e.content,n=e.setContent,r=e.hasAnswer,a=Object(o.useRef)();ke();Object(o.useEffect)((function(){var e=ve()({Quill:xe.Quill}),t=r?[["\\text{\\textcircled 1}","\u2460"],["\\text{\\textcircled 2}","\u2461"],["\\text{\\textcircled 3}","\u2462"],["\\text{\\textcircled 4}","\u2463"],["\\text{\\textcircled 5}","\u2464"],["\\text{\\textcircled 6}","\u2465"],["\\text{\\textcircled 7}","\u2466"],["\\text{\\textcircled 8}","\u2467"],["\\text{\\textcircled 9}","\u2468"]]:[];e(a.current.editor,{operators:[["\\sqrt[n]{x}","\\nthroot"],["\\frac{x}{y}","\\frac"],["\\int_{a}^{b}","\\int"],["\\log","\\log"],["{X}_{a}","\\subscript"],["{X}^{a}","\\superscript"]].concat(t)})}),[]);var i={container:[["bold","italic"],["image"],[{list:"ordered"},{list:"bullet"}],["formula"]],handlers:{image:Ae}};return Object(P.jsx)(Oe.a,{className:{},ref:a,style:{minHeight:100,marginBottom:60},modules:{formula:!0,toolbar:i,imageDrop:!0,imageResize:{},imageCompress:{quality:1,maxWidth:1e3,maxHeight:1e3,imageType:"image/jpeg",debug:!0}},theme:"snow",value:t,onChange:function(e){n(e)}})}function Ae(){var e=document.createElement("input");e.setAttribute("type","file"),e.click(),e.onchange=function(){var t=e.files[0];console.log("imageInput",t),/^image\//.test(t.type)||console.warn("Only images can be uploaded here.")}}var Re=Object(l.a)((function(e){return{logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},fontSize:"12px",alignItems:"center",justifyContent:"center"},root:{padding:e.spacing(2),borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},toolBar:{padding:e.spacing(1)},titleText:{fontWeight:600,fontSize:"20px",fontFamily:"Open Sans"},selectText:{fontWeight:400,fontSize:"12px",marginTop:e.spacing(2),color:"rgba(117,117,117,1)","&$selectTextCustomized":{marginTop:e.spacing(3)}},selectTextCustomized:{},formControl:{marginTop:e.spacing(1),width:181,boxShadow:"none"},menu:{marginTop:4,borderRadius:0,boxShadow:"none",border:"1px solid rgba(225,225,225,1)"},select:{height:100},selectRoot:{width:181,height:48,marginTop:e.spacing(1),"&.Mui-focused .MuiSelect-select":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused ":{backgroundColor:"none"}},menuText:{fontWeight:400,fontSize:"12px",color:"rgba(0,0,0,1)"},header:{display:"flex",flexDirection:"row",alignItems:"center"},textEdit:{display:"flex",padding:"16px 13px",marginTop:8,border:"1px solid rgba(225, 225, 225, 1)",height:206,"& .MuiInput-underline:hover:before":{borderWidth:0,borderBottomColor:"rgba(225, 225, 225, 1)"},"& .MuiInput-underline:hover:after":{borderWidth:0},"& .MuiInput-underline:after":{borderBottomColor:"rgba(225, 225, 225, 1)",borderWidth:0},"& .MuiInput-underline:before":{borderBottomColor:"rgba(225, 225, 225, 1)",borderWidth:0}},textEditInput:{border:"0px solid rgba(225, 225, 225, 1)",padding:0}}}));var Le=function(){var e=Re(),t=Object(o.useState)([]),n=Object(c.a)(t,2),r=n[0],a=n[1],i=Object(o.useContext)(m),l=i.isLoading,s=i.isLoadingDispatch,d=Object(o.useState)(!1),p=Object(c.a)(d,2),g=p[0],h=(p[1],Object(o.useState)("")),f=Object(c.a)(h,2),j=f[0],x=f[1],O=Object(o.useState)(""),v=Object(c.a)(O,2),y=v[0],C=v[1];Object(o.useEffect)((function(){var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V("topic"),V("year"),V("grade")]);case 2:t=e.sent,console.log("data",t),a(t),l&&s({type:"SET_FINISHED"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]),Object(o.useRef)();var T=Object(o.useState)(""),k=Object(c.a)(T,2),I=(k[0],k[1],Object(o.useState)([])),A=Object(c.a)(I,2),L=A[0],D=A[1],z=Object(o.useState)(""),E=Object(c.a)(z,2),M=E[0],W=E[1],B=Object(o.useState)(""),F=Object(c.a)(B,2),H=F[0],_=F[1],G=Object(o.useState)([]),J=Object(c.a)(G,2),q=J[0],U=J[1],K=Object(o.useContext)(m).topicLabelState,Q=Object(b.g)(),X=function(){var e=[];["\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468"].map((function(t){var n=(j.split(t).length-1)/4;e.push(n)})),console.log(e);var t="";if(e.map((function(e){e>=2&&(t="REPEAT")})),"REPEAT"===t)return t;var n=q.length,o=Array(n).fill(1).concat(Array(9-n).fill(0));console.log("answerCountArray",o),o.toString()!==e.toString()&&(t="INVALID");var r=0;return e.map((function(e){r+=e})),console.log(H,r),"2"!==H&&0!==r&&(t="ONLY_FILL"),t},Z=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t,n,o,r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="2"===H?X():"",e.t0=t,e.next="REPEAT"===e.t0?4:"INVALID"===e.t0?6:"ONLY_FILL"===e.t0?8:10;break;case 4:return alert("\u7b54\u6848\u7de8\u865f\u91cd\u8907"),e.abrupt("return");case 6:return alert("\u8acb\u8f38\u5165\u6709\u6548\u9806\u5e8f\u7b54\u6848\u7de8\u865f"),e.abrupt("return");case 8:return alert("\u53ea\u6709\u9078\u586b\u984c\u53ef\u4ee5\u8f38\u5165\u7b54\u6848\u7de8\u865f"),e.abrupt("return");case 10:if(n={content:j,topicLabel:K,yearLabel:M,type:H,answer:q,answerDetail:y},console.log("body",n),o=!(K.length&&M.length&&j.length&&H.length&&q.length&&y.length),console.log("validation",o),!o){e.next=17;break}return alert("\u8acb\u586b\u5beb\u6240\u6709\u984c\u76ee\u8cc7\u8a0a"),e.abrupt("return");case 17:if(!("0"===H&&q.length>1)){e.next=20;break}return alert("\u55ae\u9078\u984c\u53ea\u80fd\u6709\u4e00\u500b\u7b54\u6848"),e.abrupt("return");case 20:if(!q.find((function(e){return"-"===e}))||"0"!==H&&"1"!==H){e.next=24;break}return alert("\u53ea\u6709\u9078\u586b\u984c\u7b54\u6848\u53ef\u4ee5\u6709\u8ca0\u865f"),e.abrupt("return");case 24:return e.next=26,Y(n);case 26:r=e.sent,console.log(r),r?(alert("\u6210\u529f\u65b0\u589e\u984c\u76ee"),Q.go(0)):alert("\u65b0\u589e\u984c\u76ee\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u5716\u7247\u5bb9\u91cf\uff0c\u4e0a\u9650\u70ba10MB");case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsx)(u.b,{to:"/editTopic/singleTopic",style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)("div",{className:e.header,children:[Object(P.jsx)(je.a,{size:20}),Object(P.jsx)(N.a,{className:e.titleText,children:R.editTopic})]})}),Object(P.jsx)(N.a,{className:e.selectText,children:R.choostYear}),Object(P.jsx)(ne,{defaultValue:R.choostYearButton,data:r[1],yearLabel:M,setYearLabel:W}),Object(P.jsx)(N.a,{className:"".concat(e.selectText," ").concat(e.selectTextCustomized),children:R.choostAddTopicCategory}),Object(P.jsx)(ne,{defaultValue:R.choostAddTopicCategoryButton[0],data:r[0],index:0,topicLabel:L,setTopicLabel:D}),Object(P.jsx)(N.a,{className:"".concat(e.selectText," ").concat(e.selectTextCustomized),children:R.textEdit}),Object(P.jsx)("div",{style:{marginTop:6},children:Object(P.jsx)(Ie,{content:j,setContent:x,hasAnswer:!0})}),Object(P.jsx)(N.a,{className:"".concat(e.selectText," ").concat(e.selectTextCustomized),children:R.answerDetail}),Object(P.jsx)("div",{style:{marginTop:6},children:Object(P.jsx)(Ie,{content:y,setContent:C,hasAnswer:!1})}),Object(P.jsx)(N.a,{className:"".concat(e.selectText," ").concat(e.selectTextCustomized),children:R.choostAddTopicCategory}),Object(P.jsx)(be,{type:H,setType:_}),Object(P.jsx)(N.a,{className:"".concat(e.selectText," ").concat(e.selectTextCustomized),children:R.correctAnswer}),Object(P.jsx)("div",{style:{marginTop:6},children:Object(P.jsx)(he,{answer:q,setAnswer:U})}),Object(P.jsx)(re,{content:R.add,onClick:Z})]})},Ne=Object(l.a)((function(e){return{logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},fontSize:"12px",alignItems:"center",justifyContent:"center"},root:{padding:e.spacing(2),borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},toolBar:{padding:e.spacing(1)},titleText:{fontWeight:600,fontSize:"20px",fontFamily:"Open Sans"},selectText:{fontWeight:400,fontSize:"12px",marginTop:e.spacing(2),color:"rgba(117,117,117,1)","&$selectTextCustomized":{marginTop:e.spacing(3)}},selectTextCustomized:{},formControl:{marginTop:e.spacing(1),width:181,boxShadow:"none"},menu:{marginTop:4,borderRadius:0,boxShadow:"none",border:"1px solid rgba(225,225,225,1)"},select:{height:100},selectRoot:{width:181,height:48,marginTop:e.spacing(1),"&.Mui-focused .MuiSelect-select":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused ":{backgroundColor:"none"}},menuText:{fontWeight:400,fontSize:"12px",color:"rgba(0,0,0,1)"},header:{display:"flex",flexDirection:"row",alignItems:"center"}}})),De=function(e){var t=e.topicLabel,n=e.yearLabel,r=e.onClick,a=Ne(),i=Object(b.i)(),l=(i.name,i.id),s=Object(o.useContext)(m),d=(s.isLoading,s.isLoadingDispatch),u=Object(o.useContext)(m);console.log("context",u);var p=Object(o.useState)(""),g=Object(c.a)(p,2),h=g[0],f=g[1],j=Object(o.useState)(""),x=Object(c.a)(j,2),O=x[0],v=x[1],y=Object(o.useState)([]),C=Object(c.a)(y,2),T=C[0],k=C[1],I=Object(o.useState)(""),A=Object(c.a)(I,2),L=A[0],D=A[1];Object(o.useEffect)((function(){d({type:"SET_LOADING"}),console.log("id",l);var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n={id:l},console.log("body",n),fetch(F+"topic/getOneTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: ",e)}));case 2:t=e.sent,console.log("fetchingData",t),d({type:"SET_FINISHED"}),f(t[0].content),v(t[0].type),k(t[0].answer),D(t[0].answerDetail);case 9:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var z=Object(o.useContext)(m).topicLabelState,E=Object(b.g)(),M=function(){var e=[];["\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468"].map((function(t){var n=(h.split(t).length-1)/4;e.push(n)})),console.log(e);var t="";if(e.map((function(e){e>=2&&(t="REPEAT")})),"REPEAT"===t)return t;var n=T.length,o=Array(n).fill(1).concat(Array(9-n).fill(0));console.log("answerCountArray",o),o.toString()!==e.toString()&&(t="INVALID");var r=0;return e.map((function(e){r+=e})),"2"!==O&&0!==r&&(t="ONLY_FILL"),console.log(O,r),t},W=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var o,a,i,c;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="2"===O?M():"",e.t0=o,e.next="REPEAT"===e.t0?4:"INVALID"===e.t0?6:"ONLY_FILL"===e.t0?8:10;break;case 4:return alert("\u7b54\u6848\u7de8\u865f\u91cd\u8907"),e.abrupt("return");case 6:return alert("\u8acb\u8f38\u5165\u6709\u6548\u9806\u5e8f\u7b54\u6848\u7de8\u865f"),e.abrupt("return");case 8:return alert("\u53ea\u6709\u9078\u586b\u984c\u53ef\u4ee5\u8f38\u5165\u7b54\u6848\u7de8\u865f"),e.abrupt("return");case 10:if(a={id:l,content:h,topicLabel:z,yearLabel:n,type:O,answer:T,answerDetail:L},console.log("body",a),i=!(z.length&&n.length&&h.length&&O.length&&T.length&&L.length),console.log("validation",i),!i){e.next=17;break}return alert("\u8acb\u586b\u5beb\u6240\u6709\u984c\u76ee\u8cc7\u8a0a"),e.abrupt("return");case 17:if(!("0"===O&&T.length>1)){e.next=20;break}return alert("\u55ae\u9078\u984c\u53ea\u80fd\u6709\u4e00\u500b\u7b54\u6848"),e.abrupt("return");case 20:if(!T.find((function(e){return"-"===e}))||"0"!==O&&"1"!==O){e.next=24;break}return alert("\u53ea\u6709\u9078\u586b\u984c\u7b54\u6848\u53ef\u4ee5\u6709\u8ca0\u865f"),e.abrupt("return");case 24:return e.next=26,_(a);case 26:c=e.sent,console.log(c),c&&(alert("\u6210\u529f\u7de8\u8f2f\u984c\u76ee"),r({yearLabel:n,topicLabel:t}),E.goBack());case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){console.log(h)}),[h]),Object(P.jsxs)("div",{children:[Object(P.jsx)(N.a,{className:"".concat(a.selectText," ").concat(a.selectTextCustomized),children:R.textEdit}),Object(P.jsx)("div",{style:{marginTop:6},children:Object(P.jsx)(Ie,{content:h,setContent:f,hasAnswer:!0})}),Object(P.jsx)(N.a,{className:"".concat(a.selectText," ").concat(a.selectTextCustomized),children:R.answerDetail}),Object(P.jsx)("div",{style:{marginTop:6},children:Object(P.jsx)(Ie,{content:L,setContent:D,hasAnswer:!1})}),Object(P.jsx)(N.a,{className:"".concat(a.selectText," ").concat(a.selectTextCustomized),children:R.choostAddTopicCategory}),Object(P.jsx)(be,{type:O,setType:v}),Object(P.jsx)(N.a,{className:"".concat(a.selectText," ").concat(a.selectTextCustomized),children:R.correctAnswer}),Object(P.jsx)("div",{style:{marginTop:6},children:Object(P.jsx)(he,{answer:T,setAnswer:k})}),Object(P.jsx)(re,{content:R.edit,onClick:W})]})},ze=function(e){var t=e.onClick,n=e.yearLabel,o=e.topicLabel,r=e.path,a=Ne(),i=Object(b.i)().name;return console.log("names",i),Object(P.jsx)(u.b,{to:"/editTopic/"+i,onClick:function(){t({yearLabel:n,topicLabel:o})},style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)("div",{className:a.header,children:[Object(P.jsx)(b.b,{exact:!0,path:"".concat(r,"/:name/:id"),children:Object(P.jsx)(je.a,{size:20})}),Object(P.jsx)(N.a,{className:a.titleText,children:R.editTopic})]})})};var Ee=function(e){var t=e.onClick;console.log("tops",e);var n=Ne(),r=Object(o.useState)([]),a=Object(c.a)(r,2),i=a[0],l=a[1],s=Object(o.useState)(""),d=Object(c.a)(s,2),u=d[0],p=d[1],g=Object(o.useState)([]),h=Object(c.a)(g,2),f=h[0],j=h[1];Object(o.useEffect)((function(){var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V("topic"),V("year"),V("grade")]);case 2:t=e.sent,console.log("data",t),j(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=Object(b.j)(),O=(x.url,x.path);return Object(P.jsxs)("div",{className:n.root,children:[Object(P.jsx)(b.b,{path:"".concat(O,"/:name"),children:Object(P.jsx)(ze,{onClick:t,yearLabel:u,topicLabel:i,path:O})}),Object(P.jsx)(N.a,{className:n.selectText,children:R.choostYear}),Object(P.jsx)(ne,{defaultValue:R.choostYearButton,data:f[1],yearLabel:u,setYearLabel:p}),Object(P.jsx)(N.a,{className:"".concat(n.selectText," ").concat(n.selectTextCustomized),children:R.choostAddTopicCategory}),Object(P.jsx)(ne,{defaultValue:R.choostAddTopicCategoryButton[0],data:f[0],index:0,topicLabel:i,setTopicLabel:l}),Object(P.jsx)(b.b,{exact:!0,path:"".concat(O,"/:name/:id"),children:Object(P.jsx)(De,{topicLabel:i,yearLabel:u,onClick:t})}),Object(P.jsx)(b.b,{exact:!0,path:"".concat(O,"/:name"),children:Object(P.jsx)(re,{content:R.inquiry,onClick:function(){t({yearLabel:u,topicLabel:i})}})})]})},Pe=n(657),Me=n(662),We=Object(l.a)((function(e){return{root:{borderBottom:"1px solid rgba(196, 196, 196, 1)",alignItems:"center",justifyContent:"center"},indicator:{backgroundColor:"rgba(212,45,48,1)"},tabRoot:{minWidth:80,color:"rgba(117,117,117,1)",fontSize:"14px","&.Mui-selected":{color:"rgba(212,45,48,1)"}}}})),Be=function(e){var t=e.value,n=e.handleChange,o=We(),r=(Object(b.g)(),Object(b.j)()),a=(r.url,r.path,["singleTopic","multipleTopic","fillTopic"]);return Object(P.jsx)(Me.a,{className:o.root,classes:{indicator:o.indicator},value:t,indicatorColor:"primary",textColor:"primary",onChange:n,"aria-label":"disabled tabs example",children:a.map((function(e){return Object(P.jsx)(Pe.a,{disableRipple:!0,className:o.tabRoot,label:R[e],component:u.b,to:"".concat(e)})}))})},Fe=(n(464),n(465),Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(2),fontWeight:600,color:"rgba(26, 26, 26, 1)",fontSize:12}}}))(I.a)),He=Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(A.a),Ve=Object(l.a)((function(){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}}}})),Ye=r.a.forwardRef((function(e,t){var n=e.onSubmit,o=e._id,r=e.open,a=e.setOpen;console.log("TopicDeleteDialog",e);var i=Ve(),c=function(){a(!1)},l=function(){var t=Object(S.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r={_id:o},fetch(F+"topic/deleteTopic",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: ",e)}));case 2:n(e),c();case 4:case"end":return t.stop()}var r}),t)})));return function(){return t.apply(this,arguments)}}();return Object(P.jsxs)(k.a,{onClose:c,open:r,PaperProps:{style:{width:320,borderRadius:2,border:"1px solid rgba(225, 225, 225, 1)",boxShadow:"none"}},children:[Object(P.jsx)(Fe,{children:R.deleteTopic}),Object(P.jsxs)(He,{children:[Object(P.jsx)(h.a,{className:i.button,onClick:c,color:"primary",children:R.cancel}),Object(P.jsx)(h.a,{className:"".concat(i.button," ").concat(i.buttonDelete),onClick:l,color:"primary",children:R.delete})]})]})})),_e=Ye,Ge=Object(l.a)((function(e){return{root:{flexGrow:1},logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonEdit:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:60,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonDelete:{color:"rgba(212, 45, 48, 1)",height:28,width:60,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",alignItems:"center",justifyContent:"center"},appbar:{borderBottom:"1px solid rgba(196, 196, 196, 1)",backgroundColor:"white",height:74,justifyContent:"center"},toolBar:{padding:e.spacing(1)}}}));var Je=function(e){console.log("buttonprops",e);var t=Ge(),n=(Object(b.g)(),Object(o.useState)(!1)),r=Object(c.a)(n,2),a=r[0],i=r[1],l=Object(b.j)(),s=l.url,d=l.path;return console.log("url",s,d),Object(P.jsxs)("div",{children:[Object(P.jsx)(h.a,{disableRipple:!0,className:t.buttonEdit,component:u.b,to:{pathname:s+"/"+e._id},children:R.edit}),Object(P.jsx)(h.a,{disableRipple:!0,className:t.buttonDelete,onClick:function(){i(!0)},children:R.delete}),Object(P.jsx)(_e,Object(x.a)(Object(x.a)({},e),{},{open:a,setOpen:i}))]})},qe=Object(l.a)((function(e){return{root:{flexGrow:1},logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonEdit:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:60,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonDelete:{color:"rgba(212, 45, 48, 1)",height:28,width:60,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",alignItems:"center",justifyContent:"center"},appbar:{borderBottom:"1px solid rgba(196, 196, 196, 1)",backgroundColor:"white",height:74,justifyContent:"center"},toolBar:{padding:e.spacing(1)}}}));var Ue=function(e){return qe(),Object(b.g)(),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"0px 16px ",border:"1px solid rgba(225,225,225,1)",borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,alignItems:"center",justifyContent:"space-between"},children:[Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}}),Object(P.jsx)(Je,Object(x.a)({},e))]})},Ke=Object(l.a)((function(e){return{bottomRoot:{marginTop:e.spacing(2),backgroundColor:"white",borderRadius:"8px",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"}}})),Qe=["singleTopic","multipleTopic","fillTopic"];var Xe=function(){var e=Ke(),t=Object(o.useState)(0),n=Object(c.a)(t,2),r=n[0],a=n[1],i=Object(b.j)(),l=i.url,s=i.path;console.log(l,s);var d=Object(o.useState)(!1),u=Object(c.a)(d,2),p=u[0],g=u[1],h=Object(o.useState)(null),f=Object(c.a)(h,2),j=f[0],O=f[1],v=(Object(b.g)(),Object(o.useContext)(m).topicLabelState),y=function(){var e=Object(S.a)(Object(w.a)().mark((function e(t){var n;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onClick topicLabelState",v),n={topicLabel:v[v.length-1]?v[v.length-1]:"",yearLabel:t.yearLabel},e.t0=O,e.next=5,G(n);case 5:e.t1=e.sent,(0,e.t0)(e.t1),g(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.setValue,n=(Ke(),Object(b.i)().name);console.log(n),Object(o.useEffect)((function(){var e=function(e){return e===n};console.log(Qe.findIndex(e)),t(Qe.findIndex(e))}),[n]);Object(o.useRef)();var r=Object(o.useState)(""),a=Object(c.a)(r,2);a[0],a[1];return{singleTopic:(console.log("data",j),j?j.map((function(e){return"0"===e.type&&Object(P.jsx)(Ue,Object(x.a)(Object(x.a)({},e),{},{onSubmit:y}))})):null),multipleTopic:j?j.map((function(e){return"1"===e.type&&Object(P.jsx)(Ue,Object(x.a)(Object(x.a)({},e),{},{onSubmit:y}))})):null,fillTopic:j?j.map((function(e){return"2"===e.type&&Object(P.jsx)(Ue,Object(x.a)(Object(x.a)({},e),{},{onSubmit:y}))})):null}[n]},T=Object(o.useContext)(m);return T.isLoading,T.isLoadingDispatch,Object(P.jsxs)("div",{children:[Object(P.jsx)(Ee,{onClick:function(e){y(e)}}),Object(P.jsx)(b.b,{exact:!0,path:"".concat(s,"/:name"),children:p&&Object(P.jsxs)("div",{className:e.bottomRoot,children:[Object(P.jsx)(Be,{value:r,handleChange:function(e,t){a(t)}}),Object(P.jsx)(C,{setValue:a})]})})]})},Ze=Object(l.a)((function(e){return{root:{fontSize:"12px",borderBottom:"1px solid rgba(196, 196, 196, 1)",alignItems:"center",justifyContent:"center"},indicator:{backgroundColor:"rgba(212,45,48,1)"},tabRoot:{minWidth:80,color:"rgba(110,104,147,1)","&.Mui-selected":{color:"rgba(212,45,48,1)"}}}})),$e=function(e){var t=e.value,n=e.handleChange,o=Ze(),r=(Object(b.g)(),Object(b.j)()),a=r.url,i=(r.path,["topicCategory","year","grade"]);return Object(P.jsx)(Me.a,{className:o.root,classes:{indicator:o.indicator},value:t,indicatorColor:"primary",textColor:"primary",onChange:n,"aria-label":"disabled tabs example",children:i.map((function(e,t){return Object(P.jsx)(Pe.a,{disableRipple:!0,className:o.tabRoot,label:R[e],component:u.b,to:"".concat(a,"/").concat(e)},t)}))})},et=n(138),tt=n.n(et),nt=Object(l.a)((function(e){return{root:{width:220,height:46,paddingBottom:10,paddingTop:10,paddingLeft:0,"& .MuiInput-underline:hover:before":{borderWidth:1,borderBottomColor:"rgba(225, 225, 225, 1)"},"& .MuiInput-underline:hover:after":{borderWidth:1},"& .MuiInput-underline:after":{borderBottomColor:"rgba(225, 225, 225, 1)",borderWidth:1},"& .MuiInput-underline:before":{borderBottomColor:"rgba(225, 225, 225, 1)",borderWidth:1},display:"flex",justifyContent:"flex-start"},rootActive:{"& .MuiInput-underline:before":{borderBottomColor:"rgba(225, 225, 225, 1)"},backgroundColor:"rgba(248, 248, 248, 1)"},addIcon:{color:"rgba(212, 45, 48, 1)",width:20.5,height:20.5,marginLeft:14,marginRight:18},addText:{color:"rgba(26, 26, 26, 1)",fontWeight:400,fontSize:12,textDecoration:null}}})),ot=function(e){var t=e.setAddLabel,n=e.type,r=e.id,a=e.refetch,i=e.setRefetch,l=e.isLoadingDispatch,s=nt(),d=Object(o.useState)(!1),u=Object(c.a)(d,2),b=u[0],p=u[1],g=Object(o.useState)(""),f=Object(c.a)(g,2),j=f[0],x=f[1],O=b?"".concat(s.root," ").concat(s.rootActive):"".concat(s.root);Object(o.useEffect)((function(){document.addEventListener("click",(function(e){p(!1)}))}),[]);var m=Object(o.useRef)();return Object(P.jsxs)(h.a,{onClick:function(e){console.log(b),function(e){e.nativeEvent.stopImmediatePropagation()}(e),p(!0),console.log(m)},onKeyPress:function(e){console.log("Pressed keyCode ".concat(e.key)),"Enter"===e.key&&(p(!1),t&&j&&t(!1),e.preventDefault(),function(e,t,n,o,r){r({type:"SET_LOADING"}),fetch(F+"label/"+e+"/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),o(!n)})).catch((function(e){return console.error("Error: ",e)}))}(n,{content:j,id:r},a,i,l))},disableRipple:!0,className:O,children:[Object(P.jsx)(tt.a,{className:s.addIcon}),b?Object(P.jsx)(B.a,{autoFocus:!0,onBlur:function(){p(!1)},inputRef:m,onChange:function(e){x(e.target.value)},onSubmit:function(e){console.log(e.target.value)},InputProps:{className:s.addText},placeholder:R.addCategory}):Object(P.jsx)(N.a,{className:"".concat(s.addText),children:R.addCategory})]})},rt=n(658),at=n(648),it=n(338),ct=n(659),lt=n(668),st=n(318),dt=n.n(st),ut=n(317),bt=n.n(ut),pt=Object(l.a)((function(e){return{root:{width:220,height:46,paddingBottom:10,paddingTop:10,paddingLeft:0,"& .MuiInput-underline:hover:before":{borderWidth:1,borderBottomColor:"rgba(225, 225, 225, 1)"},"& .MuiInput-underline:hover:after":{borderWidth:1},"& .MuiInput-underline:after":{borderBottomColor:"rgba(225, 225, 225, 1)",borderWidth:1},"& .MuiInput-underline:before":{borderBottomColor:"rgba(225, 225, 225, 1)",borderWidth:1},display:"flex",justifyContent:"flex-start"},rootActive:{"& .MuiInput-underline:before":{borderBottomColor:"rgba(225, 225, 225, 1)"},backgroundColor:"rgba(248, 248, 248, 1)"},arrowIcon:{color:"rgba(117, 117, 117, 1)",width:8,height:13,marginLeft:14,marginRight:8},arrowDownIcon:{color:"rgba(117, 117, 117, 1)",width:14,marginLeft:11,marginRight:5},addIcon:{color:"rgba(212, 45, 48, 1)",width:20.5,height:20.5},addText:{color:"rgba(26, 26, 26, 1)",fontWeight:400,fontSize:12,textDecoration:null},moreButtonRoot:{minWidth:32,height:32,padding:0,borderRadius:4,border:"1px solid rgba(251,234,234,1)",marginRight:10},addLayerRoot:{minWidth:32,height:32,padding:0,borderRadius:4,marginRight:10,backgroundColor:"rgba(251,234,234,1)"},moreIcon:{color:"rgba(212, 45, 48, 1)"},redDot:{width:2,height:2,backgroundColor:"rgba(212, 45, 48, 1)",margin:2},rightButtonDiv:{display:"flex",flex:1,justifyContent:"flex-end"},paperRoot:{marginTop:2,minWidth:120,border:"1px solid rgba(225, 225, 225, 1)",borderRadius:0,boxShadow:"0px 0px 0px 0px"},menuItem:{margin:"6px 10px",padding:"6px 10px",borderRadius:4,fontWeight:400,fontSize:12}}})),gt=function(e){var t=e.label,n=e.component,r=e.addButton,a=e.deleteOnclick,i=e.type,l=e.id,s=e.refetch,d=e.setRefetch,u=e.isLoadingDispatch,b=e.index,p=pt(),g=Object(o.useState)(!1),f=Object(c.a)(g,2),j=f[0],O=f[1],m=Object(o.useState)(!1),v=Object(c.a)(m,2),y=v[0],C=v[1],w=Object(o.useState)(!1),S=Object(c.a)(w,2),T=S[0],k=S[1],I=j?"".concat(p.root," ").concat(p.rootActive):"".concat(p.root),A=Object(o.useRef)(),D=Object(o.useState)(!1),z=Object(c.a)(D,2),E=z[0],M=z[1],W=Object(o.useRef)(null),H=Object(o.useState)(""),V=Object(c.a)(H,2),Y=V[0],_=V[1],G=Object(o.useState)(!1),J=Object(c.a)(G,2),q=J[0],U=J[1],K=Object(o.useState)(!1),Q=Object(c.a)(K,2),X=(Q[0],Q[1],function(e){W.current&&W.current.contains(e.target)||(e.stopPropagation(),O(!1),M(!1))}),Z=function(e){X(e),k(!0)},$=function(e){X(e),a()};function ee(e){"Tab"===e.key&&(e.preventDefault(),M(!1))}Object(o.useRef)(E);return Object(P.jsxs)("div",{children:[Object(P.jsxs)(h.a,{onMouseOver:function(){console.log("over"),!j&&O(!0)},onMouseLeave:function(){console.log("leave"),j&&!E&&O(!1)},onClick:function(e){C(!y)},onKeyPress:function(e){console.log("Pressed keyCode ".concat(e.key)),"Enter"===e.key&&(!function(e,t,n,o,r){console.log(t),r({type:"SET_LOADING"}),fetch(F+"label/"+e+"/rename",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),o(!n)})).catch((function(e){return console.error("Error: ",e)}))}(i,{content:Y,id:l},s,d,u),O(!1),e.preventDefault())},disableRipple:!0,className:I,children:[y?Object(P.jsx)(bt.a,{className:p.arrowDownIcon}):Object(P.jsx)(dt.a,{className:p.arrowIcon}),T?Object(P.jsx)(B.a,{autoFocus:!0,onBlur:function(){console.log("blur"),k(!1),_(!1)},inputRef:A,onClick:function(e){e.stopPropagation()},onChange:function(e){_(e.target.value)},onSubmit:function(e){console.log(e.target.value)},onKeyPress:function(e){console.log("Pressed keyCode ".concat(e.key)),"Enter"===e.key&&(k(!1),e.preventDefault())},InputProps:{className:p.addText},style:{flex:1},placeholder:R.rename}):Object(P.jsx)(N.a,{className:"".concat(p.addText),children:t}),j&&Object(P.jsxs)("div",{className:p.rightButtonDiv,children:[Object(P.jsxs)(h.a,{className:p.moreButtonRoot,ref:W,"aria-controls":E?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(e){e.stopPropagation(),M((function(e){return!e}))},children:[Object(P.jsx)("div",{className:p.redDot}),Object(P.jsx)("div",{className:p.redDot}),Object(P.jsx)("div",{className:p.redDot})]}),Object(P.jsx)(rt.a,{open:E,anchorEl:W.current,role:void 0,transition:!0,placement:"bottom-start",children:function(e){var t=e.TransitionProps,n=e.placement;return Object(P.jsx)(at.a,Object(x.a)(Object(x.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(P.jsx)(it.a,{className:p.paperRoot,children:Object(P.jsx)(ct.a,{onClickAway:X,children:Object(P.jsxs)(lt.a,{autoFocusItem:E,id:"menu-list-grow",onKeyDown:ee,style:{padding:0},children:[Object(P.jsx)(L.a,{className:p.menuItem,onClick:Z,children:R.rename}),Object(P.jsx)(L.a,{className:p.menuItem,onClick:$,children:R.delete})]})})})}))}}),r&&b<4&&Object(P.jsx)(h.a,{className:p.moreButtonRoot,onClick:function(e){X(e),C(!0),U(!q)},children:Object(P.jsx)(tt.a,{className:p.addIcon})})]})]}),console.log("index",b),y&&Object(P.jsxs)("div",{style:{marginLeft:30},children:[n,q&&b<4&&Object(P.jsx)(ot,{type:i,id:l,isLoadingDispatch:u,setAddLabel:U,refetch:s,setRefetch:d})]})]})},ht=Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(2),fontWeight:600,color:"rgba(26, 26, 26, 1)",fontSize:12}}}))(I.a),ft=Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(A.a),jt=Object(l.a)((function(){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}}}})),xt=r.a.forwardRef((function(e,t){var n=e.type,a=e.refetch,i=e.setRefetch,l=e.isLoadingDispatch,s=r.a.useState(!1),d=Object(c.a)(s,2),u=d[0],b=d[1],p=r.a.useState(""),g=Object(c.a)(p,2),f=g[0],j=g[1],x=jt(),O=function(){b(!1)};return Object(o.useImperativeHandle)(t,(function(){return{handleClickOpen:function(e){j(e),b(!0)}}})),Object(P.jsxs)(k.a,{onClose:O,open:u,PaperProps:{style:{width:320,borderRadius:2,border:"1px solid rgba(225, 225, 225, 1)",boxShadow:"none"}},children:[Object(P.jsx)(ht,{children:R.deleteDescription}),Object(P.jsxs)(ft,{children:[Object(P.jsx)(h.a,{className:x.button,onClick:O,color:"primary",children:R.cancel}),Object(P.jsx)(h.a,{className:"".concat(x.button," ").concat(x.buttonDelete),onClick:function(){O(),function(e,t,n,o,r){console.log(e),r({type:"SET_LOADING"}),fetch(F+"label/"+e+"/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(e){return console.log(e),o(!n),e})).catch((function(e){return console.error("Error: ",e)}))}(n,f,a,i,l)},color:"primary",children:R.delete})]})]})})),Ot=n(608),mt=n(660),vt=(Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(2),fontWeight:600,color:"rgba(26, 26, 26, 1)",fontSize:12}}}))(I.a),Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(A.a),Object(l.a)((function(e){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"grey",backgroundColor:"transparent"}}}))),yt=r.a.forwardRef((function(e,t){var n=Object(o.useContext)(m),a=n.isLoading,i=(n.isLoadingDispatch,e.type,e.refetch,e.setRefetch,r.a.useState(!1)),l=Object(c.a)(i,2),s=(l[0],l[1]),d=r.a.useState(""),u=Object(c.a)(d,2),b=(u[0],u[1]),p=vt();return Object(o.useImperativeHandle)(t,(function(){return{handleClickOpen:function(e){b(e),s(!0)}}})),Object(P.jsx)(Ot.a,{className:p.backdrop,open:a,onClick:function(){s(!1)},children:Object(P.jsx)(mt.a,{color:"inherit"})})})),Ct=Object(l.a)((function(e){return{logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},fontSize:"12px",alignItems:"center",justifyContent:"center"},root:{borderRadius:"8px",height:"100%",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},toolBar:{padding:e.spacing(1)},titleText:{fontWeight:600,fontSize:"20px",fontFamily:"Open Sans",padding:e.spacing(2)},selectText:{fontWeight:400,fontSize:"12px",marginTop:e.spacing(2),color:"rgba(117,117,117,1)","&$selectTextCustomized":{marginTop:e.spacing(3)}},selectTextCustomized:{},formControl:{marginTop:e.spacing(1),width:181,boxShadow:"none"},menu:{marginTop:4,borderRadius:0,boxShadow:"none",border:"1px solid rgba(225,225,225,1)"},select:{height:100},selectRoot:{width:181,height:48,marginTop:e.spacing(1),"&.Mui-focused .MuiSelect-select":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused ":{backgroundColor:"none"}},menuText:{fontWeight:400,fontSize:"12px",color:"rgba(0,0,0,1)"},addIcon:{color:"blue",width:25,height:25},topicRoot:{padding:26}}})),wt=["topicCategory","year","grade"],St=function(e){var t=e.setValue,n=Ct(),r=Object(b.i)().name;console.log(r),Object(o.useEffect)((function(){var e=function(e){return e===r};console.log(wt.findIndex(e)),t(wt.findIndex(e))}),[r]);var a=Object(o.useState)(),i=Object(c.a)(a,2),l=i[0],s=i[1],d=Object(o.useState)(!1),u=Object(c.a)(d,2),p=u[0],g=u[1];Object(o.useEffect)((function(){var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V("topic"),V("year"),V("grade")]);case 2:t=e.sent,console.log("data",t),s(t),x&&O({type:"SET_FINISHED"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);var h=Object(o.useRef)(),f=function e(t,n,o){return t&&t.map((function(t){var r=null;return t.level&&(r=e(t.level,n,o+1)),Object(P.jsx)(gt,{index:o,type:n,id:t._id,label:t.content,deleteOnclick:function(){return h.current.handleClickOpen(t._id)},addButton:"topic"===n,component:r,refetch:p,setRefetch:g,isLoadingDispatch:O},t._id)}))},j=Object(o.useContext)(m),x=j.isLoading,O=j.isLoadingDispatch;return{topicCategory:Object(P.jsxs)("div",{className:n.topicRoot,children:[l&&f(l[0],"topic",0),console.log(x),Object(P.jsx)(ot,{type:"topic",refetch:p,setRefetch:g,isLoadingDispatch:O}),Object(P.jsx)(xt,{ref:h,type:"topic",refetch:p,setRefetch:g,isLoadingDispatch:O})]}),year:Object(P.jsxs)("div",{className:n.topicRoot,children:[l&&f(l[1],"year"),console.log(x),Object(P.jsx)(ot,{type:"year",refetch:p,setRefetch:g,isLoadingDispatch:O}),Object(P.jsx)(xt,{ref:h,type:"year",refetch:p,setRefetch:g,isLoadingDispatch:O})]}),grade:Object(P.jsxs)("div",{className:n.topicRoot,children:[l&&f(l[2],"grade"),console.log(x),Object(P.jsx)(ot,{type:"grade",refetch:p,setRefetch:g,isLoadingDispatch:O}),Object(P.jsx)(xt,{ref:h,type:"grade",refetch:p,setRefetch:g,isLoadingDispatch:O})]})}[r]},Tt=function(){var e=Ct(),t=Object(b.j)(),n=t.url,r=t.path;console.log(n,r);var a=Object(o.useState)(0),i=Object(c.a)(a,2),l=i[0],s=i[1];return Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsx)(N.a,{className:e.titleText,children:R.labelManagement}),Object(P.jsx)($e,{value:l,handleChange:function(e,t){s(t)}}),Object(P.jsx)(b.b,{path:"".concat(r,"/:name"),children:Object(P.jsx)(St,{setValue:s})})]})},kt=function(){var e=Object(S.a)(Object(w.a)().mark((function e(t){var n,o,r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("number",t),n={number:t},e.next=4,fetch(F+"paperAnswer/inquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return o=e.sent,e.next=7,o.json();case 7:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=n(320),At=(Object(T.a)((function(e){return{root:{margin:0,fontWeight:900,color:"rgba(26, 26, 26, 1)",fontSize:18}}}))(I.a),Object(T.a)((function(e){return{root:{margin:"0px 0px 0px 0px",fontWeight:400,color:"rgba(117, 117, 117, 1)",fontSize:12}}}))(I.a)),Rt=Object(T.a)((function(e){return{root:{margin:"0px 0px 0px 0px",padding:"0px 0px"}}}))(A.a),Lt=Object(l.a)((function(){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}},textField:{height:48,flex:1,"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"},"& .MuiInput-underline:hover:before":{borderWidth:0},"& .MuiInput-underline:hover:after":{borderWidth:0},"& .MuiInput-underline:after":{borderWidth:0},"& .MuiInput-underline:before":{borderWidth:0},"& .MuiInputBase-input ":{height:48,padding:0}},placeholder:{fontSize:12,color:"rgba(26, 26, 26, 1)",fontWeight:400,textDecoration:null},root:{height:48,border:"1px solid rgba(225,225,225,1)",display:"flex",alignItems:"center",padding:"0px 0px 0px 12px",marginTop:8,borderRadius:2},false:{border:"1px solid rgba(212, 45, 48, 1)"}}})),Nt=r.a.forwardRef((function(e,t){var n=e.open,r=e.setOpen,a=e.uploadData,i=Object(o.useState)(""),l=Object(c.a)(i,2),s=l[0],d=l[1],u=Lt(),p=function(){r(!1)},g=Object(o.useState)(!0),f=Object(c.a)(g,2),j=f[0],x=f[1],O=Object(b.g)(),v=Object(o.useContext)(m),y=(v.isLoading,v.isLoadingDispatch,function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t,n,o,r,i,c,l,d,u,b,p,g,h,f,j,m,v,y,C,S,T,k,I,A,R,L,N,D,z,E,P,M,W;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(s);case 2:if(t=e.sent,console.log("answerData",t),0!==t.length){e.next=8;break}return x(!1),setTimeout((function(){return x(!0)}),1e3),e.abrupt("return");case 8:console.log("uploadData",a),n=function(e){return"NAME"===e},a[0].findIndex(n),o=function(e){return"S01"===e},r=a[0].findIndex(o),i=function(e){return"A01"===e},c=a[0].findIndex(i),l=t[0],d=l.singlePropotion,u=l.singleCount,b=l.multiplePropotion,p=l.multipleCount,g=l.fillPropotion,h=l.fillCount,f=l.content,j=l.answerLengthArray,m=[parseInt(d)/u,parseInt(b)/p,parseInt(g)/h],a[0].push("SCORE"),a[0].push("FAULT LABEL"),v=1;case 20:if(!(v<a.length)){e.next=53;break}if(console.log("uploadData[numberIndex]",a[v][r]),console.log("answerData[0].number",t[0].number),console.log("answerData[0].topicList",t[0].topicList),a[v][r]===t[0].number){e.next=26;break}return e.abrupt("continue",50);case 26:for(y=a[v][c],y+=" ".repeat(12-y%12),f+=" ".repeat(12-f%12),C=[],S=0;S<y.length;S+=12)C.push(y.slice(S,S+11));for(T=[],k=0;k<f.length;k+=12)T.push(f.slice(k,k+11));for(console.log("testAnswerSlice",C),console.log("answerSlice",T),console.log("answerLengthArray",j),I=[],A=0,R=0,L=0,N=0,D=0;D<u;D++)C[R]===T[R]?A+=m[0]:I.push(t[0].topicList[N].topicLabel[t[0].topicList[N].topicLabel.length-1]),R+=1,N+=1;for(z=0;z<p;z++)C[R]===T[R]?A+=m[1]:I.push(t[0].topicList[N].topicLabel[t[0].topicList[N].topicLabel.length-1]),R+=1,N+=1;for(L=L+u+p,E=0;E<h;E++){for(P=!0,M=0;M<j[L];M++)C[R]!==T[R]&&(P=!1),R+=1;P?A+=m[2]:(I.push(t[0].topicList[N].topicLabel[t[0].topicList[N].topicLabel.length-1]),N+=1)}console.log("score",A),console.log("uploadData[i]",a[v]),a[v].push(A),I=I.filter((function(e,t,n){return t===n.indexOf(e)})),a[v].push(I);case 50:v++,e.next=20;break;case 53:return W={uploadData:a},e.next=56,H("topic",W);case 56:a=e.sent,console.log("uploadData",a),O.push({pathname:"score",state:{paperNumber:s,uploadData:a,paperInformation:{paperType:t[0].paperType,unitname:t[0].unitname,year:t[0].year}}});case 59:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),C=Object(o.useState)(""),T=Object(c.a)(C,2);T[0],T[1];return Object(P.jsxs)(k.a,{onClose:p,open:n,PaperProps:{style:{width:290,borderRadius:2,border:"1px solid rgba(225, 225, 225, 1)",boxShadow:"none",padding:15}},children:[Object(P.jsx)(At,{children:R.enterPaperNumber}),Object(P.jsx)("div",{className:j?"".concat(u.root):"".concat(u.root," ").concat(u.false),children:Object(P.jsx)(B.a,{value:s,onChange:function(e){d(e.target.value)},InputProps:{classes:{input:u.placeholder}},className:u.textField,placeholder:""})}),Object(P.jsx)(At,{style:{color:"rgba(212, 45, 48, 1)",marginTop:5,fontSize:9,height:33},children:!j&&R.enterFalse}),Object(P.jsxs)(Rt,{children:[Object(P.jsx)(h.a,{className:u.button,onClick:p,children:R.cancel}),Object(P.jsx)(h.a,{className:"".concat(u.button," ").concat(u.buttonDelete),onClick:y,children:R.ensure})]})]})})),Dt=Nt,zt=Object(l.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},square:{width:150,height:150,alignItems:"center",backgroundColor:"white",display:"flex",flexFlow:"column",border:"1px solid rgba(225, 225, 225, 1)",borderRadius:5,margin:10.5,outline:"none",padding:"25px 0px 0px 0px",cursor:"pointer"},text:{fontSize:18,fontWeight:900,margin:"12px 0px 0px 0px"}}}));var Et,Pt=function(){var e=zt(),t=Object(b.g)(),n=Object(o.useState)(null),r=Object(c.a)(n,2),a=r[0],i=r[1],l=Object(o.useRef)(null),s=Object(o.useState)(!1),d=Object(c.a)(s,2),u=d[0],p=d[1];return Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsxs)("button",{className:e.square,onClick:function(e){l.current.click()},children:[Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGvSURBVHgB7dnLTcNAEAbgseNLkgO+RMpLwnQQKiApgQooJSVQAqEDqCChA6gg4ZTXJccoLzOLvJIPWQTC49lI/ydZu7ItWfplr8djIgAAAAAAAAAAAAAAKEecIU+E5IFOp9Or1+vTWq02bTQaPfJAQMpMKDyM0zS1d8tmv98P1uv1OylSDeZMKJZ6OGrB/BCKpRqOSjC/CMVSC0dr8X2yofA442GUOzbK9hlxFEWPpEAlmNPp9GxGEwBvA57Ocoe/9+XCUV2ES9dqta7tvN1uD3lLs2147pyyqdUx8/n8s4hzpHhR4PkIwTggGAcE44BgHCIS0u12+1yv3JmaZbFYzKhAzWYzCcPw4XA4fKxWqxcSIBJMkiTxbrcbm3kQBKb8v6cCVSoVUzn3uSrecAtnsmFUMJFHabvd5r+BJJtPcbVavSIBWGMcEIyDF8HwAv1m58fj0YuPRi+C4bfWhMO54YX6drlcvpIHxF7Xf1X0K/2/sMY4iN8xpo7hVuaYiiX+i6WMRyk2xRhdGJFHyawXudakGHMNqWaW6F8C6dakZocPAAAAAAAAAAAAAODifQHD9LL23cAprwAAAABJRU5ErkJggg=="}),Object(P.jsx)("div",{className:e.text,children:R.uploadFile}),Object(P.jsx)("input",{onClick:function(e){e.target.value=null},type:"file",ref:l,onChange:function(e){var t=e.target.files[0];console.log(t),It.parse(t,{complete:function(e){console.log("Finished:",e.data);var t=e.data[0].findIndex((function(e){return"NAME"===e})),n=e.data[0].findIndex((function(e){return"S01"===e})),o=e.data[0].findIndex((function(e){return"A01"===e}));console.log("nameIndex",t),console.log("answerIndex",o),-1!==t&&-1!==o&&-1!==n?(i(e.data),p(!0)):alert("\u8acb\u4e0a\u50b3\u6709\u6548\u8b80\u5361\u6a94\u6848")}})},style:{display:"none"}})]}),Object(P.jsxs)("button",{className:e.square,onClick:function(){t.push("question")},children:[Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH7SURBVHgB7dnLbcJAEAbgAXLhgjjyVEwFoYNAB5RACXQQKCElUAIVQAckFcQHXkcQBw688q/kA0rAtox3B6H/k5CNWIEYzezsrkWIiIiIiIiIiIiIiJ5cRhzyQO60DohlTgJTKpW8bDY7xq0n6RgsFou+WJQTBwqFwlTSC4rRwnf62+32Wyx5EctqtVrrdDp5wdv1+Xz+koQymUwRl6a5x/e0cBmKJdYDc8kEZblctiWhIMhjcSArdJXTjPmrWq02g/IINZvNJuKYWmBMp0JpTfGKHIsAdufzubX55Bq1UkL7fos7FsHzxDG1jME6ZFQul3sopWbYOARlvdvtPsUx1TkGHcr5H46LXekG1YwJ1iXvtz7HZ8PVauWLArXAxFmsYYLuFYvFhotN47/fFiWHwyFyjJl4RYlaxqBEJpVKpSPB3ucaZMxII1sM1TnGtGxcRvKA2JVuUM0YlFIfC7zXsDGYoM0Cb+C6pNQCU6/XO8fj8SNqr4TAST6f9xEXp4tBtVLa7/exM0CjO6l2JeywG7gNLaVcLrfB2MSnfkmpzjHBqtaXB8SudIP1jLmcH8wRAw6dEp/ZokNFnvalxclzJZy7/CAonqQIQeqiFK2d6jkpJWRNGy9f0rFGUPo2g2I4fUSLzHmVO2Gxt9HaPxERERERERERERERPZVf/WfHWiU8m9EAAAAASUVORK5CYII="}),Object(P.jsx)("div",{className:e.text,children:R.question})]}),Object(P.jsx)(Dt,{open:u,setOpen:p,uploadData:a})]})},Mt=Object(l.a)((function(e){return{root:{borderBottom:"1px solid rgba(196, 196, 196, 1)",alignItems:"center",justifyContent:"center"},indicator:{backgroundColor:"rgba(212,45,48,1)"},tabRoot:{minWidth:80,color:"rgba(117,117,117,1)",fontSize:"14px","&.Mui-selected":{color:"rgba(212,45,48,1)"}}}})),Wt=function(e){var t=e.value,n=e.handleChange,o=Mt(),r=(Object(b.g)(),Object(b.j)()),a=(r.url,r.path,["singleTopic","multipleTopic","fillTopic"]);return Object(P.jsx)(Me.a,{className:o.root,classes:{indicator:o.indicator},value:t,indicatorColor:"primary",textColor:"primary",onChange:n,"aria-label":"disabled tabs example",children:a.map((function(e){return Object(P.jsx)(Pe.a,{disableRipple:!0,className:o.tabRoot,label:R[e]})}))})},Bt=["title","titleId"];function Ft(){return Ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ft.apply(this,arguments)}function Ht(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vt(e,t){var n=e.title,r=e.titleId,a=Ht(e,Bt);return o.createElement("svg",Ft({width:12,height:10,viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,Et||(Et=o.createElement("path",{d:"M0.293056 5.72123C-0.600029 4.68471 0.750382 3.09982 1.64331 4.13634L4.3843 7.30374L10.3502 0.340876C11.2433 -0.701482 12.601 0.883217 11.7079 1.92558L5.06654 9.67267C4.69361 10.1081 4.08874 10.1094 3.71441 9.67485L0.293056 5.72123Z",fill:"white"})))}var Yt=o.forwardRef(Vt),_t=(n.p,Object(l.a)((function(e){return{root:{flexGrow:1},logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonEdit:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:60,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonDelete:{color:"rgba(212, 45, 48, 1)",height:28,width:60,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",alignItems:"center",justifyContent:"center"},appbar:{borderBottom:"1px solid rgba(196, 196, 196, 1)",backgroundColor:"white",height:74,justifyContent:"center"},toolBar:{padding:e.spacing(1)},checkBox:{alignItems:"center",justifyContent:"center",minWidth:20,padding:"0px",height:20,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)"},backgroundColor:"rgba(212, 45, 48, 1)",border:"1.5px solid rgba(212, 45, 48, 1)"},checkBoxActive:{alignItems:"center",justifyContent:"center",minWidth:20,padding:"0px",height:20,"&:hover":{backgroundColor:"white"},border:"1.5px solid rgba(212, 45, 48, 1)"}}})));var Gt=function(e){var t=e.handleChoose,n=e.propsChecked,o=_t();return Object(b.g)(),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"0px 16px 0px 40px",border:"1px solid rgba(225,225,225,1)",borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,alignItems:"center"},children:[Object(P.jsx)(h.a,{onClick:function(e){t()},className:"".concat(n?o.checkBox:o.checkBoxActive),disableRipple:!0,children:Object(P.jsx)(Yt,{})}),Object(P.jsx)("div",{style:{marginLeft:49},dangerouslySetInnerHTML:{__html:e.content}})]})},Jt=Object(l.a)((function(e){var t;return{previewButton:(t={width:76,height:28,marginRight:14,marginTop:19,padding:0,backgroundColor:"rgba(212,45,48,1)"},Object(j.a)(t,"marginTop",e.spacing(3)),Object(j.a)(t,"color","rgba(255,255,255,1)"),Object(j.a)(t,"fontSize",12),Object(j.a)(t,"fontWeight",400),Object(j.a)(t,"&.Mui-disabled ",{color:"rgba(151,151,151,1)",backgroundColor:"rgba(196,196,196,1)"}),Object(j.a)(t,"&:hover ",{backgroundColor:"rgba(212,45,48,1)",color:"rgba(255,255,255,1)"}),t)}})),qt=function(e){var t=e.disabled,n=e.content,o=e.onClick,r=Jt();return Object(P.jsx)(h.a,{className:r.previewButton,disableRipple:!0,disabled:t,onClick:o,children:n})},Ut=Object(T.a)((function(e){return{root:{margin:0,fontWeight:900,color:"rgba(26, 26, 26, 1)",fontSize:18}}}))(I.a),Kt=Object(T.a)((function(e){return{root:{margin:"17px 0px 0px 0px",fontWeight:600,color:"rgba(117, 117, 117, 1)",fontSize:12}}}))(I.a),Qt=Object(T.a)((function(e){return{root:{margin:"32px 0px 0px 0px",padding:"0px 8px"}}}))(A.a),Xt=Object(l.a)((function(){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}},textField:{height:48,flex:1,"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"},"& .MuiInput-underline:hover:before":{borderWidth:0},"& .MuiInput-underline:hover:after":{borderWidth:0},"& .MuiInput-underline:after":{borderWidth:0},"& .MuiInput-underline:before":{borderWidth:0},"& .MuiInputBase-input ":{height:48,padding:0}},placeholder:{fontSize:12,color:"rgba(26, 26, 26, 1)",fontWeight:400,textDecoration:null},root:{height:48,border:"1px solid rgba(225,225,225,1)",display:"flex",alignItems:"center",padding:"0px 0px 0px 12px",marginRight:8,marginTop:8,borderRadius:2}}})),Zt=r.a.forwardRef((function(e,t){var n=e.open,r=e.setOpen,a=e.yearLabelData,i=e.choosedTopicData,l=Object(o.useState)(""),s=Object(c.a)(l,2),d=s[0],u=s[1],p=Object(o.useState)(""),g=Object(c.a)(p,2),f=g[0],j=g[1],x=Object(o.useState)(""),O=Object(c.a)(x,2),m=O[0],v=O[1],y=Object(o.useState)(""),C=Object(c.a)(y,2),T=C[0],I=C[1],A=Object(o.useState)(""),L=Object(c.a)(A,2),N=L[0],D=L[1],z=Object(o.useState)(""),E=Object(c.a)(z,2),M=E[0],F=E[1],H=Object(o.useState)(""),V=Object(c.a)(H,2),Y=V[0],_=V[1],G=Object(o.useState)(""),q=Object(c.a)(G,2),U=q[0],K=q[1],Q=Xt(),X=function(){r(!1)};Object(o.useEffect)((function(){Z()}),[n]);var Z=function(){var e=[];console.log("choosedTopicData",i),i.map((function(t){var n=t.topicLabel[t.topicLabel.length-1];console.log("choosedTopicData",n._id);void 0===e.find((function(e){return e._id===n._id}))&&e.push(n)}));var t="";e.map((function(n,o){t+=n.content,o!==e.length-1&&(t+="\u3001")})),I(t),console.log("choosedTopicData unitArray",e)},$=i.filter((function(e){return"0"===e.type})),ee=i.filter((function(e){return"1"===e.type})),te=i.filter((function(e){return"2"===e.type})),ne=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t,n,o,r,a,c,l,s,u,b,p,g,h;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.filter((function(e){return"0"===e.type})),n=i.filter((function(e){return"1"===e.type})),o=i.filter((function(e){return"2"===e.type})),i.map((function(e){console.log("type",e.type)})),r=i.sort((function(e,t){return parseInt(e.type)-parseInt(t.type)})),a="",r.map((function(e){var t=e.answer.length;"1"===e.type?(e.answer.map((function(e){a+=e})),a+=" ".repeat(12-t)):e.answer.map((function(e){a+=e,a+=" ".repeat(11)}))})),c=function(){var e=0===t.length||N.length,r=0===n.length||M.length,a=0===o.length||Y.length;return e&&r&&a},r.length&&d.length&&f.length&&T.length&&c()&&U.length&&a.trim().length){e.next=12;break}return alert("\u8acb\u586b\u5beb\u6240\u6709\u984c\u76ee\u8cc7\u8a0a"),e.abrupt("return");case 12:X(),l=[],s=[],t.map((function(e){l.push("1"),s.push(e._id)})),n.map((function(e){l.push("1"),s.push(e._id)})),o.map((function(e){l.push(e.answer.length),s.push(e._id)})),u=parseFloat(N||"0")+parseFloat(M||"0")+parseFloat(Y||"0"),b=parseFloat(N||"0")/u,p=parseFloat(M||"0")/u,g=parseFloat(Y||"0")/u,h={paperType:d,year:f,studentName:m,unitname:T,number:U,content:a.trim(),singleCount:t.length,multipleCount:n.length,fillCount:o.length,singlePropotion:(100*b).toFixed(1),multiplePropotion:(100*p).toFixed(1),fillPropotion:(100*g).toFixed(1),answerLengthArray:l,topicList:s},J(h),ae.push({pathname:"preview",state:{data:i,paperType:d,studentName:m,year:f,unitname:T,singleCount:t.length,multipleCount:n.length,fillCount:o.length,singlePropotion:(100*b).toFixed(1),multiplePropotion:(100*p).toFixed(1),fillPropotion:(100*g).toFixed(1)}});case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=Object(o.useState)(""),re=Object(c.a)(oe,2),ae=(re[0],re[1],Object(b.g)());return Object(P.jsxs)(k.a,{onClose:X,open:n,PaperProps:{style:{width:290,borderRadius:2,border:"1px solid rgba(225, 225, 225, 1)",boxShadow:"none",padding:15}},children:[Object(P.jsx)(Ut,{children:R.paperInformation}),Object(P.jsx)(Kt,{children:R.choosePaperType}),Object(P.jsx)(W,{defaultValue:R.paperType,menuData:[{content:"\u9031\u8003"},{content:"\u6a21\u8003"},{content:"\u5c08\u7528\u8a66\u5377"}],setContent:u}),"\u5c08\u7528\u8a66\u5377"===d&&Object(P.jsxs)(o.Fragment,{children:[Object(P.jsx)(Kt,{children:R.enterStudentName}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{value:m,onChange:function(e){v(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:""})})]}),Object(P.jsx)(Kt,{children:R.choostYear}),Object(P.jsx)(W,{defaultValue:R.year,menuData:a,setContent:j}),Object(P.jsx)(Kt,{children:R.enterUnitName}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{value:T,onChange:function(e){I(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:""})}),Object(P.jsx)(Kt,{children:R.enterPaperNumber}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{value:U,onChange:function(e){K(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:""})}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsxs)("div",{style:{display:0===$.length&&"none"},children:[Object(P.jsx)(Kt,{children:R.singleAllocation}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{type:"number",value:N,onChange:function(e){D(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPropotion,inputProps:{inputmode:"numeric",pattern:"[0-9]*"}})})]}),Object(P.jsxs)("div",{style:{display:0===ee.length&&"none"},children:[Object(P.jsx)(Kt,{children:R.multipleAllocation}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{type:"number",value:M,onChange:function(e){F(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPropotion,inputProps:{inputmode:"numeric",pattern:"[0-9]*"}})})]}),Object(P.jsxs)("div",{style:{display:0===te.length&&"none"},children:[Object(P.jsx)(Kt,{children:R.fillAllocation}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{value:Y,type:"number",onChange:function(e){console.log("fill",e.target.value),_(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPropotion})})]})]}),Object(P.jsxs)(Qt,{children:[Object(P.jsx)(h.a,{className:Q.button,onClick:X,children:R.cancel}),Object(P.jsx)(h.a,{className:"".concat(Q.button," ").concat(Q.buttonDelete),onClick:ne,children:R.previewPaper})]})]})})),$t=Zt,en=n(666),tn=Object(l.a)((function(e){return{logo:{marginLeft:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},buttonAdd:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",marginRight:e.spacing(1),height:28,width:76,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},padding:0,fontSize:"12px",borderRadius:2,alignItems:"center",justifyContent:"center"},buttonLabel:{color:"rgba(212, 45, 48, 1)",height:28,width:76,backgroundColor:"white",borderRadius:2,border:"1px solid rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"white",border:"1px solid rgba(212, 45, 48, 1)",boxShadow:"none"},fontSize:"12px",alignItems:"center",justifyContent:"center"},root:{margin:e.spacing(2),padding:e.spacing(2),borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},toolBar:{padding:e.spacing(1)},titleText:{fontWeight:600,fontSize:"20px",fontFamily:"Open Sans"},selectText:{fontWeight:400,fontSize:"12px",marginTop:e.spacing(2),color:"rgba(117,117,117,1)","&$selectTextCustomized":{marginTop:e.spacing(3)}},selectTextCustomized:{},formControl:{marginTop:e.spacing(1),width:181,boxShadow:"none"},menu:{marginTop:4,borderRadius:0,boxShadow:"none",border:"1px solid rgba(225,225,225,1)"},select:{height:100},selectRoot:{width:181,height:48,marginRight:e.spacing(1),marginTop:e.spacing(1),"&.Mui-focused .MuiSelect-select":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(225,225,225,1)",borderRadius:0},"&.Mui-focused ":{backgroundColor:"none"}},menuText:{fontWeight:400,fontSize:"12px",color:"rgba(0,0,0,1)"},checkBox:{alignItems:"center",justifyContent:"center",minWidth:20,padding:"0px",height:20,"&:hover":{backgroundColor:"rgba(212, 45, 48, 1)"},backgroundColor:"rgba(212, 45, 48, 1)",border:"1.5px solid rgba(212, 45, 48, 1)"},checkBoxActive:{alignItems:"center",justifyContent:"center",minWidth:20,padding:"0px",height:20,"&:hover":{backgroundColor:"white"},border:"1.5px solid rgba(212, 45, 48, 1)"},indeterminateColor:{color:"rgba(212,45,48,1)"},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0)"}}}}));var nn=function(e){e.defaultValue;var t=e.data,n=(e.index,e.allChoose,e.topicLabel,e.setTopicLabel,e.yearLabel,e.setYearLabel),r=tn();console.log("data",t);var a=Object(o.useState)([]),i=Object(c.a)(a,2),l=i[0],s=i[1],d=t.length>0&&l.length===t.length;return Object(P.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(P.jsxs)(D.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",multiple:!0,value:l,onChange:function(e){var o=[],r=[];t.map((function(e){o.push(e.content),r.push(e._id)}));var a=e.target.value,i=e.currentTarget.getAttribute("_id");if("all"===a[a.length-1])return s(l.length===t.length?[]:o),void n(l.length===t.length?[]:r);s(a),n(i)},renderValue:function(e){return Object(P.jsx)(N.a,{className:"".concat(r.menuText),children:0===e.length?"\u5e74\u5ea6":e.join(", ")})},displayEmpty:!0,IconComponent:E.a,className:r.selectRoot,variant:"outlined",MenuProps:{classes:{paper:r.menu},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[Object(P.jsxs)(L.a,{value:"all",classes:{root:d?r.selectedAll:""},children:[Object(P.jsx)(en.a,{disableRipple:!0,style:{color:"rgba(212, 45, 48, 1)",padding:0,minHeight:0,minWidth:0,marginRight:10},classes:{indeterminate:r.indeterminateColor},checked:d,indeterminate:l.length>0&&l.length<t.length}),Object(P.jsx)(N.a,{className:"".concat(r.menuText),children:"\u5168\u9078"})]}),t.map((function(e){return Object(P.jsxs)(L.a,{_id:e._id,classes:{root:r.selectedAll},value:e.content,children:[console.log(e),Object(P.jsx)(en.a,{style:{color:"rgba(212, 45, 48, 1)",padding:0,minHeight:0,minWidth:0,marginRight:10},checked:l.indexOf(e.content)>-1}),Object(P.jsx)(N.a,{className:"".concat(r.menuText),children:e.content})]})}))]})})},on=Object(l.a)((function(e){return{root:{height:"100%"},titleText:{fontWeight:900,fontSize:"18px"},titleTextCustomized:{padding:"20px 17px 0px 17px"},chooseTopicTextCustomized:{padding:0},navigateBefore:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:14,padding:0,"&:hover":{backgroundColor:"transparent",boxShadow:"none"}},previewButton:{display:"flex",flexDirection:"row",alignItems:"center",width:76,height:28,marginRight:14,marginTop:19,padding:0,backgroundColor:"rgba(196, 196, 196, 1)","&:hover":{backgroundColor:"rgba(196, 196, 196, 1)",boxShadow:"none"},borderRadius:2},previewText:{fontSize:12,fontWeight:400,color:"rgba(151, 151, 151, 1)"},bottomRoot:{marginTop:15,backgroundColor:"white",borderRadius:"8px",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},inquiryRoot:{padding:16,borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)",marginTop:16},selectText:{fontWeight:400,fontSize:"12px",marginTop:16,color:"rgba(117,117,117,1)"},haventChoosedText:{fontWeight:400,fontSize:"12px",padding:"21px 0px 17px 17px",color:"rgba(117,117,117,1)"}}}));var rn=function(){var e=on(),t=Object(o.useState)([]),n=Object(c.a)(t,2),r=n[0],a=n[1],i=Object(o.useState)([]),l=Object(c.a)(i,2),s=l[0],d=l[1],u=Object(o.useState)(0),p=Object(c.a)(u,2),g=p[0],f=p[1],j=Object(o.useState)(0),O=Object(c.a)(j,2),v=O[0],y=O[1],C=Object(o.useState)(!1),T=Object(c.a)(C,2),k=T[0],I=T[1],A=Object(o.useState)([[],[]]),L=Object(c.a)(A,2),D=L[0],z=L[1],E=Object(o.useState)([]),M=Object(c.a)(E,2),W=M[0],B=M[1],F=Object(o.useState)("allChoose"),H=Object(c.a)(F,2),Y=H[0],_=H[1],J=Object(o.useContext)(m),q=J.topicLabelState;J.topicLabelDispatch,J.isLoading,J.isLoadingDispatch,Object(o.useEffect)((function(){var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V("topic"),V("year"),V("grade")]);case 2:t=e.sent,console.log("data",t),z(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var U,K=function(){var e=Object(S.a)(Object(w.a)().mark((function e(t){var n,o;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onClick topicLabelState",q),n={topicLabel:q[q.length-1]?q[q.length-1]:"",yearLabel:t.yearLabel},e.next=4,G(n);case 4:o=e.sent,d(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e,t){console.log("eee",e,t);var n=r;if(t)n=n.filter((function(t){return t!==e})),a(n);else{if(r.find((function(t){return t===e})))return console.log("repeat"),null;n=n.concat(e),a(n)}},X=Object(b.g)();return Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsxs)(h.a,{className:e.navigateBefore,disableRipple:!0,onClick:function(){X.goBack()},children:[Object(P.jsx)(je.a,{size:20}),Object(P.jsx)(N.a,{className:"".concat(e.titleText),children:R.backpage})]}),Object(P.jsxs)("div",{className:e.bottomRoot,children:[Object(P.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)(N.a,{className:"".concat(e.titleText," ").concat(e.titleTextCustomized),children:R.choosedTopic}),Object(P.jsx)(qt,{content:R.previewTopic,disabled:0===r.length,onClick:function(){return I(!0)}})]}),Object(P.jsx)(Wt,{value:g,handleChange:function(e,t){console.log("newValue",t),f(t)}}),function(t){var n=t?t.map((function(e){r.find((function(t){return t===e}));if(parseInt(e.type)===g)return Object(P.jsx)(Gt,Object(x.a)(Object(x.a)({},e),{},{handleChoose:function(){Q(e,!0)},propsChecked:!0}))})):null,o=Object(P.jsx)(N.a,{className:"".concat(e.haventChoosedText),children:R.haventChoosed});return(n=n.filter((function(e){return void 0!==e}))).length?n:o}(r)]}),Object(P.jsxs)("div",{className:e.inquiryRoot,children:[Object(P.jsx)(N.a,{className:"".concat(e.titleText," ").concat(e.chooseTopicTextCustomized),children:R.chooseTopic}),Object(P.jsx)(N.a,{className:e.selectText,children:R.choostYear}),console.log("labelData[1]",D[1]),Object(P.jsx)(nn,{allChoose:!0,defaultValue:"\u5168\u9078",data:D[1],yearLabel:Y,setYearLabel:_}),Object(P.jsx)(N.a,{className:e.selectText,children:R.choostAddTopicCategory}),Object(P.jsx)(ne,{defaultValue:R.choostAddTopicCategoryButton[0],data:D[0],index:0,topicLabel:W,setTopicLabel:B}),Object(P.jsx)(re,{content:R.inquiry,onClick:function(){K({yearLabel:Y,topicLabel:W})}})]}),Object(P.jsxs)("div",{className:e.bottomRoot,children:[Object(P.jsx)(Wt,{value:v,handleChange:function(e,t){console.log("newValue",t),y(t)}}),(U=s,U?U.map((function(e){return r.find((function(t){return JSON.stringify(t)===JSON.stringify(e)}))?(console.log("repeat"),null):parseInt(e.type)===v?Object(P.jsx)(Gt,Object(x.a)(Object(x.a)({},e),{},{handleChoose:function(){Q(e,!1)},propsChecked:!1})):void 0})):null)]}),Object(P.jsx)($t,{choosedTopicData:r,open:k,setOpen:I,yearLabelData:D[1]})]})},an=Object(l.a)((function(e){return{root:{borderBottom:"1px solid rgba(196, 196, 196, 1)",alignItems:"center",justifyContent:"center"},indicator:{backgroundColor:"rgba(212,45,48,1)"},tabRoot:{minWidth:80,color:"rgba(117,117,117,1)",fontSize:"14px","&.Mui-selected":{color:"rgba(212,45,48,1)"}}}})),cn=function(e){var t=e.value,n=e.handleChange,o=an(),r=(Object(b.g)(),Object(b.j)()),a=(r.url,r.path,["topic","answerDetail","topicAndAnswerDetail"]);return Object(P.jsx)(Me.a,{className:o.root,classes:{indicator:o.indicator},value:t,indicatorColor:"primary",textColor:"primary",onChange:n,"aria-label":"disabled tabs example",children:a.map((function(e){return Object(P.jsx)(Pe.a,{disableRipple:!0,className:o.tabRoot,label:R[e]})}))})},ln=n(85),sn=(ln.d.create({page:{flexDirection:"row",backgroundColor:"#E4E4E4",flex:1},section:{margin:10,padding:10,flexGrow:1}}),n(219),n(266),n(332)),dn=n.n(sn),un=(n(603),n(333)),bn=n.n(un),pn=n(334),gn=n.n(pn);bn.a.vfs=gn.a.pdfMake.vfs;var hn=1.3,fn=(n(604),Object(l.a)((function(e){return{root:{height:"100%"},titleText:{fontWeight:900,fontSize:"18px"},titleTextCustomized:{padding:"20px 17px 0px 17px"},chooseTopicTextCustomized:{padding:0},navigateBefore:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:14,padding:0,"&:hover":{backgroundColor:"transparent",boxShadow:"none"}},previewButton:{display:"flex",flexDirection:"row",alignItems:"center",width:76,height:28,marginRight:14,marginTop:19,padding:0,backgroundColor:"rgba(196, 196, 196, 1)","&:hover":{backgroundColor:"rgba(196, 196, 196, 1)",boxShadow:"none"},borderRadius:2},previewText:{fontSize:12,fontWeight:400,color:"rgba(151, 151, 151, 1)"},bottomRoot:{marginTop:15,backgroundColor:"white",borderRadius:"8px",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)"},inquiryRoot:{padding:16,borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)",marginTop:16},selectText:{fontWeight:400,fontSize:"12px",marginTop:16,color:"rgba(117,117,117,1)"},haventChoosedText:{fontWeight:400,fontSize:"12px",padding:"21px 0px 17px 17px",color:"rgba(117,117,117,1)"}}}))),jn=function(e){var t=e.e,n=e.index,r=(e.numberList,e.type,e.count,e.startIndex);Object(o.useEffect)((function(){}),[]);var a=Object(o.useState)(0),i=Object(c.a)(a,2),l=(i[0],i[1]),s=Object(o.useState)(0),d=Object(c.a)(s,2),u=(d[0],d[1]),b=Object(o.useCallback)((function(e){if(null!==e){console.log("indexNode",e.getBoundingClientRect()),console.log("indexPositionY",e.getBoundingClientRect().y);var t=e.getBoundingClientRect().y;l(t)}}),[]),p=Object(o.useCallback)((function(e){if(null!==e){for(var t=0;t<e.children.length;t++)e.children[t].style.margin=0;console.log("TopicNode",e.firstChild.getBoundingClientRect()),console.log("TopicPositionY",e.firstChild.getBoundingClientRect().y);var n=e.firstChild.getBoundingClientRect().y;u(n)}}),[]);return Object(P.jsx)("div",{style:{bottom:"-3.394em"},children:Object(P.jsxs)("div",{id:t._id,style:{fontSize:14.3,flexDirection:"row",display:"flex",paddingTop:"3.394em",paddingRight:10,lineHeight:"20px",fontFamily:"ArphicHeitiLight"},children:[Object(P.jsx)("div",{children:Object(P.jsxs)("p",{style:{margin:0},ref:b,id:t._id+"index",children:[r+n,".","\xa0"]})}),console.log("html",t.content),Object(P.jsx)("div",{style:{},ref:p,dangerouslySetInnerHTML:{__html:t.content}})]})})};var xn,On=function(){var e=fn(),t=Object(o.useState)([]),n=Object(c.a)(t,2),r=(n[0],n[1],Object(o.useState)([])),a=Object(c.a)(r,2),i=(a[0],a[1],Object(o.useState)(0)),l=Object(c.a)(i,2),s=l[0],d=l[1],u=Object(o.useState)(0),p=Object(c.a)(u,2),g=(p[0],p[1],Object(o.useState)(null)),f=Object(c.a)(g,2),j=(f[0],f[1],Object(o.useState)(1)),x=Object(c.a)(j,2);x[0],x[1];var O=Object(o.useState)([]),v=Object(c.a)(O,2),y=(v[0],v[1]),C=Object(o.useState)([]),T=Object(c.a)(C,2),k=(T[0],T[1],Object(o.useState)("")),I=Object(c.a)(k,2),A=(I[0],I[1],Object(o.useContext)(m)),L=(A.topicLabelState,A.topicLabelDispatch,A.isLoading,A.isLoadingDispatch,Object(b.h)());console.log("location.state",L.state),Object(o.useEffect)((function(){var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V("topic"),V("year"),V("grade")]);case 2:t=e.sent,console.log("data",t),y(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var D=function(e,t,n,o){var r=["\u4e00","\u4e8c","\u4e09"],a=[],i=[(L.state.singlePropotion/L.state.singleCount).toFixed(1),(L.state.multiplePropotion/L.state.multipleCount).toFixed(1),(L.state.fillPropotion/L.state.fillCount).toFixed(1)];i=i.filter((function(e){return"NaN"!==e})),console.log("propotionArray",i);var c=L.state.data.filter((function(e){return"0"===e.type})),l=L.state.data.filter((function(e){return"1"===e.type})),s=0;s+=c.length,s+=l.length;"\u9031\u8003"!==Y&&a.push(Object(P.jsxs)("div",{style:{lineHeight:"50px",fontSize:19.5,fontFamily:"ArphicHeitiBold"},id:r[t],children:[r[t],".",n,":","\u6bcf\u984c",i[t],"\u5206"]}));var d=["\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468","\u2469","\u246a","\u246b","\u246c","\u246d","\u246e","\u246f","\u2470","\u2471","\u2472","\u2473","\u3251","\u3252","\u3253","\u3254","\u3255","\u3256","\u3257","\u3258","\u3259","\u325a","\u325b","\u325c","\u325d","\u325e","\u325f","\u32b1","\u32b2","\u32b3","\u32b4","\u32b5","\u32b6","\u32b7","\u32b8","\u32b9","\u32ba","\u32bb","\u32bc","\u32bd","\u32be","\u32bf"];return JSON.parse(JSON.stringify(e)).map((function(e,t){if("\u9078\u586b\u984c"===n){for(var r=0;r<e.content.length;r++){var i=e.content.charAt(r),c=function(e){return e===i};if(-1!==d.findIndex(c)){var l=d[s+d.findIndex(c)+5];e.content=e.content.replace(i,l)}}for(r=0;r<e.content.length;r++){i=e.content.charAt(r);var u=function(e){return e===i};if(-1!==d.findIndex(u)){var b=d[d.findIndex(u)-5];e.content=e.content.replace(i,b)}}s+=e.answer.length}a.push(Object(P.jsx)(jn,{startIndex:o,e:e,index:t,numberList:d,type:n,count:s}))})),a},z=function(e,t,n,o,r){var a=["\u4e00","\u4e8c","\u4e09"],i=[(L.state.singlePropotion/L.state.singleCount).toFixed(1),(L.state.multiplePropotion/L.state.multipleCount).toFixed(1),(L.state.fillPropotion/L.state.fillCount).toFixed(1)];i=i.filter((function(e){return"NaN"!==e})),console.log("propotionArray",i);var c=[];return"\u9031\u8003"!==Y&&c.push(Object(P.jsxs)("div",{style:{fontSize:13*hn,paddingTop:20,fontFamily:"ArphicHeitiBold"},id:a[t],children:[a[t],".",n,":","\u6bcf\u984c",i[t],"\u5206"]})),c.push(e.map((function(e,t){return Object(P.jsxs)("div",{id:e._id+"answer",style:{fontSize:9*hn,flexDirection:"row",display:"flex",fontFamily:"ArphicHeitiLight",paddingTop:"3.394em",paddingRight:10,lineHeight:"18px"},children:[Object(P.jsx)("div",{style:{margin:0},children:Object(P.jsxs)("p",{children:[o+t,".","\xa0"]})}),Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:e.answerDetail}})]})}))),c},E=function(e,t){e.sort((function(e,t){return parseInt(e.type)-parseInt(t.type)}));var n=L.state,o=n.year,r=n.unitname,a=n.paperType,i=n.studentName,c=e.filter((function(e){return"0"===e.type})),l=e.filter((function(e){return"1"===e.type})),s=e.filter((function(e){return"2"===e.type})),d=[];d.push(Object(P.jsx)("div",{id:"mathTitle",style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:45.5,fontFamily:"ChaoYanZeTeMaoKai",paddingTop:30},children:"\u738b \u8000 \u9ad8 \u4e2d \u6578 \u5b78"})),d.push(Object(P.jsx)("div",{id:"mathTitle",style:{paddingTop:30,display:"flex",justifyContent:"center",alignItems:"center",fontSize:27.3,fontFamily:"ChaoYanZeTeMaoKai"},children:o+" "+i+(i?"\u7684":"")+a})),d.push(Object(P.jsx)("div",{id:"mathTitle",style:{paddingTop:30,display:"flex",fontSize:19.5,fontFamily:"ArphicHeitiBold"},children:"\u7bc4\u570d:"+r}));var u=0,b=1;return c.length&&(d.push(D(c,u,"\u55ae\u9078\u984c",b)),u+=1,b+=c.length),l.length&&(d.push(D(l,u,"\u591a\u9078\u984c",b)),u+=1,b+=l.length),s.length&&d.push(D(s,u,"\u9078\u586b\u984c",b)),d},M=function(e,t){e.sort((function(e,t){return parseInt(e.type)-parseInt(t.type)}));var n=L.state,o=n.year,r=n.unitname,a=n.studentName,i=n.paperType,c=e.filter((function(e){return"0"===e.type})),l=e.filter((function(e){return"1"===e.type})),s=e.filter((function(e){return"2"===e.type})),d=[];d.push(Object(P.jsx)("div",{id:"mathTitle",style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:42.9,fontFamily:"ChaoYanZeTeMaoKai",paddingTop:30},children:"\u738b \u8000 \u9ad8 \u4e2d \u6578 \u5b78"})),d.push(Object(P.jsx)("div",{id:"mathTitle",style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:24.7,fontFamily:"ChaoYanZeTeMaoKai",paddingTop:30},children:o+" "+a+(a?"\u7684":"")+i+"\u89e3\u6790"})),d.push(Object(P.jsx)("div",{id:"mathTitle",style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:13*hn,fontFamily:"ArphicHeitiBold",paddingTop:30},children:"\u7bc4\u570d:"+r}));var u=0,b=1;return c.length&&(d.push(z(c,u,"\u55ae\u9078\u984c",b)),u+=1,b+=c.length),l.length&&(d.push(z(l,u,"\u591a\u9078\u984c",b)),u+=1,b+=l.length),s.length&&d.push(z(s,u,"\u9078\u586b\u984c",b)),d},W=Object(b.g)();if(void 0===L.state)return Object(P.jsx)(b.a,{to:"/"});var B=L.state,F=B.year,H=B.unitname,Y=B.paperType,_=B.studentName;return Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsxs)(h.a,{className:e.navigateBefore,disableRipple:!0,onClick:function(){W.goBack()},children:[Object(P.jsx)(je.a,{size:20}),Object(P.jsx)(N.a,{className:"".concat(e.titleText),children:R.backpage})]}),Object(P.jsxs)("div",{className:e.bottomRoot,children:[Object(P.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)(N.a,{className:"".concat(e.titleText," ").concat(e.titleTextCustomized),children:R.previewTopic}),Object(P.jsx)(qt,{content:R.downloadTopic,onClick:Object(S.a)(Object(w.a)().mark((function e(){var t,n,o,r,a,i;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(document.getElementById("element-to-print-topic").querySelectorAll("svg").forEach((function(e){console.log("item",e),e.setAttribute("width",e.getBoundingClientRect().width),e.setAttribute("height",e.getBoundingClientRect().height),e.style.width=null,e.style.height=null})),document.getElementById("element-to-print-topicAnswer").querySelectorAll("svg").forEach((function(e){console.log("item",e),e.setAttribute("width",e.getBoundingClientRect().width),e.setAttribute("height",e.getBoundingClientRect().height),e.style.width=null,e.style.height=null})),t=document.getElementById("element-to-print-topic").innerHTML,n=document.getElementById("element-to-print-topicAnswer").innerHTML,o=[],t&&o.push(t),n&&o.push(n),r={margin:[13,13,13,13],filename:F+" "+_+"\u7684"+Y+"-"+H+"-"+["\u984c\u76ee","\u7b54\u6848\u8a73\u89e3","\u984c\u76ee\u8207\u7b54\u6848\u8a73\u89e3"][s]+".pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,scrollX:0,scrollY:0},pagebreak:{mode:["avoid-all"]},jsPDF:{format:"b5",orientation:"portrait"}},a=dn()().set(r).from(o[0]).toPdf(),i=1;i<o.length;i++)a=a.get("pdf").then((function(e){e.addPage()})).from(o[i]).toContainer().toCanvas().toImg().toPdf();a.save();case 14:case"end":return e.stop()}}),e)})))})]}),Object(P.jsx)(cn,{value:s,handleChange:function(e,t){console.log("newValue",t),d(t)}}),Object(P.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(P.jsxs)("div",{style:{backgroundColor:"white",width:"162.69mm",marginBottom:"-2em"},children:[0===s&&E(L.state.data),1===s&&M(L.state.data),2===s&&E(L.state.data),2===s&&M(L.state.data)]})}),Object(P.jsxs)("div",{id:"element-to-print",style:{visibility:"hidden"},children:[Object(P.jsxs)("div",{id:"element-to-print-topic",children:[0===s&&E(L.state.data),2===s&&E(L.state.data)]}),Object(P.jsxs)("div",{id:"element-to-print-topicAnswer",children:[1===s&&M(L.state.data),2===s&&M(L.state.data)]})]})]})]})},mn=["title","titleId"];function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},vn.apply(this,arguments)}function yn(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cn(e,t){var n=e.title,r=e.titleId,a=yn(e,mn);return o.createElement("svg",vn({width:15,height:17,viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,xn||(xn=o.createElement("path",{d:"M4.87012 4.75H10.0264M4.87012 12.25H10.0264M4.87012 8.5H9.08887M12.3701 1H2.05762C1.53985 1 1.12012 1.41973 1.12012 1.9375V15.0625C1.12012 15.5803 1.53985 16 2.05762 16H12.3701C12.8879 16 13.3076 15.5803 13.3076 15.0625V1.9375C13.3076 1.41973 12.8879 1 12.3701 1Z",stroke:"#C2C9D1",strokeWidth:1.875,strokeLinecap:"round",strokeLinejoin:"round"})))}var wn=o.forwardRef(Cn),Sn=(n.p,Object(T.a)((function(e){return{root:{margin:0,fontWeight:900,color:"rgba(26, 26, 26, 1)",fontSize:18}}}))(I.a)),Tn=Object(T.a)((function(e){return{root:{margin:"0px 0px 0px 0px",fontWeight:400,color:"rgba(117, 117, 117, 1)",fontSize:12}}}))(I.a),kn=Object(T.a)((function(e){return{root:{margin:"0px 0px 0px 0px",padding:"0px 8px"}}}))(A.a),In=Object(l.a)((function(){return{paper:{minWidth:"500px"},button:{padding:0,width:95,height:32,fontWeight:500,borderRadius:2,color:"rgba(212, 45, 48, 1)",border:"1px solid rgba(212, 45, 48, 1)",fontSize:12,"&:hover":{backgroundColor:"white",boxShadow:"none"}},buttonDelete:{color:"white",backgroundColor:"rgba(212, 45, 48, 1)","&:hover":{backgroundColor:"rgba(212, 45, 48, 1)",boxShadow:"none"}},textField:{height:48,flex:1,"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"},"& .MuiInput-underline:hover:before":{borderWidth:0},"& .MuiInput-underline:hover:after":{borderWidth:0},"& .MuiInput-underline:after":{borderWidth:0},"& .MuiInput-underline:before":{borderWidth:0},"& .MuiInputBase-input ":{height:48,padding:0}},placeholder:{fontSize:12,color:"rgba(26, 26, 26, 1)",fontWeight:400,textDecoration:null},root:{height:48,border:"1px solid rgba(225,225,225,1)",display:"flex",alignItems:"center",padding:"0px 0px 0px 12px",marginTop:8,borderRadius:2},false:{border:"1px solid rgba(212, 45, 48, 1)"}}})),An=r.a.forwardRef((function(e,t){var n=e.open,r=e.setOpen,a=e.paperInformation,i=e.faultFetchingData,l=e.studentName,s=a.paperType,d=a.unitname,u=a.year;console.log("paperInformation",a);var p=Object(o.useState)(""),g=Object(c.a)(p,2),f=g[0],j=g[1],x=Object(o.useState)(""),O=Object(c.a)(x,2),m=O[0],v=O[1],y=Object(o.useState)(""),C=Object(c.a)(y,2),T=C[0],I=C[1],A=Object(o.useState)(""),L=Object(c.a)(A,2),N=L[0],D=L[1],z=Object(o.useState)(""),E=Object(c.a)(z,2),M=E[0],F=E[1],H=Object(o.useState)(""),V=Object(c.a)(H,2),Y=V[0],_=V[1],G=Object(o.useState)(""),q=Object(c.a)(G,2),U=q[0],K=q[1],Q=In(),X=function(){console.log("close"),r(!1)},Z=Object(o.useState)([]),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ne=Object(o.useState)([]),oe=Object(c.a)(ne,2),re=oe[0],ae=oe[1],ie=Object(o.useState)([]),ce=Object(c.a)(ie,2),le=ce[0],se=ce[1];Object(o.useEffect)((function(){var e=i.filter((function(e){return"0"===e.type})),t=i.filter((function(e){return"1"===e.type})),n=i.filter((function(e){return"2"===e.type})),o=[];e.map((function(e,t){o.push({content:t+1})})),te(o),o=[],t.map((function(e,t){o.push({content:t+1})})),ae(o),o=[],n.map((function(e,t){o.push({content:t+1})})),se(o)}),[i]),console.log("fillOption",le);var de=Object(o.useState)(!0),ue=Object(c.a)(de,2),be=ue[0],pe=ue[1],ge=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t,n,o,r,a,c,b,p,g,h,j,x,O,v,y,C,S,k,I,A;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(N);case 2:if(t=e.sent,console.log("isPaper",t),0===t.length){e.next=8;break}return pe(!1),setTimeout((function(){return pe(!0)}),1e3),e.abrupt("return");case 8:n=i.filter((function(e){return"0"===e.type})),o=i.filter((function(e){return"1"===e.type})),r=i.filter((function(e){return"2"===e.type})),a=n.sort((function(){return.5-Math.random()})),c=a.slice(0,M),b=o.sort((function(){return.5-Math.random()})),p=b.slice(0,Y),g=r.sort((function(){return.5-Math.random()})),h=g.slice(0,U),j=i.sort((function(e,t){return parseInt(e.type)-parseInt(t.type)})),x="",c.map((function(e){var t=e.answer.length;"1"===e.type?(e.answer.map((function(e){x+=e})),x+=" ".repeat(12-t)):e.answer.map((function(e){x+=e,x+=" ".repeat(11)}))})),p.map((function(e){var t=e.answer.length;"1"===e.type?(e.answer.map((function(e){x+=e})),x+=" ".repeat(12-t)):e.answer.map((function(e){x+=e,x+=" ".repeat(11)}))})),h.map((function(e){var t=e.answer.length;"1"===e.type?(e.answer.map((function(e){x+=e})),x+=" ".repeat(12-t)):e.answer.map((function(e){x+=e,x+=" ".repeat(11)}))})),O=function(){var e=0===n.length||f.length,t=0===o.length||m.length,a=0===r.length||T.length;return e&&t&&a},j.length&&s.length&&u.length&&d.length&&O()&&N.length&&x.trim().length,X(),v=[],y=[],c.map((function(e){v.push("1"),y.push(e._id)})),p.map((function(e){v.push("1"),y.push(e._id)})),h.map((function(e){v.push(e.answer.length),y.push(e._id)})),C=parseFloat(f||"0")+parseFloat(m||"0")+parseFloat(T||"0"),S=parseFloat(f||"0")/C,k=parseFloat(m||"0")/C,I=parseFloat(T||"0")/C,A={paperType:"\u5c08\u7528\u8a66\u5377",year:u,studentName:l,unitname:d,number:N,content:x.trim(),singleCount:c.length,multipleCount:p.length,fillCount:h.length,singlePropotion:(100*S).toFixed(1),multiplePropotion:(100*k).toFixed(1),fillPropotion:(100*I).toFixed(1),answerLengthArray:v,topicList:y},J(A),je.push({pathname:"preview",state:{data:c.concat(p,h),paperType:"\u5c08\u7528\u8a66\u5377",year:u,studentName:l,unitname:d,singleCount:c.length,multipleCount:p.length,fillCount:h.length,singlePropotion:(100*S).toFixed(1),multiplePropotion:(100*k).toFixed(1),fillPropotion:(100*I).toFixed(1)}});case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=Object(o.useState)(""),fe=Object(c.a)(he,2),je=(fe[0],fe[1],Object(b.g)());return console.log("faultFetchingData",i),Object(P.jsxs)(k.a,{onClose:X,open:n,PaperProps:{style:{width:290,borderRadius:2,border:"1px solid rgba(225, 225, 225, 1)",boxShadow:"none",padding:15}},children:[Object(P.jsx)(Sn,{children:R.chooseTopicNumber}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsxs)("div",{style:{flex:1},children:[Object(P.jsx)(Tn,{children:R.singleTopic}),Object(P.jsx)(W,{defaultValue:R.topicNumber,menuData:ee,setContent:F})]}),Object(P.jsxs)("div",{style:{flex:1},children:[Object(P.jsx)(Tn,{children:R.singleAllocation}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{disabled:!M,type:"number",value:f,onChange:function(e){j(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPropotion,inputProps:{inputmode:"numeric",pattern:"[0-9]*"}})})]})]}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsxs)("div",{style:{flex:1},children:[Object(P.jsx)(Tn,{children:R.multipleTopic}),Object(P.jsx)(W,{defaultValue:R.topicNumber,menuData:re,setContent:_})]}),Object(P.jsxs)("div",{style:{flex:1},children:[Object(P.jsx)(Tn,{children:R.multipleAllocation}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{disabled:!Y,type:"number",value:m,onChange:function(e){v(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPropotion,inputProps:{inputmode:"numeric",pattern:"[0-9]*"}})})]})]}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsxs)("div",{style:{flex:1},children:[Object(P.jsx)(Tn,{children:R.fillTopic}),Object(P.jsx)(W,{defaultValue:R.topicNumber,menuData:le,setContent:K})]}),Object(P.jsxs)("div",{style:{flex:1},children:[Object(P.jsx)(Tn,{children:R.fillAllocation}),Object(P.jsx)("div",{className:Q.root,children:Object(P.jsx)(B.a,{disabled:!U,type:"number",value:T,onChange:function(e){I(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPropotion,inputProps:{inputmode:"numeric",pattern:"[0-9]*"}})})]})]}),Object(P.jsx)("div",{className:be?"".concat(Q.root):"".concat(Q.root," ").concat(Q.false),children:Object(P.jsx)(B.a,{value:N,onChange:function(e){D(e.target.value)},InputProps:{classes:{input:Q.placeholder}},className:Q.textField,placeholder:R.enterPaperNumber})}),Object(P.jsx)(Tn,{style:{color:"rgba(212, 45, 48, 1)",marginTop:5,fontSize:9,height:33},children:!be&&R.repeatAnswerNumber}),Object(P.jsxs)(kn,{children:[Object(P.jsx)(h.a,{className:Q.button,onClick:X,children:R.cancel}),Object(P.jsx)(h.a,{className:"".concat(Q.button," ").concat(Q.buttonDelete),onClick:ge,children:R.previewPaper})]})]})})),Rn=An,Ln=Object(l.a)((function(e){return{root:{height:"100%"},gradeRoot:{padding:16,borderRadius:"8px",backgroundColor:"white",justifyContent:"center",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.24)",marginTop:23},titleText:{fontWeight:600,fontSize:"18px",fontFamily:"Open Sans"},navigateBefore:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:10,padding:0,"&:hover":{backgroundColor:"transparent",boxShadow:"none"}},tableRoot:{marginTop:17,border:"1px solid rgba(240,240,240,1)",borderRadius:"8px"},categoryText:{width:100,fontWeight:600,fontSize:"12px",fontFamily:"Open Sans",marginTop:22,marginLeft:16,marginBottom:10},itemText:{width:100,fontWeight:400,fontSize:"12px",fontFamily:"Open Sans",marginLeft:16},labelItem:{marginLeft:16,height:19,padding:"1px 15px",borderRadius:10,backgroundColor:"rgba(249, 240, 240, 1)"},labelText:{fontWeight:400,fontSize:"12px",fontFamily:"Open Sans",color:"rgba(167, 95, 95, 1)"},boxRoot:{display:"flex",alignItems:"center",height:48,borderTop:"1px solid rgba(240,240,240,1)","&:hover":{backgroundColor:"rgba(250,250,250, 1)"}}}})),Nn=function(e){var t=Ln(),n=e.content;return Object(P.jsx)("div",{className:t.labelItem,children:Object(P.jsx)(N.a,{className:"".concat(t.labelText),children:n})})},Dn=function(e){var t=Ln(),n=e.name,r=e.score,a=e.fault,i=(e.open,e.setOpen),l=e.setFaultFetchingData,s=e.setStudentName;console.log("scorebox",e);var d=Object(o.useState)(!1),u=Object(c.a)(d,2),b=u[0],p=u[1];return Object(o.useEffect)((function(){console.log("fault",a)}),[]),Object(P.jsxs)("div",{onClick:function(){var e=function(){var e=Object(S.a)(Object(w.a)().mark((function e(){var t;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fault",a),e.next=3,o={topicLabel:a},console.log("body",o),fetch(F+"topic/labelInquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: ",e)}));case 3:t=e.sent,console.log("fetchingData",t),l(t),s(n),i(!0);case 8:case"end":return e.stop()}var o}),e)})));return function(){return e.apply(this,arguments)}}();e()},className:t.boxRoot,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[Object(P.jsx)(N.a,{className:"".concat(t.itemText),children:n}),Object(P.jsx)(N.a,{className:"".concat(t.itemText),children:r.toFixed(0)}),a.map((function(e){return Object(P.jsx)(Nn,Object(x.a)({},e))})),Object(P.jsx)("div",{style:{display:"flex",flex:1,justifyContent:"flex-end",paddingRight:25},children:b&&Object(P.jsx)(wn,{})})]})},zn=function(){var e=Ln(),t=Object(b.h)(),n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],l=Object(o.useState)([]),s=Object(c.a)(l,2),d=s[0],u=s[1],p=Object(o.useState)(""),g=Object(c.a)(p,2),f=g[0],j=g[1],x=Object(b.g)();if(void 0===t.state)return Object(P.jsx)(b.a,{to:"/"});var O=t.state,m=O.uploadData,v=O.paperNumber,y=O.paperInformation;console.log("paperInformation",y);var C=m[0].findIndex((function(e){return"NAME"===e})),w=m[0].findIndex((function(e){return"SCORE"===e})),S=m[0].findIndex((function(e){return"FAULT LABEL"===e}));console.log("location.state",t.state);return Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsxs)(h.a,{className:e.navigateBefore,disableRipple:!0,onClick:function(){x.goBack()},children:[Object(P.jsx)(je.a,{size:20}),Object(P.jsx)(N.a,{className:"".concat(e.titleText),children:R.backpage})]}),Object(P.jsxs)("div",{className:e.gradeRoot,children:[Object(P.jsxs)(N.a,{className:"".concat(e.titleText),children:[R.answerNumber,": ",v]}),Object(P.jsxs)("div",{className:e.tableRoot,children:[Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)(N.a,{className:"".concat(e.categoryText),children:R.studentName}),Object(P.jsx)(N.a,{className:"".concat(e.categoryText),children:R.score}),Object(P.jsx)(N.a,{className:"".concat(e.categoryText),children:R.faultType})]}),function(e,t){return console.log("renderUploadData",m),m.map((function(n,o){var r=n[C]&&n[w]&&n[S];return 0!==o&&r?Object(P.jsx)(Dn,{open:e,setFaultFetchingData:u,setOpen:t,setStudentName:j,name:n[C],score:n[w],fault:n[S]}):void 0}))}(a,i)]})]}),Object(P.jsx)(Rn,{open:a,studentName:f,setOpen:i,faultFetchingData:d,paperInformation:y})]})},En=n(52);n(6);var Pn=Object(l.a)((function(e){return{root:{display:"flex",flexFlow:"column",height:"100vh"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,justifyContent:"flex-end"},app:{backgroundColor:"rgba(247, 246, 246, 1)",flex:"1 1 auto",padding:"16px 12px 16px 12px"}}})),Mn=Object(s.a)({typography:{fontFamily:["Source Sans Pro"].join(","),button:{textTransform:"none"}}});var Wn=function(){var e=Pn(),t=Object(o.useReducer)(v,O.isLoading),n=Object(c.a)(t,2),r=n[0],a=n[1],i=Object(o.useReducer)(y,O.isLogin),l=Object(c.a)(i,2),s=l[0],p=l[1],g=Object(o.useReducer)(C,O.topicLabel),h=Object(c.a)(g,2),f=h[0],j=h[1];console.log("isLoadingState",r),console.log("isLoginState",s),console.log("topicLabelState",f);var x=Object(o.useRef)(),w=(Object(En.a)(),window.localStorage);console.log("window.localStorage",window.localStorage);var S=w.login;return console.log("login",S),console.log("typeOf",typeof S),Object(P.jsx)(m.Provider,{value:{isLoading:r.isLoading,isLogin:s.isLogin,topicLabelState:f,isLoadingDispatch:a,isLoginDispatch:p,topicLabelDispatch:j},children:Object(P.jsxs)(d.a,{theme:Mn,children:[console.log("process.env.PUBLIC_URL","/MathQuestionSite"),Object(P.jsx)(u.a,{children:Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsx)(ee,{}),Object(P.jsx)("div",{className:e.app,children:Object(P.jsxs)(b.d,{children:[Object(P.jsx)(b.b,{exact:!0,path:"/",children:Object(P.jsx)(Pt,{})}),Object(P.jsx)(b.b,{path:"/question",children:Object(P.jsx)(rn,{})}),Object(P.jsx)(b.b,{path:"/score",children:Object(P.jsx)(zn,{})}),Object(P.jsx)(b.b,{path:"/preview",children:Object(P.jsx)(On,{})}),Object(P.jsx)(b.b,{path:"/editTopic",children:"true"===S?Object(P.jsx)(Xe,{}):Object(P.jsx)(b.a,{to:"/"})}),Object(P.jsx)(b.b,{path:"/addTopic",children:"true"===S?Object(P.jsx)(Le,{}):Object(P.jsx)(b.a,{to:"/"})}),Object(P.jsx)(b.b,{path:"/labelManagement",children:"true"===S?Object(P.jsx)(Tt,{}):Object(P.jsx)(b.a,{to:"/"})}),Object(P.jsx)(b.b,{children:Object(P.jsx)(b.a,{to:"/"})})]})})]})}),Object(P.jsx)(yt,{ref:x})]})})},Bn=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,837)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),o(e),r(e),a(e),i(e)}))};i.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(Wn,{})}),document.getElementById("root")),Bn()}},[[605,1,2]]]);
//# sourceMappingURL=main.f5b23dd1.chunk.js.map